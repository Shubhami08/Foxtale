<!-- sections/discount-section.liquid -->
{{ 'section.css' | asset_url | stylesheet_tag }}
<script src="https://cdn.jsdelivr.net/clipboard.js/1.5.12/clipboard.min.js"></script>
<link href="{{ 'loading.css' | asset_url }}" rel="stylesheet" media="print" onload="this.media='all'">

<style>
.column {
  float: left;
  width: 25%;
  padding: 0 10px;
}
.terms-list p.terms-heading {
    margin-bottom: 10px !important;
  
}
.row {margin: 0 -5px;}

.row:after {
  content: "";
  display: table;
  clear: both;
}

@media screen and (max-width: 600px) {
  .column {
    width: 50%;
    display: block;
    margin-bottom: 20px;
  }
}
  
@media screen and (max-width: 379px) {
  .offer-code-text {
        HEIGHT: 45PX;
    -webkit-line-clamp: 4;
}
}
  
@media screen and (max-width: 335px) {  
.card-main p.desc-text {
    height: 120px !important;
}}
.card {
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
  text-align: center;
}
.card-main{
  padding: 16px;
  color:black;
  font-weight: 600;
  font-size: 14px;
}
.button-link{
background: #000000 !important;
color:white !important;
width: 100% !important;
height: 30px !important;
border-radius: 0px !important;
}
.discount-heading{
font-size: 24px;
font-weight: 600;
text-align: left;
margin-bottom: 20px;
padding: 0 10px;
}

.discount-wrapper{
   margin: 0px 10px;
    margin-bottom: 30px;
    padding: 5px;
}
.offer-code-text{
    font-weight: 400;
    color: #E85A28;
    font-size: 12px;
      overflow: hidden;
      text-overflow: ellipsis;
    white-space: unset;
  height:
}
  .desc-text{
  font-weight: 400;
}
@media (max-width: 767px) and (min-width: 601px)  {
  .desc-text{
  white-space: unset !important;
  height: 110px !important;
  -webkit-line-clamp: 5;
  }
  .head-text{
    white-space: unset !important;
    height: 40px !important;
    -webkit-line-clamp: 2;
    }
   }

  
 @media (min-width: 425px) and (max-width: 600px) {
.desc-text{
  font-weight: 400;
  white-space: unset !important;
  height: 69px !important;
  -webkit-line-clamp: 4;
}
 }
 @media (max-width: 700px) {
.offer-code-text {
    height: 40px;
   
}}
 @media (max-width: 424px) {
   .button-link{height: 55px !important;}
.desc-text{
  font-weight: 400;
  white-space: unset !important;
  height: 80px !important;
  -webkit-line-clamp: 4;
}
     .head-text{
    white-space: unset !important;
    height: 20px !important;
    -webkit-line-clamp: 2;
    }
 }
.use-code-offer{
  display: inline-block;
  vertical-align: middle;
  margin-bottom: 0px !important;
}
 @media (min-width: 769px) {
  .desc-text{
  white-space: unset !important;
  height: 54px !important;
  -webkit-line-clamp: 2;
  } 
 }
.terms-wrapper{
  background: rgba(167, 165, 165, 0.2);
  color: black;
  font-weight: 400;
}

.terms-list {
    padding: 22px 30px 20px 30px;
    margin-bottom: 0;
}
.terms-content1{
  list-style: disc !important;
}
</style>

<div class="discount-wrapper ">
  <h2 class="discount-heading">Discount Codes</h2>
  <div class="row">
  {% for block in section.blocks %}
    <div class="column">
      <div class="card offer-card-main">
        <div class="card-main">
          <p class="head-text">
          <svg xmlns="http://www.w3.org/2000/svg" width="13" height="12" viewBox="0 0 13 12" fill="none">
          <path d="M3.05463 12C3.27639 12 3.41335 11.9058 3.5829 11.6672L7.43736 6.18524L11.2005 0.841439C11.2853 0.734671 11.3244 0.621661 11.3244 0.477224C11.3244 0.219777 11.0831 0 10.7896 0C10.5549 0 10.4179 0.0879054 10.2353 0.339083L6.47213 5.69545L2.62421 11.1335C2.53939 11.2528 2.49376 11.3783 2.49376 11.5165C2.49376 11.7928 2.72853 12 3.05463 12ZM3.20465 5.85243C4.61338 5.85243 5.46121 4.74098 5.46121 2.97017C5.46121 1.19936 4.60687 0.10674 3.20465 0.10674C1.80897 0.10674 0.948059 1.20565 0.948059 2.97017C0.948059 4.74725 1.80243 5.85243 3.20465 5.85243ZM3.20465 4.97332C2.44809 4.97332 2.00462 4.23862 2.00462 2.97017C2.00462 1.72055 2.45463 0.97958 3.20465 0.97958C3.95467 0.97958 4.40468 1.71428 4.40468 2.97017C4.40468 4.23862 3.96121 4.97332 3.20465 4.97332ZM10.6135 11.8933C12.0223 11.8933 12.8701 10.7818 12.8701 9.01727C12.8701 7.24019 12.0158 6.14757 10.6135 6.14757C9.21783 6.14757 8.35696 7.24648 8.35696 9.01727C8.35696 10.7881 9.21132 11.8933 10.6135 11.8933ZM10.6135 11.0204C9.85699 11.0204 9.41351 10.2795 9.41351 9.01727C9.41351 7.76138 9.86353 7.02668 10.6135 7.02668C11.3636 7.02668 11.8136 7.75511 11.8136 9.01727C11.8136 10.2795 11.3701 11.0204 10.6135 11.0204Z" fill="#E85A28"/>
          </svg>
          {{ block.settings.offer-amount }}</p>
          <p class="desc-text">{{ block.settings.offer-description }}</p>
          <div class="offer-code-text">
            <div class="use-code-offer">
              <svg xmlns="http://www.w3.org/2000/svg" width="9" height="6" viewBox="0 0 9 6" fill="none">
              <path d="M7.72964 0C8.09204 0 8.38583 0.335786 8.38583 0.75V1.58423C8.38583 1.81236 8.27276 2.01954 8.09593 2.12065L8.06588 2.1365C7.77184 2.279 7.56559 2.61197 7.56559 3C7.56559 3.37685 7.76013 3.70177 8.0407 3.85072L8.07344 3.86712C8.26248 3.95618 8.38583 4.16679 8.38583 4.40048V5.25C8.38583 5.66421 8.09204 6 7.72964 6H0.839635C0.47723 6 0.183441 5.66421 0.183441 5.25V4.45074C0.183441 4.20664 0.302367 3.98408 0.489976 3.8719L0.520162 3.85512C0.805241 3.70824 1.00368 3.38061 1.00368 3C1.00368 2.63342 0.819603 2.31599 0.551333 2.16186L0.518743 2.14415C0.314725 2.03958 0.183441 1.80783 0.183441 1.55227V0.75C0.183441 0.335786 0.47723 0 0.839635 0L7.72964 0ZM7.72342 0.646919H0.845854C0.755253 0.646919 0.681806 0.730866 0.681806 0.834419V1.41882C1.20146 1.71359 1.53962 2.32166 1.53962 3C1.53962 3.67828 1.20152 4.28636 0.681806 4.58118V5.16558C0.681806 5.26913 0.755253 5.35308 0.845854 5.35308H7.72342C7.81402 5.35308 7.88747 5.26913 7.88747 5.16558V4.5812C7.36876 4.28705 7.02965 3.67937 7.02965 3C7.02965 2.32096 7.36845 1.71315 7.88747 1.41881V0.834419C7.88747 0.730866 7.81402 0.646919 7.72342 0.646919ZM6.08916 3.9375C6.36096 3.9375 6.5813 4.18934 6.5813 4.5C6.5813 4.81066 6.36096 5.0625 6.08916 5.0625C5.81736 5.0625 5.59702 4.81066 5.59702 4.5C5.59702 4.18934 5.81736 3.9375 6.08916 3.9375ZM6.08916 2.4375C6.36096 2.4375 6.5813 2.68934 6.5813 3C6.5813 3.31066 6.36096 3.5625 6.08916 3.5625C5.81736 3.5625 5.59702 3.31066 5.59702 3C5.59702 2.68934 5.81736 2.4375 6.08916 2.4375ZM6.08916 0.9375C6.36096 0.9375 6.5813 1.18934 6.5813 1.5C6.5813 1.81066 6.36096 2.0625 6.08916 2.0625C5.81736 2.0625 5.59702 1.81066 5.59702 1.5C5.59702 1.18934 5.81736 0.9375 6.08916 0.9375Z" fill="black"/>
              </svg>
              Use Code: 
            </div>
            <p id="{{ block.settings.offer-code }}" class="use-code-offer">{{ block.settings.offer-code }}</p></div>
        </div>
        <button class="button-link button" style="font-size:14px;" onclick = "redirect();myFunc(this);" data-clipboard-target=#{{ block.settings.offer-code }} >AVAIL &amp; SHOP</button>
      </div>
    </div>
    {% endfor %}
    </div>
</div>

<div class="terms-wrapper">
<ul class="terms-list" >
<p class="terms-heading">Steps to redeem:</p>
<li class="terms-content">1. Go to the website www.foxtale.in</li>
<li class="terms-content">2. Add your favourite products to cart</li>
<li class="terms-content">3. At the time of checkout, use the coupon code to get the offer</li>
</ul>
<ul class="terms-list" style="margin-bottom: 45px;">
<p class="terms-heading">Terms and conditions:</p>
<li class="terms-content1">Foxtale can discontinue the discount at it's own discretion</li>
<li class="terms-content1">Offers cannot be clubbed with any other discount code</li>
</ul>
</div>

<script>
    $(function(){
    new Clipboard('.button-link');
    });
    
   function myFunc(e){
     e.innerText="COUPON CODE COPIED!";
   }
   
  function redirect () {
           setTimeout(myURL, 1000);
        }
        function myURL() {
           document.location.href = '/';
        }
</script>
{%- schema -%}
  {
  "name": "Offer Discounts",
  "max_blocks": 8,
  "blocks": [
    {
      "type": "text",
      "name": "Offer Contents",
      "settings": [
        {
          "id": "offer-amount",
          "type": "textarea",
          "label": "Offer Amount"
        },
        {
          "id": "offer-description",
          "type": "text",
          "label": "Offer Description"
        },
        {
          "id": "offer-code",
          "type": "text",
          "label": "Offer Code"
        }
      ]
    }
  ],
    "presets": [
      {
        "name": "Offer Discounts"
      }
    ]
  }
{%- endschema -%}