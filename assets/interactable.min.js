!(function (t, e) {
    "object" == typeof exports && "undefined" != typeof module ? e(exports) : "function" == typeof define && define.amd ? define(["exports"], e) : e(((t = "undefined" != typeof globalThis ? globalThis : t || self).FloatingUIT4sCore = {}));
})(this, function (t) {
    "use strict";
    function e(t) {
        return t.split("-")[0];
    }
    function n(t) {
        return t.split("-")[1];
    }
    function i(t) {
        return ["top", "bottom"].includes(e(t)) ? "x" : "y";
    }
    function a(t) {
        return "y" === t ? "height" : "width";
    }
    function o(t, o, r) {
        let { reference: s, floating: l } = t,
            c = s.x + s.width / 2 - l.width / 2,
            d = s.y + s.height / 2 - l.height / 2,
            p = i(o),
            u = a(p),
            f = s[u] / 2 - l[u] / 2,
            m = "x" === p,
            h;
        switch (e(o)) {
            case "top":
                h = { x: c, y: s.y - l.height };
                break;
            case "bottom":
                h = { x: c, y: s.y + s.height };
                break;
            case "right":
                h = { x: s.x + s.width, y: d };
                break;
            case "left":
                h = { x: s.x - l.width, y: d };
                break;
            default:
                h = { x: s.x, y: s.y };
        }
        switch (n(o)) {
            case "start":
                h[p] -= f * (r && m ? -1 : 1);
                break;
            case "end":
                h[p] += f * (r && m ? -1 : 1);
        }
        return h;
    }
    function r(t) {
        var e;
        return "number" != typeof t ? { top: 0, right: 0, bottom: 0, left: 0, ...(e = t) } : { top: t, right: t, bottom: t, left: t };
    }
    function s(t) {
        return { ...t, top: t.y, left: t.x, right: t.x + t.width, bottom: t.y + t.height };
    }
    async function l(t, e) {
        var n;
        void 0 === e && (e = {});
        let { x: i, y: a, platform: o, rects: l, elements: c, strategy: d } = t,
            { boundary: p = "clippingAncestors", rootBoundary: u = "viewport", elementContext: f = "floating", altBoundary: m = !1, padding: h = 0 } = e,
            g = r(h),
            v = c[m ? ("floating" === f ? "reference" : "floating") : f],
            $ = s(
                await o.getClippingRect({
                    element: null == (n = await (null == o.isElement ? void 0 : o.isElement(v))) || n ? v : v.contextElement || (await (null == o.getDocumentElement ? void 0 : o.getDocumentElement(c.floating))),
                    boundary: p,
                    rootBoundary: u,
                })
            ),
            y = s(
                o.convertOffsetParentRelativeRectToViewportRelativeRect
                    ? await o.convertOffsetParentRelativeRectToViewportRelativeRect({
                          rect: "floating" === f ? { ...l.floating, x: i, y: a } : l.reference,
                          offsetParent: await (null == o.getOffsetParent ? void 0 : o.getOffsetParent(c.floating)),
                          strategy: d,
                      })
                    : l[f]
            );
        return { top: $.top - y.top + g.top, bottom: y.bottom - $.bottom + g.bottom, left: $.left - y.left + g.left, right: y.right - $.right + g.right };
    }
    let c = Math.min,
        d = Math.max;
    function p(t, e, n) {
        return d(t, c(e, n));
    }
    let u = { left: "right", right: "left", bottom: "top", top: "bottom" };
    function f(t) {
        return t.replace(/left|right|bottom|top/g, (t) => u[t]);
    }
    function m(t, e, o) {
        void 0 === o && (o = !1);
        let r = n(t),
            s = i(t),
            l = a(s),
            c = "x" === s ? (r === (o ? "end" : "start") ? "right" : "left") : "start" === r ? "bottom" : "top";
        return e.reference[l] > e.floating[l] && (c = f(c)), { main: c, cross: f(c) };
    }
    let h = { start: "end", end: "start" };
    function g(t) {
        return t.replace(/start|end/g, (t) => h[t]);
    }
    let v = ["top", "right", "bottom", "left"],
        $ = v.reduce((t, e) => t.concat(e, e + "-start", e + "-end"), []);
    function y(t, e) {
        return { top: t.top - e.height, right: t.right - e.width, bottom: t.bottom - e.height, left: t.left - e.width };
    }
    function b(t) {
        return v.some((e) => t[e] >= 0);
    }
    function w(t) {
        return "x" === t ? "y" : "x";
    }
    (t.arrow = (t) => ({
        name: "arrow",
        options: t,
        async fn(e) {
            let { element: n, padding: o = 0 } = null != t ? t : {},
                { x: s, y: l, placement: c, rects: d, platform: u } = e;
            if (null == n) return {};
            let f = r(o),
                m = { x: s, y: l },
                h = i(c),
                g = a(h),
                v = await u.getDimensions(n),
                $ = d.reference[g] + d.reference[h] - m[h] - d.floating[g],
                y = m[h] - d.reference[h],
                b = await (null == u.getOffsetParent ? void 0 : u.getOffsetParent(n)),
                w = b ? ("y" === h ? b.clientHeight || 0 : b.clientWidth || 0) : 0,
                x = f["y" === h ? "top" : "left"],
                C = w - v[g] - f["y" === h ? "bottom" : "right"],
                _ = w / 2 - v[g] / 2 + ($ / 2 - y / 2),
                T = p(x, _, C);
            return { data: { [h]: T, centerOffset: _ - T } };
        },
    })),
        (t.autoPlacement = function (t) {
            return (
                void 0 === t && (t = {}),
                {
                    name: "autoPlacement",
                    options: t,
                    async fn(i) {
                        var a, o, r, s, c, d, p, u;
                        let { x: f, y: h, rects: v, middlewareData: y, placement: b, platform: w, elements: x } = i,
                            { alignment: C = null, allowedPlacements: _ = $, autoAlignment: T = !0, ...k } = t,
                            I = ((d = C), (p = T), (u = _), (d ? [...u.filter((t) => n(t) === d), ...u.filter((t) => n(t) !== d)] : u.filter((t) => e(t) === t)).filter((t) => !d || n(t) === d || (!!p && g(t) !== t))),
                            D = await l(i, k),
                            P = null != (a = null == (o = y.autoPlacement) ? void 0 : o.index) ? a : 0,
                            S = I[P],
                            { main: E, cross: A } = m(S, v, await (null == w.isRTL ? void 0 : w.isRTL(x.floating)));
                        if (b !== S) return { x: f, y: h, reset: { skip: !1, placement: I[0] } };
                        let R = [D[e(S)], D[E], D[A]],
                            L = [...(null != (r = null == (s = y.autoPlacement) ? void 0 : s.overflows) ? r : []), { placement: S, overflows: R }],
                            O = I[P + 1];
                        if (O) return { data: { index: P + 1, overflows: L }, reset: { skip: !1, placement: O } };
                        let N = L.slice().sort((t, e) => t.overflows[0] - e.overflows[0]),
                            F =
                                null ==
                                (c = N.find((t) => {
                                    let { overflows: e } = t;
                                    return e.every((t) => t <= 0);
                                }))
                                    ? void 0
                                    : c.placement;
                        return { reset: { placement: null != F ? F : N[0].placement } };
                    },
                }
            );
        }),
        (t.computePosition = async (t, e, n) => {
            let { placement: i = "bottom", strategy: a = "absolute", middleware: r = [], platform: s } = n,
                l = await (null == s.isRTL ? void 0 : s.isRTL(e)),
                c = await s.getElementRects({ reference: t, floating: e, strategy: a }),
                { x: d, y: p } = o(c, i, l),
                u = i,
                f = {},
                m = new Set();
            for (let h = 0; h < r.length; h++) {
                let { name: g, fn: v } = r[h];
                if (m.has(g)) continue;
                let { x: $, y: y, data: b, reset: w } = await v({ x: d, y: p, initialPlacement: i, placement: u, strategy: a, middlewareData: f, rects: c, platform: s, elements: { reference: t, floating: e } });
                (d = null != $ ? $ : d),
                    (p = null != y ? y : p),
                    (f = { ...f, [g]: { ...f[g], ...b } }),
                    w &&
                        ("object" == typeof w &&
                            (w.placement && (u = w.placement), w.rects && (c = !0 === w.rects ? await s.getElementRects({ reference: t, floating: e, strategy: a }) : w.rects), ({ x: d, y: p } = o(c, u, l)), !1 !== w.skip && m.add(g)),
                        (h = -1));
            }
            return { x: d, y: p, placement: u, strategy: a, middlewareData: f };
        }),
        (t.detectOverflow = l),
        (t.flip = function (t) {
            return (
                void 0 === t && (t = {}),
                {
                    name: "flip",
                    options: t,
                    async fn(n) {
                        var i, a, o, r;
                        let { placement: s, middlewareData: c, rects: d, initialPlacement: p, platform: u, elements: h } = n,
                            { mainAxis: v = !0, crossAxis: $ = !0, fallbackPlacements: y, fallbackStrategy: b = "bestFit", flipAlignment: w = !0, ...x } = t,
                            C = e(s),
                            _ = [
                                p,
                                ...(y ||
                                    (C !== p && w
                                        ? (function (t) {
                                              let e = f(t);
                                              return [g(t), e, g(e)];
                                          })(p)
                                        : [f(p)])),
                            ],
                            T = await l(n, x),
                            k = [],
                            I = (null == (i = c.flip) ? void 0 : i.overflows) || [];
                        if ((v && k.push(T[C]), $)) {
                            let { main: D, cross: P } = m(s, d, await (null == u.isRTL ? void 0 : u.isRTL(h.floating)));
                            k.push(T[D], T[P]);
                        }
                        if (((I = [...I, { placement: s, overflows: k }]), !k.every((t) => t <= 0))) {
                            let S = (null != (a = null == (o = c.flip) ? void 0 : o.index) ? a : 0) + 1,
                                E = _[S];
                            if (E) return { data: { index: S, overflows: I }, reset: { skip: !1, placement: E } };
                            let A = "bottom";
                            switch (b) {
                                case "bestFit": {
                                    let R = null == (r = I.slice().sort((t, e) => t.overflows.filter((t) => t > 0).reduce((t, e) => t + e, 0) - e.overflows.filter((t) => t > 0).reduce((t, e) => t + e, 0))[0]) ? void 0 : r.placement;
                                    R && (A = R);
                                    break;
                                }
                                case "initialPlacement":
                                    A = p;
                            }
                            return { reset: { placement: A } };
                        }
                        return {};
                    },
                }
            );
        }),
        (t.hide = function (t) {
            let { strategy: e = "referenceHidden", ...n } = void 0 === t ? {} : t;
            return {
                name: "hide",
                async fn(t) {
                    let { rects: i } = t;
                    switch (e) {
                        case "referenceHidden": {
                            let a = y(await l(t, { ...n, elementContext: "reference" }), i.reference);
                            return { data: { referenceHiddenOffsets: a, referenceHidden: b(a) } };
                        }
                        case "escaped": {
                            let o = y(await l(t, { ...n, altBoundary: !0 }), i.floating);
                            return { data: { escapedOffsets: o, escaped: b(o) } };
                        }
                        default:
                            return {};
                    }
                },
            };
        }),
        (t.inline = function (t) {
            return (
                void 0 === t && (t = {}),
                {
                    name: "inline",
                    options: t,
                    async fn(n) {
                        var a;
                        let { placement: o, elements: l, rects: p, platform: u, strategy: f } = n,
                            { padding: m = 2, x: h, y: g } = t,
                            v = s(
                                u.convertOffsetParentRelativeRectToViewportRelativeRect
                                    ? await u.convertOffsetParentRelativeRectToViewportRelativeRect({ rect: p.reference, offsetParent: await (null == u.getOffsetParent ? void 0 : u.getOffsetParent(l.floating)), strategy: f })
                                    : p.reference
                            ),
                            $ = null != (a = await (null == u.getClientRects ? void 0 : u.getClientRects(l.reference))) ? a : [],
                            y = r(m);
                        return {
                            reset: {
                                rects: await u.getElementRects({
                                    reference: {
                                        getBoundingClientRect: function () {
                                            var t;
                                            if (2 === $.length && $[0].left > $[1].right && null != h && null != g)
                                                return null != (t = $.find((t) => h > t.left - y.left && h < t.right + y.right && g > t.top - y.top && g < t.bottom + y.bottom)) ? t : v;
                                            if ($.length >= 2) {
                                                if ("x" === i(o)) {
                                                    let n = $[0],
                                                        a = $[$.length - 1],
                                                        r = "top" === e(o),
                                                        s = n.top,
                                                        l = a.bottom,
                                                        p = r ? n.left : a.left,
                                                        u = r ? n.right : a.right;
                                                    return { top: s, bottom: l, left: p, right: u, width: u - p, height: l - s, x: p, y: s };
                                                }
                                                let f = "left" === e(o),
                                                    m = d(...$.map((t) => t.right)),
                                                    b = c(...$.map((t) => t.left)),
                                                    w = $.filter((t) => (f ? t.left === b : t.right === m)),
                                                    x = w[0].top,
                                                    C = w[w.length - 1].bottom;
                                                return { top: x, bottom: C, left: b, right: m, width: m - b, height: C - x, x: b, y: x };
                                            }
                                            return v;
                                        },
                                    },
                                    floating: l.floating,
                                    strategy: f,
                                }),
                            },
                        };
                    },
                }
            );
        }),
        (t.limitShift = function (t) {
            return (
                void 0 === t && (t = {}),
                {
                    options: t,
                    fn(n) {
                        let { x: a, y: o, placement: r, rects: s, middlewareData: l } = n,
                            { offset: c = 0, mainAxis: d = !0, crossAxis: p = !0 } = t,
                            u = { x: a, y: o },
                            f = i(r),
                            m = w(f),
                            h = u[f],
                            g = u[m],
                            v = "function" == typeof c ? c({ ...s, placement: r }) : c,
                            $ = "number" == typeof v ? { mainAxis: v, crossAxis: 0 } : { mainAxis: 0, crossAxis: 0, ...v };
                        if (d) {
                            let y = "y" === f ? "height" : "width",
                                b = s.reference[f] - s.floating[y] + $.mainAxis,
                                x = s.reference[f] + s.reference[y] - $.mainAxis;
                            h < b ? (h = b) : h > x && (h = x);
                        }
                        if (p) {
                            var C, _, T, k;
                            let I = "y" === f ? "width" : "height",
                                D = ["top", "left"].includes(e(r)),
                                P = s.reference[m] - s.floating[I] + (D && null != (C = null == (_ = l.offset) ? void 0 : _[m]) ? C : 0) + (D ? 0 : $.crossAxis),
                                S = s.reference[m] + s.reference[I] + (D ? 0 : null != (T = null == (k = l.offset) ? void 0 : k[m]) ? T : 0) - (D ? $.crossAxis : 0);
                            g < P ? (g = P) : g > S && (g = S);
                        }
                        return { [f]: h, [m]: g };
                    },
                }
            );
        }),
        (t.offset = function (t) {
            return (
                void 0 === t && (t = 0),
                {
                    name: "offset",
                    options: t,
                    async fn(a) {
                        let { x: o, y: r, placement: s, rects: l, platform: c, elements: d } = a,
                            p = (function (t, a, o, r) {
                                void 0 === r && (r = !1);
                                let s = e(t),
                                    l = n(t),
                                    c = "x" === i(t),
                                    d = ["left", "top"].includes(s) ? -1 : 1,
                                    p = 1;
                                "end" === l && (p = -1), r && c && (p *= -1);
                                let u = "function" == typeof o ? o({ ...a, placement: t }) : o,
                                    { mainAxis: f, crossAxis: m } = "number" == typeof u ? { mainAxis: u, crossAxis: 0 } : { mainAxis: 0, crossAxis: 0, ...u };
                                return c ? { x: m * p, y: f * d } : { x: f * d, y: m * p };
                            })(s, l, t, await (null == c.isRTL ? void 0 : c.isRTL(d.floating)));
                        return { x: o + p.x, y: r + p.y, data: p };
                    },
                }
            );
        }),
        (t.rectToClientRect = s),
        (t.shift = function (t) {
            return (
                void 0 === t && (t = {}),
                {
                    name: "shift",
                    options: t,
                    async fn(n) {
                        let { x: a, y: o, placement: r } = n,
                            {
                                mainAxis: s = !0,
                                crossAxis: c = !1,
                                limiter: d = {
                                    fn(t) {
                                        let { x: e, y: n } = t;
                                        return { x: e, y: n };
                                    },
                                },
                                ...u
                            } = t,
                            f = { x: a, y: o },
                            m = await l(n, u),
                            h = i(e(r)),
                            g = w(h),
                            v = f[h],
                            $ = f[g];
                        s && (v = p(v + m["y" === h ? "top" : "left"], v, v - m["y" === h ? "bottom" : "right"])), c && ($ = p($ + m["y" === g ? "top" : "left"], $, $ - m["y" === g ? "bottom" : "right"]));
                        let y = d.fn({ ...n, [h]: v, [g]: $ });
                        return { ...y, data: { x: y.x - a, y: y.y - o } };
                    },
                }
            );
        }),
        (t.size = function (t) {
            return (
                void 0 === t && (t = {}),
                {
                    name: "size",
                    options: t,
                    async fn(i) {
                        let { placement: a, rects: o, platform: r, elements: s } = i,
                            { apply: c, ...p } = t,
                            u = await l(i, p),
                            f = e(a),
                            m = n(a),
                            h,
                            g;
                        "top" === f || "bottom" === f ? ((h = f), (g = m === ((await (null == r.isRTL ? void 0 : r.isRTL(s.floating))) ? "start" : "end") ? "left" : "right")) : ((g = f), (h = "end" === m ? "top" : "bottom"));
                        let v = d(u.left, 0),
                            $ = d(u.right, 0),
                            y = d(u.top, 0),
                            b = d(u.bottom, 0),
                            w = {
                                height: o.floating.height - (["left", "right"].includes(a) ? 2 * (0 !== y || 0 !== b ? y + b : d(u.top, u.bottom)) : u[h]),
                                width: o.floating.width - (["top", "bottom"].includes(a) ? 2 * (0 !== v || 0 !== $ ? v + $ : d(u.left, u.right)) : u[g]),
                            };
                        return null == c || c({ ...w, ...o }), { reset: { rects: !0 } };
                    },
                }
            );
        }),
        Object.defineProperty(t, "__esModule", { value: !0 });
}),
    (function (t, e) {
        "object" == typeof exports && "undefined" != typeof module
            ? e(exports, require("@floating-ui/core"))
            : "function" == typeof define && define.amd
            ? define(["exports", "@floating-ui/core"], e)
            : e(((t = "undefined" != typeof globalThis ? globalThis : t || self).FloatingUIT4sDOM = {}), t.FloatingUIT4sCore);
    })(this, function (t, e) {
        "use strict";
        function n(t) {
            return "[object Window]" === (null == t ? void 0 : t.toString());
        }
        function i(t) {
            if (null == t) return window;
            if (!n(t)) {
                let e = t.ownerDocument;
                return (e && e.defaultView) || window;
            }
            return t;
        }
        function a(t) {
            return i(t).getComputedStyle(t);
        }
        function o(t) {
            return n(t) ? "" : t ? (t.nodeName || "").toLowerCase() : "";
        }
        function r(t) {
            return t instanceof i(t).HTMLElement;
        }
        function s(t) {
            return t instanceof i(t).Element;
        }
        function l(t) {
            return t instanceof i(t).ShadowRoot || t instanceof ShadowRoot;
        }
        function c(t) {
            let { overflow: e, overflowX: n, overflowY: i } = a(t);
            return /auto|scroll|overlay|hidden/.test(e + i + n);
        }
        function d(t) {
            return ["table", "td", "th"].includes(o(t));
        }
        function p(t) {
            let e = navigator.userAgent.toLowerCase().includes("firefox"),
                n = a(t);
            return "none" !== n.transform || "none" !== n.perspective || "paint" === n.contain || ["transform", "perspective"].includes(n.willChange) || (e && "filter" === n.willChange) || (e && !!n.filter && "none" !== n.filter);
        }
        let u = Math.min,
            f = Math.max,
            m = Math.round;
        function h(t, e) {
            void 0 === e && (e = !1);
            let n = t.getBoundingClientRect(),
                i = 1,
                a = 1;
            return (
                e && r(t) && ((i = (t.offsetWidth > 0 && m(n.width) / t.offsetWidth) || 1), (a = (t.offsetHeight > 0 && m(n.height) / t.offsetHeight) || 1)),
                { width: n.width / i, height: n.height / a, top: n.top / a, right: n.right / i, bottom: n.bottom / a, left: n.left / i, x: n.left / i, y: n.top / a }
            );
        }
        function g(t) {
            var e;
            return (((e = t) instanceof i(e).Node ? t.ownerDocument : t.document) || window.document).documentElement;
        }
        function v(t) {
            return n(t) ? { scrollLeft: t.pageXOffset, scrollTop: t.pageYOffset } : { scrollLeft: t.scrollLeft, scrollTop: t.scrollTop };
        }
        function $(t) {
            return h(g(t)).left + v(t).scrollLeft;
        }
        function y(t) {
            return "html" === o(t) ? t : t.assignedSlot || t.parentNode || (l(t) ? t.host : null) || g(t);
        }
        function b(t) {
            return r(t) && "fixed" !== getComputedStyle(t).position ? t.offsetParent : null;
        }
        function w(t) {
            let e = i(t),
                n = b(t);
            for (; n && d(n) && "static" === getComputedStyle(n).position; ) n = b(n);
            return n && ("html" === o(n) || ("body" === o(n) && "static" === getComputedStyle(n).position && !p(n)))
                ? e
                : n ||
                      (function (t) {
                          let e = y(t);
                          for (l(e) && (e = e.host); r(e) && !["html", "body"].includes(o(e)); ) {
                              if (p(e)) return e;
                              e = e.parentNode;
                          }
                          return null;
                      })(t) ||
                      e;
        }
        function x(t) {
            if (r(t)) return { width: t.offsetWidth, height: t.offsetHeight };
            let e = h(t);
            return { width: e.width, height: e.height };
        }
        function C(t, e) {
            var n;
            void 0 === e && (e = []);
            let a = (function t(e) {
                    return ["html", "body", "#document"].includes(o(e)) ? e.ownerDocument.body : r(e) && c(e) ? e : t(y(e));
                })(t),
                s = a === (null == (n = t.ownerDocument) ? void 0 : n.body),
                l = i(a),
                d = s ? [l].concat(l.visualViewport || [], c(a) ? a : []) : a,
                p = e.concat(d);
            return s ? p : p.concat(C(y(d)));
        }
        function _(t, n) {
            return "viewport" === n
                ? e.rectToClientRect(
                      (function (t) {
                          let e = i(t),
                              n = g(t),
                              a = e.visualViewport,
                              o = n.clientWidth,
                              r = n.clientHeight,
                              s = 0,
                              l = 0;
                          return a && ((o = a.width), (r = a.height), 0.01 > Math.abs(e.innerWidth / a.scale - a.width) && ((s = a.offsetLeft), (l = a.offsetTop))), { width: o, height: r, x: s, y: l };
                      })(t)
                  )
                : s(n)
                ? (function (t) {
                      let e = h(t),
                          n = e.top + t.clientTop,
                          i = e.left + t.clientLeft;
                      return { top: n, left: i, x: i, y: n, right: i + t.clientWidth, bottom: n + t.clientHeight, width: t.clientWidth, height: t.clientHeight };
                  })(n)
                : e.rectToClientRect(
                      (function (t) {
                          var e;
                          let n = g(t),
                              i = v(t),
                              o = null == (e = t.ownerDocument) ? void 0 : e.body,
                              r = f(n.scrollWidth, n.clientWidth, o ? o.scrollWidth : 0, o ? o.clientWidth : 0),
                              s = f(n.scrollHeight, n.clientHeight, o ? o.scrollHeight : 0, o ? o.clientHeight : 0),
                              l = -i.scrollLeft + $(t),
                              c = -i.scrollTop;
                          return "rtl" === a(o || n).direction && (l += f(n.clientWidth, o ? o.clientWidth : 0) - r), { width: r, height: s, x: l, y: c };
                      })(g(t))
                  );
        }
        let T = {
            getClippingRect: function (t) {
                let { element: e, boundary: n, rootBoundary: i } = t,
                    c = [
                        ...("clippingAncestors" === n
                            ? (function t(e) {
                                  let n = C(y(e)),
                                      i = ["absolute", "fixed"].includes(a(e).position) && r(e) ? w(e) : e;
                                  return s(i)
                                      ? n.filter(
                                            (t) =>
                                                s(t) &&
                                                (function (t, e) {
                                                    let n = null == e.getRootNode ? void 0 : e.getRootNode();
                                                    if (t.contains(e)) return !0;
                                                    if (n && l(n)) {
                                                        let i = e;
                                                        do {
                                                            if (i && t === i) return !0;
                                                            i = i.parentNode || i.host;
                                                        } while (i);
                                                    }
                                                    return !1;
                                                })(t, i) &&
                                                "body" !== o(t)
                                        )
                                      : [];
                              })(e)
                            : [].concat(n)),
                        i,
                    ],
                    d = c[0],
                    p = c.reduce((t, n) => {
                        let i = _(e, n);
                        return (t.top = f(i.top, t.top)), (t.right = u(i.right, t.right)), (t.bottom = u(i.bottom, t.bottom)), (t.left = f(i.left, t.left)), t;
                    }, _(e, d));
                return { width: p.right - p.left, height: p.bottom - p.top, x: p.left, y: p.top };
            },
            convertOffsetParentRelativeRectToViewportRelativeRect: function (t) {
                let { rect: e, offsetParent: n, strategy: i } = t,
                    a = r(n),
                    s = g(n);
                if (n === s) return e;
                let l = { scrollLeft: 0, scrollTop: 0 },
                    d = { x: 0, y: 0 };
                if ((a || (!a && "fixed" !== i)) && (("body" !== o(n) || c(s)) && (l = v(n)), r(n))) {
                    let p = h(n, !0);
                    (d.x = p.x + n.clientLeft), (d.y = p.y + n.clientTop);
                }
                return { ...e, x: e.x - l.scrollLeft + d.x, y: e.y - l.scrollTop + d.y };
            },
            isElement: s,
            getDimensions: x,
            getOffsetParent: w,
            getDocumentElement: g,
            getElementRects(t) {
                let { reference: e, floating: n, strategy: i } = t;
                return {
                    reference: (function (t, e, n) {
                        let i = r(e),
                            a = g(e),
                            s = h(
                                t,
                                i &&
                                    (function (t) {
                                        let e = h(t);
                                        return m(e.width) !== t.offsetWidth || m(e.height) !== t.offsetHeight;
                                    })(e)
                            ),
                            l = { scrollLeft: 0, scrollTop: 0 },
                            d = { x: 0, y: 0 };
                        if (i || (!i && "fixed" !== n)) {
                            if ((("body" !== o(e) || c(a)) && (l = v(e)), r(e))) {
                                let p = h(e, !0);
                                (d.x = p.x + e.clientLeft), (d.y = p.y + e.clientTop);
                            } else a && (d.x = $(a));
                        }
                        return { x: s.left + l.scrollLeft - d.x, y: s.top + l.scrollTop - d.y, width: s.width, height: s.height };
                    })(e, w(n), i),
                    floating: { ...x(n), x: 0, y: 0 },
                };
            },
            getClientRects: (t) => Array.from(t.getClientRects()),
            isRTL: (t) => "rtl" === a(t).direction,
        };
        Object.defineProperty(t, "arrow", {
            enumerable: !0,
            get: function () {
                return e.arrow;
            },
        }),
            Object.defineProperty(t, "autoPlacement", {
                enumerable: !0,
                get: function () {
                    return e.autoPlacement;
                },
            }),
            Object.defineProperty(t, "detectOverflow", {
                enumerable: !0,
                get: function () {
                    return e.detectOverflow;
                },
            }),
            Object.defineProperty(t, "flip", {
                enumerable: !0,
                get: function () {
                    return e.flip;
                },
            }),
            Object.defineProperty(t, "hide", {
                enumerable: !0,
                get: function () {
                    return e.hide;
                },
            }),
            Object.defineProperty(t, "inline", {
                enumerable: !0,
                get: function () {
                    return e.inline;
                },
            }),
            Object.defineProperty(t, "limitShift", {
                enumerable: !0,
                get: function () {
                    return e.limitShift;
                },
            }),
            Object.defineProperty(t, "offset", {
                enumerable: !0,
                get: function () {
                    return e.offset;
                },
            }),
            Object.defineProperty(t, "shift", {
                enumerable: !0,
                get: function () {
                    return e.shift;
                },
            }),
            Object.defineProperty(t, "size", {
                enumerable: !0,
                get: function () {
                    return e.size;
                },
            }),
            (t.autoUpdate = function (t, e, n, i) {
                void 0 === i && (i = {});
                let { ancestorScroll: a = !0, ancestorResize: o = !0, elementResize: r = !0, animationFrame: l = !1 } = i,
                    c = !1,
                    d = a && !l,
                    p = o && !l,
                    u = d || p ? [...(s(t) ? C(t) : []), ...C(e)] : [];
                u.forEach((t) => {
                    d && t.addEventListener("scroll", n, { passive: !0 }), p && t.addEventListener("resize", n);
                });
                let f,
                    m = null;
                r && !l && ((m = new ResizeObserver(n)), s(t) && m.observe(t), m.observe(e));
                let g = l ? h(t) : null;
                return (
                    l &&
                        (function e() {
                            if (c) return;
                            let i = h(t);
                            g && (i.x !== g.x || i.y !== g.y || i.width !== g.width || i.height !== g.height) && n(), (g = i), (f = requestAnimationFrame(e));
                        })(),
                    () => {
                        var t;
                        (c = !0),
                            u.forEach((t) => {
                                d && t.removeEventListener("scroll", n), p && t.removeEventListener("resize", n);
                            }),
                            null == (t = m) || t.disconnect(),
                            (m = null),
                            l && cancelAnimationFrame(f);
                    }
                );
            }),
            (t.computePosition = (t, n, i) => e.computePosition(t, n, { platform: T, ...i })),
            (t.getOverflowAncestors = C),
            Object.defineProperty(t, "__esModule", { value: !0 });
    }),
    (function (t) {
        "use strict";
        "function" == typeof define && define.amd ? define(["jQuery_T4NT"], t) : "object" == typeof module && module.exports ? (module.exports = t(require("jQuery_T4NT"))) : jQuery_T4NT && !jQuery_T4NT.fn.hoverIntent && t(jQuery_T4NT);
    })(function (t) {
        "use strict";
        function e(t) {
            (i = t.pageX), (a = t.pageY);
        }
        function n(t) {
            return "function" == typeof t;
        }
        var i,
            a,
            o = { interval: 100, sensitivity: 6, timeout: 0 },
            r = 0,
            s = function (t, n, o, r) {
                if (Math.sqrt((o.pX - i) * (o.pX - i) + (o.pY - a) * (o.pY - a)) < r.sensitivity)
                    return n.off(o.event, e), delete o.timeoutId, (o.isActive = !0), (t.pageX = i), (t.pageY = a), delete o.pX, delete o.pY, r.over.apply(n[0], [t]);
                (o.pX = i),
                    (o.pY = a),
                    (o.timeoutId = setTimeout(function () {
                        s(t, n, o, r);
                    }, r.interval));
            };
        t.fn.hoverIntent = function (i, a, l) {
            var c = r++,
                d = t.extend({}, o);
            function p(n) {
                var i = t.extend({}, n),
                    a = t(this),
                    o = a.data("hoverIntent");
                o || a.data("hoverIntent", (o = {}));
                var r = o[c];
                r || (o[c] = r = { id: c }), r.timeoutId && (r.timeoutId = clearTimeout(r.timeoutId));
                var l = (r.event = "mousemove.hoverIntent.hoverIntent" + c);
                if ("mouseenter" === n.type) {
                    if (r.isActive) return;
                    (r.pX = i.pageX),
                        (r.pY = i.pageY),
                        a.off(l, e).on(l, e),
                        (r.timeoutId = setTimeout(function () {
                            s(i, a, r, d);
                        }, d.interval));
                } else {
                    if (!r.isActive) return;
                    a.off(l, e),
                        (r.timeoutId = setTimeout(function () {
                            var t, e, n, o, s;
                            (t = i), (e = a), (n = r), (o = d.out), (s = e.data("hoverIntent")) && delete s[n.id], o.apply(e[0], [t]);
                        }, d.timeout));
                }
            }
            return (
                t.isPlainObject(i) ? n((d = t.extend(d, i)).out) || (d.out = d.over) : (d = n(a) ? t.extend(d, { over: i, out: a, selector: l }) : t.extend(d, { over: i, out: i, selector: a })),
                this.on({ "mouseenter.hoverIntent": p, "mouseleave.hoverIntent": p }, d.selector)
            );
        };
    }),
    (function (t, e) {
        "function" == typeof define && define.amd ? define(e) : "object" == typeof exports ? (module.exports = e()) : (t.PhotoSwipe = e());
    })(this, function () {
        return function (t, e, n, i) {
            var a = {
                features: null,
                bind: function (t, e, n, i) {
                    var a = (i ? "remove" : "add") + "EventListener";
                    e = e.split(" ");
                    for (var o = 0; o < e.length; o++) e[o] && t[a](e[o], n, !1);
                },
                isArray: function (t) {
                    return t instanceof Array;
                },
                createEl: function (t, e) {
                    var n = document.createElement(e || "div");
                    return t && (n.className = t), n;
                },
                getScrollY: function () {
                    var t = window.pageYOffset;
                    return void 0 !== t ? t : document.documentElement.scrollTop;
                },
                unbind: function (t, e, n) {
                    a.bind(t, e, n, !0);
                },
                removeClass: function (t, e) {
                    var n = RegExp("(\\s|^)" + e + "(\\s|$)");
                    t.className = t.className
                        .replace(n, " ")
                        .replace(/^\s\s*/, "")
                        .replace(/\s\s*$/, "");
                },
                addClass: function (t, e) {
                    a.hasClass(t, e) || (t.className += (t.className ? " " : "") + e);
                },
                hasClass: function (t, e) {
                    return t.className && RegExp("(^|\\s)" + e + "(\\s|$)").test(t.className);
                },
                getChildByClass: function (t, e) {
                    for (var n = t.firstChild; n; ) {
                        if (a.hasClass(n, e)) return n;
                        n = n.nextSibling;
                    }
                },
                arraySearch: function (t, e, n) {
                    for (var i = t.length; i--; ) if (t[i][n] === e) return i;
                    return -1;
                },
                extend: function (t, e, n) {
                    for (var i in e)
                        if (e.hasOwnProperty(i)) {
                            if (n && t.hasOwnProperty(i)) continue;
                            t[i] = e[i];
                        }
                },
                easing: {
                    sine: {
                        out: function (t) {
                            return Math.sin(t * (Math.PI / 2));
                        },
                        inOut: function (t) {
                            return -(Math.cos(Math.PI * t) - 1) / 2;
                        },
                    },
                    cubic: {
                        out: function (t) {
                            return --t * t * t + 1;
                        },
                    },
                },
                detectFeatures: function () {
                    if (a.features) return a.features;
                    var t = a.createEl().style,
                        e = "",
                        n = {};
                    if (
                        ((n.oldIE = document.all && !document.addEventListener),
                        (n.touch = "ontouchstart" in window),
                        window.requestAnimationFrame && ((n.raf = window.requestAnimationFrame), (n.caf = window.cancelAnimationFrame)),
                        (n.pointerEvent = !!window.PointerEvent || navigator.msPointerEnabled),
                        !n.pointerEvent)
                    ) {
                        var i = navigator.userAgent;
                        if (/iP(hone|od)/.test(navigator.platform)) {
                            var o = navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);
                            o && o.length > 0 && (o = parseInt(o[1], 10)) >= 1 && o < 8 && (n.isOldIOSPhone = !0);
                        }
                        var r = i.match(/Android\s([0-9\.]*)/),
                            s = r ? r[1] : 0;
                        (s = parseFloat(s)) >= 1 && (s < 4.4 && (n.isOldAndroid = !0), (n.androidVersion = s)), (n.isMobileOpera = /opera mini|opera mobi/i.test(i));
                    }
                    for (var l, c, d = ["transform", "perspective", "animationName"], p = ["", "webkit", "Moz", "ms", "O"], u = 0; u < 4; u++) {
                        e = p[u];
                        for (var f = 0; f < 3; f++) (l = d[f]), (c = e + (e ? l.charAt(0).toUpperCase() + l.slice(1) : l)), !n[l] && c in t && (n[l] = c);
                        e && !n.raf && ((e = e.toLowerCase()), (n.raf = window[e + "RequestAnimationFrame"]), n.raf && (n.caf = window[e + "CancelAnimationFrame"] || window[e + "CancelRequestAnimationFrame"]));
                    }
                    if (!n.raf) {
                        var m = 0;
                        (n.raf = function (t) {
                            var e = new Date().getTime(),
                                n = Math.max(0, 16 - (e - m)),
                                i = window.setTimeout(function () {
                                    t(e + n);
                                }, n);
                            return (m = e + n), i;
                        }),
                            (n.caf = function (t) {
                                clearTimeout(t);
                            });
                    }
                    return (n.svg = !!document.createElementNS && !!document.createElementNS("http://www.w3.org/2000/svg", "svg").createSVGRect), (a.features = n), n;
                },
            };
            a.detectFeatures(),
                a.features.oldIE &&
                    (a.bind = function (t, e, n, i) {
                        e = e.split(" ");
                        for (
                            var a,
                                o = (i ? "detach" : "attach") + "Event",
                                r = function () {
                                    n.handleEvent.call(n);
                                },
                                s = 0;
                            s < e.length;
                            s++
                        )
                            if ((a = e[s])) {
                                if ("object" == typeof n && n.handleEvent) {
                                    if (i) {
                                        if (!n["oldIE" + a]) return !1;
                                    } else n["oldIE" + a] = r;
                                    t[o]("on" + a, n["oldIE" + a]);
                                } else t[o]("on" + a, n);
                            }
                    });
            var o = this,
                r = {
                    allowPanToNext: !0,
                    spacing: 0.12,
                    bgOpacity: 1,
                    mouseUsed: !1,
                    loop: !0,
                    pinchToClose: !0,
                    closeOnScroll: !0,
                    closeOnVerticalDrag: !0,
                    verticalDragRange: 0.75,
                    hideAnimationDuration: 333,
                    showAnimationDuration: 333,
                    showHideOpacity: !1,
                    focus: !0,
                    escKey: !0,
                    arrowKeys: !0,
                    mainScrollEndFriction: 0.35,
                    panEndFriction: 0.35,
                    isClickableElement: function (t) {
                        return "A" === t.tagName;
                    },
                    getDoubleTapZoom: function (t, e) {
                        return t ? 1 : e.initialZoomLevel < 0.7 ? 1 : 1.33;
                    },
                    maxSpreadZoom: 1.33,
                    modal: !0,
                    scaleMode: "fit",
                };
            a.extend(r, i);
            var s,
                l,
                c,
                d,
                p,
                u,
                f,
                m,
                h,
                g,
                v,
                $,
                y,
                b,
                w,
                x,
                C,
                _,
                T,
                k,
                I,
                D,
                P,
                S,
                E,
                A,
                R,
                L,
                O,
                N,
                F,
                M,
                U,
                B,
                H,
                W,
                z,
                G,
                Z,
                q,
                K,
                j,
                V,
                X,
                Y,
                Q,
                J,
                tt,
                te,
                tn,
                ti,
                ta,
                to,
                tr,
                ts,
                tl,
                tc = { x: 0, y: 0 },
                td = { x: 0, y: 0 },
                tp = { x: 0, y: 0 },
                tu = {},
                tf = 0,
                tm = {},
                th = { x: 0, y: 0 },
                tg = 0,
                tv = !0,
                t$ = [],
                ty = {},
                tb = !1,
                tw = function (t, e) {
                    a.extend(o, e.publicMethods), t$.push(t);
                },
                tx = function (t) {
                    var e = eD();
                    return t > e - 1 ? t - e : t < 0 ? e + t : t;
                },
                tC = {},
                t8 = function (t, e) {
                    return tC[t] || (tC[t] = []), tC[t].push(e);
                },
                t2 = function (t) {
                    var e = tC[t];
                    if (e) {
                        var n = Array.prototype.slice.call(arguments);
                        n.shift();
                        for (var i = 0; i < e.length; i++) e[i].apply(o, n);
                    }
                },
                t_ = function () {
                    return new Date().getTime();
                },
                tT = function (t) {
                    (tr = t), (o.bg.style.opacity = t * r.bgOpacity);
                },
                tk = function (t, e, n, i, a) {
                    (!tb || (a && a !== o.currItem)) && (i /= a ? a.fitRatio : o.currItem.fitRatio), (t[D] = $ + e + "px, " + n + "px" + y + " scale(" + i + ")");
                },
                tI = function (t) {
                    te && (t && (g > o.currItem.fitRatio ? tb || (eN(o.currItem, !1, !0), (tb = !0)) : tb && (eN(o.currItem), (tb = !1))), tk(te, tp.x, tp.y, g));
                },
                tD = function (t) {
                    t.container && tk(t.container.style, t.initialPosition.x, t.initialPosition.y, t.initialZoomLevel, t);
                },
                tP = function (t, e) {
                    e[D] = $ + t + "px, 0px" + y;
                },
                tS = function (t, e) {
                    if (!r.loop && e) {
                        var n = d + (th.x * tf - t) / th.x,
                            i = Math.round(t - tJ.x);
                        ((n < 0 && i > 0) || (n >= eD() - 1 && i < 0)) && (t = tJ.x + i * r.mainScrollEndFriction);
                    }
                    (tJ.x = t), tP(t, p);
                },
                tE = function (t, e) {
                    var n = et[t] - tm[t];
                    return td[t] + tc[t] + n - n * (e / v);
                },
                tA = function (t, e) {
                    (t.x = e.x), (t.y = e.y), e.id && (t.id = e.id);
                },
                tR = function (t) {
                    (t.x = Math.round(t.x)), (t.y = Math.round(t.y));
                },
                t9 = null,
                tL = function () {
                    t9 && (a.unbind(document, "mousemove", tL), a.addClass(t, "pswp--has_mouse"), (r.mouseUsed = !0), t2("mouseUsed")),
                        (t9 = setTimeout(function () {
                            t9 = null;
                        }, 100));
                },
                tO = function (t, e) {
                    var n = eR(o.currItem, tu, t);
                    return e && (tt = n), n;
                },
                tN = function (t) {
                    return t || (t = o.currItem), t.initialZoomLevel;
                },
                tF = function (t) {
                    return t || (t = o.currItem), t.w > 0 ? r.maxSpreadZoom : 1;
                },
                tM = function (t, e, n, i) {
                    return i === o.currItem.initialZoomLevel ? ((n[t] = o.currItem.initialPosition[t]), !0) : ((n[t] = tE(t, i)), n[t] > e.min[t] ? ((n[t] = e.min[t]), !0) : n[t] < e.max[t] && ((n[t] = e.max[t]), !0));
                },
                tU = function (t) {
                    var e = "";
                    r.escKey && 27 === t.keyCode ? (e = "close") : r.arrowKeys && (37 === t.keyCode ? (e = "prev") : 39 === t.keyCode && (e = "next")),
                        e && (t.ctrlKey || t.altKey || t.shiftKey || t.metaKey || (t.preventDefault ? t.preventDefault() : (t.returnValue = !1), o[e]()));
                },
                t0 = function (t) {
                    t && (j || K || tn || z) && (t.preventDefault(), t.stopPropagation());
                },
                tB = function () {
                    o.setScrollOffset(0, a.getScrollY());
                },
                tH = {},
                tW = 0,
                tz = function (t) {
                    tH[t] && (tH[t].raf && A(tH[t].raf), tW--, delete tH[t]);
                },
                tG = function (t) {
                    tH[t] && tz(t), tH[t] || (tW++, (tH[t] = {}));
                },
                tZ = function () {
                    for (var t in tH) tH.hasOwnProperty(t) && tz(t);
                },
                t1 = function (t, e, n, i, a, o, r) {
                    var s,
                        l = t_();
                    tG(t);
                    var c = function () {
                        if (tH[t]) {
                            if ((s = t_() - l) >= i) return tz(t), o(n), void (r && r());
                            o((n - e) * a(s / i) + e), (tH[t].raf = E(c));
                        }
                    };
                    c();
                },
                tq = {},
                tK = {},
                tj = {},
                tV = {},
                t7 = {},
                t3 = [],
                tX = {},
                tY = [],
                t4 = {},
                tQ = 0,
                t5 = { x: 0, y: 0 },
                t6 = 0,
                tJ = { x: 0, y: 0 },
                et = { x: 0, y: 0 },
                ee = { x: 0, y: 0 },
                en = function (t, e) {
                    return (t4.x = Math.abs(t.x - e.x)), (t4.y = Math.abs(t.y - e.y)), Math.sqrt(t4.x * t4.x + t4.y * t4.y);
                },
                ei = function () {
                    V && (A(V), (V = null));
                },
                ea = function () {
                    Z && ((V = E(ea)), e$());
                },
                eo = function (t, e) {
                    return !(!t || t === document) && !(t.getAttribute("class") && t.getAttribute("class").indexOf("pswp__scroll-wrap") > -1) && (e(t) ? t : eo(t.parentNode, e));
                },
                er = {},
                es = function (t, e) {
                    return (er.prevent = !eo(t.target, r.isClickableElement)), t2("preventDragEvent", t, e, er), er.prevent;
                },
                el = function (t, e) {
                    return (e.x = t.pageX), (e.y = t.pageY), (e.id = t.identifier), e;
                },
                ec = function (t, e, n) {
                    (n.x = 0.5 * (t.x + e.x)), (n.y = 0.5 * (t.y + e.y));
                },
                ed = function () {
                    return 1 - Math.abs((tp.y - o.currItem.initialPosition.y) / (tu.y / 2));
                },
                ep = {},
                eu = {},
                ef = [],
                em = function (t) {
                    for (; ef.length > 0; ) ef.pop();
                    return (
                        P
                            ? ((tl = 0),
                              t3.forEach(function (t) {
                                  0 === tl ? (ef[0] = t) : 1 === tl && (ef[1] = t), tl++;
                              }))
                            : t.type.indexOf("touch") > -1
                            ? t.touches && t.touches.length > 0 && ((ef[0] = el(t.touches[0], ep)), t.touches.length > 1 && (ef[1] = el(t.touches[1], eu)))
                            : ((ep.x = t.pageX), (ep.y = t.pageY), (ep.id = ""), (ef[0] = ep)),
                        ef
                    );
                },
                eh = function (t, e) {
                    var n,
                        i,
                        a,
                        s,
                        l = tp[t] + e[t],
                        c = e[t] > 0,
                        d = tJ.x + e.x,
                        p = tJ.x - tX.x;
                    return (
                        (n = l > tt.min[t] || l < tt.max[t] ? r.panEndFriction : 1),
                        (l = tp[t] + e[t] * n),
                        (r.allowPanToNext || g === o.currItem.initialZoomLevel) &&
                        (te
                            ? "h" !== ti ||
                              "x" !== t ||
                              K ||
                              (c
                                  ? (l > tt.min[t] && ((n = r.panEndFriction), tt.min[t], (i = tt.min[t] - td[t])), (i <= 0 || p < 0) && eD() > 1 ? ((s = d), p < 0 && d > tX.x && (s = tX.x)) : tt.min.x !== tt.max.x && (a = l))
                                  : (l < tt.max[t] && ((n = r.panEndFriction), tt.max[t], (i = td[t] - tt.max[t])), (i <= 0 || p > 0) && eD() > 1 ? ((s = d), p > 0 && d < tX.x && (s = tX.x)) : tt.min.x !== tt.max.x && (a = l)))
                            : (s = d),
                        "x" === t)
                            ? (void 0 !== s && (tS(s, !0), (X = s !== tX.x)), tt.min.x !== tt.max.x && (void 0 !== a ? (tp.x = a) : X || (tp.x += e.x * n)), void 0 !== s)
                            : void (tn || X || (g > o.currItem.fitRatio && (tp[t] += e[t] * n)))
                    );
                },
                eg = function (t) {
                    if (!("mousedown" === t.type && t.button > 0)) {
                        if (ek) return void t.preventDefault();
                        if (!G || "mousedown" !== t.type) {
                            if ((es(t, !0) && t.preventDefault(), t2("pointerDown"), P)) {
                                var e = a.arraySearch(t3, t.pointerId, "id");
                                e < 0 && (e = t3.length), (t3[e] = { x: t.pageX, y: t.pageY, id: t.pointerId });
                            }
                            var n = em(t),
                                i = n.length;
                            (Y = null),
                                tZ(),
                                (Z && 1 !== i) ||
                                    ((Z = ta = !0),
                                    a.bind(window, f, o),
                                    (W = ts = to = z = X = j = q = K = !1),
                                    (ti = null),
                                    t2("firstTouchStart", n),
                                    tA(td, tp),
                                    (tc.x = tc.y = 0),
                                    tA(tV, n[0]),
                                    tA(t7, tV),
                                    (tX.x = th.x * tf),
                                    (tY = [{ x: tV.x, y: tV.y }]),
                                    (B = U = t_()),
                                    tO(g, !0),
                                    ei(),
                                    ea()),
                                Q ||
                                    !(i > 1) ||
                                    tn ||
                                    X ||
                                    ((v = g), (K = !1), (Q = q = !0), (tc.y = tc.x = 0), tA(td, tp), tA(tq, n[0]), tA(tK, n[1]), ec(tq, tK, ee), (et.x = Math.abs(ee.x) - tp.x), (et.y = Math.abs(ee.y) - tp.y), (J = en(tq, tK)));
                        }
                    }
                },
                ev = function (t) {
                    if ((t.preventDefault(), P)) {
                        var e = a.arraySearch(t3, t.pointerId, "id");
                        if (e > -1) {
                            var n = t3[e];
                            (n.x = t.pageX), (n.y = t.pageY);
                        }
                    }
                    if (Z) {
                        var i = em(t);
                        if (ti || j || Q) Y = i;
                        else if (tJ.x !== th.x * tf) ti = "h";
                        else {
                            var o = Math.abs(i[0].x - tV.x) - Math.abs(i[0].y - tV.y);
                            Math.abs(o) >= 10 && ((ti = o > 0 ? "h" : "v"), (Y = i));
                        }
                    }
                },
                e$ = function () {
                    if (Y) {
                        var t = Y.length;
                        if (0 !== t) {
                            if ((tA(tq, Y[0]), (tj.x = tq.x - tV.x), (tj.y = tq.y - tV.y), Q && t > 1)) {
                                if (((tV.x = tq.x), (tV.y = tq.y), !tj.x && !tj.y && ((e = Y[1]), (n = tK), e.x === n.x && e.y === n.y))) return;
                                tA(tK, Y[1]), K || ((K = !0), t2("zoomGestureStarted"));
                                var e,
                                    n,
                                    i = en(tq, tK),
                                    a = eC(i);
                                a > o.currItem.initialZoomLevel + o.currItem.initialZoomLevel / 15 && (ts = !0);
                                var s = 1,
                                    l = tN(),
                                    c = tF();
                                if (a < l) {
                                    if (r.pinchToClose && !ts && v <= o.currItem.initialZoomLevel) {
                                        var d = 1 - (l - a) / (l / 1.2);
                                        tT(d), t2("onPinchClose", d), (to = !0);
                                    } else (s = (l - a) / l) > 1 && (s = 1), (a = l - s * (l / 3));
                                } else a > c && ((s = (a - c) / (6 * l)) > 1 && (s = 1), (a = c + s * l));
                                s < 0 && (s = 0), ec(tq, tK, t5), (tc.x += t5.x - ee.x), (tc.y += t5.y - ee.y), tA(ee, t5), (tp.x = tE("x", a)), (tp.y = tE("y", a)), (W = a > g), (g = a), tI();
                            } else {
                                if (!ti || (ta && ((ta = !1), Math.abs(tj.x) >= 10 && (tj.x -= Y[0].x - t7.x), Math.abs(tj.y) >= 10 && (tj.y -= Y[0].y - t7.y)), (tV.x = tq.x), (tV.y = tq.y), 0 === tj.x && 0 === tj.y)) return;
                                if ("v" === ti && r.closeOnVerticalDrag && "fit" === r.scaleMode && g === o.currItem.initialZoomLevel) {
                                    (tc.y += tj.y), (tp.y += tj.y);
                                    var p = ed();
                                    return (z = !0), t2("onVerticalDrag", p), tT(p), void tI();
                                }
                                (function (t, e, n) {
                                    if (t - B > 50) {
                                        var i = tY.length > 2 ? tY.shift() : {};
                                        (i.x = e), (i.y = n), tY.push(i), (B = t);
                                    }
                                })(t_(), tq.x, tq.y),
                                    (j = !0),
                                    (tt = o.currItem.bounds),
                                    eh("x", tj) || (eh("y", tj), tR(tp), tI());
                            }
                        }
                    }
                },
                ey = function (t) {
                    if (F.isOldAndroid) {
                        if (G && "mouseup" === t.type) return;
                        t.type.indexOf("touch") > -1 &&
                            (clearTimeout(G),
                            (G = setTimeout(function () {
                                G = 0;
                            }, 600)));
                    }
                    if ((t2("pointerUp"), es(t, !1) && t.preventDefault(), P)) {
                        var e = a.arraySearch(t3, t.pointerId, "id");
                        e > -1 &&
                            ((n = t3.splice(e, 1)[0]), navigator.msPointerEnabled ? ((n.type = { 4: "mouse", 2: "touch", 3: "pen" }[t.pointerType]), n.type || (n.type = t.pointerType || "mouse")) : (n.type = t.pointerType || "mouse"));
                    }
                    var n,
                        i,
                        s = em(t),
                        l = s.length;
                    if (("mouseup" === t.type && (l = 0), 2 === l)) return (Y = null), !0;
                    1 === l && tA(t7, s[0]),
                        0 !== l ||
                            ti ||
                            tn ||
                            (n || ("mouseup" === t.type ? (n = { x: t.pageX, y: t.pageY, type: "mouse" }) : t.changedTouches && t.changedTouches[0] && (n = { x: t.changedTouches[0].pageX, y: t.changedTouches[0].pageY, type: "touch" })),
                            t2("touchRelease", t, n));
                    var c = -1;
                    if (
                        (0 === l && ((Z = !1), a.unbind(window, f, o), ei(), Q ? (c = 0) : -1 !== t6 && (c = t_() - t6)),
                        (t6 = 1 === l ? t_() : -1),
                        (i = -1 !== c && c < 150 ? "zoom" : "swipe"),
                        Q && l < 2 && ((Q = !1), 1 === l && (i = "zoomPointerUp"), t2("zoomGestureEnded")),
                        (Y = null),
                        j || K || tn || z)
                    ) {
                        if ((tZ(), H || (H = eb()), H.calculateSwipeSpeed("x"), z)) {
                            if (ed() < r.verticalDragRange) o.close();
                            else {
                                var d = tp.y,
                                    p = tr;
                                t1("verticalDrag", 0, 1, 300, a.easing.cubic.out, function (t) {
                                    (tp.y = (o.currItem.initialPosition.y - d) * t + d), tT((1 - p) * t + p), tI();
                                }),
                                    t2("onVerticalDrag", 1);
                            }
                        } else {
                            if ((X || tn) && 0 === l) {
                                if (ex(i, H)) return;
                                i = "zoomPointerUp";
                            }
                            if (!tn) return "swipe" !== i ? void e8() : void (!X && g > o.currItem.fitRatio && ew(H));
                        }
                    }
                },
                eb = function () {
                    var t,
                        e,
                        n = {
                            lastFlickOffset: {},
                            lastFlickDist: {},
                            lastFlickSpeed: {},
                            slowDownRatio: {},
                            slowDownRatioReverse: {},
                            speedDecelerationRatio: {},
                            speedDecelerationRatioAbs: {},
                            distanceOffset: {},
                            backAnimDestination: {},
                            backAnimStarted: {},
                            calculateSwipeSpeed: function (i) {
                                tY.length > 1 ? ((t = t_() - B + 50), (e = tY[tY.length - 2][i])) : ((t = t_() - U), (e = t7[i])),
                                    (n.lastFlickOffset[i] = tV[i] - e),
                                    (n.lastFlickDist[i] = Math.abs(n.lastFlickOffset[i])),
                                    n.lastFlickDist[i] > 20 ? (n.lastFlickSpeed[i] = n.lastFlickOffset[i] / t) : (n.lastFlickSpeed[i] = 0),
                                    0.1 > Math.abs(n.lastFlickSpeed[i]) && (n.lastFlickSpeed[i] = 0),
                                    (n.slowDownRatio[i] = 0.95),
                                    (n.slowDownRatioReverse[i] = 1 - n.slowDownRatio[i]),
                                    (n.speedDecelerationRatio[i] = 1);
                            },
                            calculateOverBoundsAnimOffset: function (t, e) {
                                n.backAnimStarted[t] ||
                                    (tp[t] > tt.min[t] ? (n.backAnimDestination[t] = tt.min[t]) : tp[t] < tt.max[t] && (n.backAnimDestination[t] = tt.max[t]),
                                    void 0 !== n.backAnimDestination[t] &&
                                        ((n.slowDownRatio[t] = 0.7),
                                        (n.slowDownRatioReverse[t] = 1 - n.slowDownRatio[t]),
                                        n.speedDecelerationRatioAbs[t] < 0.05 &&
                                            ((n.lastFlickSpeed[t] = 0),
                                            (n.backAnimStarted[t] = !0),
                                            t1("bounceZoomPan" + t, tp[t], n.backAnimDestination[t], e || 300, a.easing.sine.out, function (e) {
                                                (tp[t] = e), tI();
                                            }))));
                            },
                            calculateAnimOffset: function (t) {
                                n.backAnimStarted[t] ||
                                    ((n.speedDecelerationRatio[t] = n.speedDecelerationRatio[t] * (n.slowDownRatio[t] + n.slowDownRatioReverse[t] - (n.slowDownRatioReverse[t] * n.timeDiff) / 10)),
                                    (n.speedDecelerationRatioAbs[t] = Math.abs(n.lastFlickSpeed[t] * n.speedDecelerationRatio[t])),
                                    (n.distanceOffset[t] = n.lastFlickSpeed[t] * n.speedDecelerationRatio[t] * n.timeDiff),
                                    (tp[t] += n.distanceOffset[t]));
                            },
                            panAnimLoop: function () {
                                if (
                                    tH.zoomPan &&
                                    ((tH.zoomPan.raf = E(n.panAnimLoop)),
                                    (n.now = t_()),
                                    (n.timeDiff = n.now - n.lastNow),
                                    (n.lastNow = n.now),
                                    n.calculateAnimOffset("x"),
                                    n.calculateAnimOffset("y"),
                                    tI(),
                                    n.calculateOverBoundsAnimOffset("x"),
                                    n.calculateOverBoundsAnimOffset("y"),
                                    n.speedDecelerationRatioAbs.x < 0.05 && n.speedDecelerationRatioAbs.y < 0.05)
                                )
                                    return (tp.x = Math.round(tp.x)), (tp.y = Math.round(tp.y)), tI(), void tz("zoomPan");
                            },
                        };
                    return n;
                },
                ew = function (t) {
                    return (
                        t.calculateSwipeSpeed("y"),
                        (tt = o.currItem.bounds),
                        (t.backAnimDestination = {}),
                        (t.backAnimStarted = {}),
                        0.05 >= Math.abs(t.lastFlickSpeed.x) && 0.05 >= Math.abs(t.lastFlickSpeed.y)
                            ? ((t.speedDecelerationRatioAbs.x = t.speedDecelerationRatioAbs.y = 0), t.calculateOverBoundsAnimOffset("x"), t.calculateOverBoundsAnimOffset("y"), !0)
                            : (tG("zoomPan"), (t.lastNow = t_()), void t.panAnimLoop())
                    );
                },
                ex = function (t, e) {
                    if ((tn || (tQ = d), "swipe" === t)) {
                        var n = tV.x - t7.x,
                            i = e.lastFlickDist.x < 10;
                        n > 30 && (i || e.lastFlickOffset.x > 20) ? (l = -1) : n < -30 && (i || e.lastFlickOffset.x < -20) && (l = 1);
                    }
                    l && ((d += l) < 0 ? ((d = r.loop ? eD() - 1 : 0), (c = !0)) : d >= eD() && ((d = r.loop ? 0 : eD() - 1), (c = !0)), (c && !r.loop) || ((tg += l), (tf -= l), (s = !0)));
                    var s,
                        l,
                        c,
                        p,
                        u = th.x * tf,
                        f = Math.abs(u - tJ.x);
                    return (
                        (p = s || u > tJ.x == e.lastFlickSpeed.x > 0 ? Math.max((p = Math.min((p = Math.abs(e.lastFlickSpeed.x) > 0 ? f / Math.abs(e.lastFlickSpeed.x) : 333), 400)), 250) : 333),
                        tQ === d && (s = !1),
                        (tn = !0),
                        t2("mainScrollAnimStart"),
                        t1("mainScroll", tJ.x, u, p, a.easing.cubic.out, tS, function () {
                            tZ(), (tn = !1), (tQ = -1), (s || tQ !== d) && o.updateCurrItem(), t2("mainScrollAnimComplete");
                        }),
                        s && o.updateCurrItem(!0),
                        s
                    );
                },
                eC = function (t) {
                    return (1 / J) * t * v;
                },
                e8 = function () {
                    var t = g,
                        e = tN(),
                        n = tF();
                    g < e ? (t = e) : g > n && (t = n);
                    var i,
                        r = tr;
                    return to && !W && !ts && g < e
                        ? (o.close(), !0)
                        : (to &&
                              (i = function (t) {
                                  tT((1 - r) * t + r);
                              }),
                          o.zoomTo(t, 0, 200, a.easing.cubic.out, i),
                          !0);
                };
            tw("Gestures", {
                publicMethods: {
                    initGestures: function () {
                        var t = function (t, e, n, i, a) {
                            (_ = t + e), (T = t + n), (k = t + i), (I = a ? t + a : "");
                        };
                        (P = F.pointerEvent) && F.touch && (F.touch = !1),
                            P
                                ? navigator.msPointerEnabled
                                    ? t("MSPointer", "Down", "Move", "Up", "Cancel")
                                    : t("pointer", "down", "move", "up", "cancel")
                                : F.touch
                                ? (t("touch", "start", "move", "end", "cancel"), (S = !0))
                                : t("mouse", "down", "move", "up"),
                            (f = T + " " + k + " " + I),
                            (m = _),
                            P && !S && (S = navigator.maxTouchPoints > 1 || navigator.msMaxTouchPoints > 1),
                            (o.likelyTouchDevice = S),
                            (h[_] = eg),
                            (h[T] = ev),
                            (h[k] = ey),
                            I && (h[I] = h[k]),
                            F.touch && ((m += " mousedown"), (f += " mousemove mouseup"), (h.mousedown = h[_]), (h.mousemove = h[T]), (h.mouseup = h[k])),
                            S || (r.allowPanToNext = !1);
                    },
                },
            });
            var e2,
                e_,
                eT,
                ek,
                eI,
                eD,
                eP = function (e, n, i, s) {
                    e2 && clearTimeout(e2), (ek = !0), (eT = !0), e.initialLayout ? ((u = e.initialLayout), (e.initialLayout = null)) : (u = r.getThumbBoundsFn && r.getThumbBoundsFn(d));
                    var l,
                        p,
                        u,
                        f = i ? r.hideAnimationDuration : r.showAnimationDuration,
                        m = function () {
                            tz("initialZoom"),
                                i ? (o.template.removeAttribute("style"), o.bg.removeAttribute("style")) : (tT(1), n && (n.style.display = "block"), a.addClass(t, "pswp--animated-in"), t2("initialZoom" + (i ? "OutEnd" : "InEnd"))),
                                s && s(),
                                (ek = !1);
                        };
                    if (!f || !u || void 0 === u.x)
                        return (
                            t2("initialZoom" + (i ? "Out" : "In")),
                            (g = e.initialZoomLevel),
                            tA(tp, e.initialPosition),
                            tI(),
                            (t.style.opacity = i ? 0 : 1),
                            tT(1),
                            void (f
                                ? setTimeout(function () {
                                      m();
                                  }, f)
                                : m())
                        );
                    (l = c),
                        (p = !o.currItem.src || o.currItem.loadError || r.showHideOpacity),
                        e.miniImg && (e.miniImg.style.webkitBackfaceVisibility = "hidden"),
                        i || ((g = u.w / e.w), (tp.x = u.x), (tp.y = u.y - L), (o[p ? "template" : "bg"].style.opacity = 0.001), tI()),
                        tG("initialZoom"),
                        i && !l && a.removeClass(t, "pswp--animated-in"),
                        p &&
                            (i
                                ? a[(l ? "remove" : "add") + "Class"](t, "pswp--animate_opacity")
                                : setTimeout(function () {
                                      a.addClass(t, "pswp--animate_opacity");
                                  }, 30)),
                        (e2 = setTimeout(
                            function () {
                                if ((t2("initialZoom" + (i ? "Out" : "In")), i)) {
                                    var n = u.w / e.w,
                                        o = { x: tp.x, y: tp.y },
                                        r = g,
                                        s = tr,
                                        c = function (e) {
                                            1 === e ? ((g = n), (tp.x = u.x), (tp.y = u.y - N)) : ((g = (n - r) * e + r), (tp.x = (u.x - o.x) * e + o.x), (tp.y = (u.y - N - o.y) * e + o.y)),
                                                tI(),
                                                p ? (t.style.opacity = 1 - e) : tT(s - e * s);
                                        };
                                    l ? t1("initialZoom", 0, 1, f, a.easing.cubic.out, c, m) : (c(1), (e2 = setTimeout(m, f + 20)));
                                } else (g = e.initialZoomLevel), tA(tp, e.initialPosition), tI(), tT(1), p ? (t.style.opacity = 1) : tT(1), (e2 = setTimeout(m, f + 20));
                            },
                            i ? 25 : 90
                        ));
                },
                eS = {},
                eE = [],
                eA = {
                    index: 0,
                    errorMsg: '<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',
                    forceProgressiveLoading: !1,
                    preload: [1, 1],
                    getNumItemsFn: function () {
                        return e_.length;
                    },
                },
                eR = function (t, e, n) {
                    if (t.src && !t.loadError) {
                        var i,
                            a,
                            o,
                            s,
                            l = !n;
                        if ((l && (t.vGap || (t.vGap = { top: 0, bottom: 0 }), t2("parseVerticalMargin", t)), (eS.x = e.x), (eS.y = e.y - t.vGap.top - t.vGap.bottom), l)) {
                            var c = eS.x / t.w,
                                d = eS.y / t.h;
                            t.fitRatio = c < d ? c : d;
                            var p = r.scaleMode;
                            "orig" === p ? (n = 1) : "fit" === p && (n = t.fitRatio), n > 1 && (n = 1), (t.initialZoomLevel = n), t.bounds || (t.bounds = { center: { x: 0, y: 0 }, max: { x: 0, y: 0 }, min: { x: 0, y: 0 } });
                        }
                        if (!n) return;
                        return (
                            (i = t),
                            (a = t.w * n),
                            (o = t.h * n),
                            ((s = i.bounds).center.x = Math.round((eS.x - a) / 2)),
                            (s.center.y = Math.round((eS.y - o) / 2) + i.vGap.top),
                            (s.max.x = a > eS.x ? Math.round(eS.x - a) : s.center.x),
                            (s.max.y = o > eS.y ? Math.round(eS.y - o) + i.vGap.top : s.center.y),
                            (s.min.x = a > eS.x ? 0 : s.center.x),
                            (s.min.y = o > eS.y ? i.vGap.top : s.center.y),
                            l && n === t.initialZoomLevel && (t.initialPosition = t.bounds.center),
                            t.bounds
                        );
                    }
                    return (t.w = t.h = 0), (t.initialZoomLevel = t.fitRatio = 1), (t.bounds = { center: { x: 0, y: 0 }, max: { x: 0, y: 0 }, min: { x: 0, y: 0 } }), (t.initialPosition = t.bounds.center), t.bounds;
                },
                e9 = function (t, e, n, i, a, r) {
                    e.loadError ||
                        (i &&
                            ((e.imageAppended = !0),
                            eN(e, i, e === o.currItem && tb),
                            n.appendChild(i),
                            r &&
                                setTimeout(function () {
                                    e && e.loaded && e.placeholder && ((e.placeholder.style.display = "none"), (e.placeholder = null));
                                }, 500)));
                },
                eL = function (t) {
                    (t.loading = !0), (t.loaded = !1);
                    var e = (t.img = a.createEl("pswp__img", "img")),
                        n = function () {
                            (t.loading = !1), (t.loaded = !0), t.loadComplete ? t.loadComplete(t) : (t.img = null), (e.onload = e.onerror = null), (e = null);
                        };
                    return (
                        (e.onload = n),
                        (e.onerror = function () {
                            (t.loadError = !0), n();
                        }),
                        (e.src = t.src),
                        e
                    );
                },
                eO = function (t, e) {
                    if (t.src && t.loadError && t.container) return e && (t.container.innerHTML = ""), (t.container.innerHTML = r.errorMsg.replace("%url%", t.src)), !0;
                },
                eN = function (t, e, n) {
                    if (t.src) {
                        e || (e = t.container.lastChild);
                        var i = n ? t.w : Math.round(t.w * t.fitRatio),
                            a = n ? t.h : Math.round(t.h * t.fitRatio);
                        t.placeholder && !t.loaded && ((t.placeholder.style.width = i + "px"), (t.placeholder.style.height = a + "px")), (e.style.width = i + "px"), (e.style.height = a + "px");
                    }
                },
                eF = function () {
                    if (eE.length) {
                        for (var t, e = 0; e < eE.length; e++) (t = eE[e]).holder.index === t.index && e9(t.index, t.item, t.baseDiv, t.img, 0, t.clearPlaceholder);
                        eE = [];
                    }
                };
            tw("Controller", {
                publicMethods: {
                    lazyLoadItem: function (t) {
                        t = tx(t);
                        var e = eI(t);
                        e && ((!e.loaded && !e.loading) || w) && (t2("gettingData", t, e), e.src && eL(e));
                    },
                    initController: function () {
                        a.extend(r, eA, !0),
                            (o.items = e_ = n),
                            (eI = o.getItemAt),
                            (eD = r.getNumItemsFn),
                            r.loop,
                            3 > eD() && (r.loop = !1),
                            t8("beforeChange", function (t) {
                                var e,
                                    n = r.preload,
                                    i = null === t || t >= 0,
                                    a = Math.min(n[0], eD()),
                                    s = Math.min(n[1], eD());
                                for (e = 1; e <= (i ? s : a); e++) o.lazyLoadItem(d + e);
                                for (e = 1; e <= (i ? a : s); e++) o.lazyLoadItem(d - e);
                            }),
                            t8("initialLayout", function () {
                                o.currItem.initialLayout = r.getThumbBoundsFn && r.getThumbBoundsFn(d);
                            }),
                            t8("mainScrollAnimComplete", eF),
                            t8("initialZoomInEnd", eF),
                            t8("destroy", function () {
                                for (var t, e = 0; e < e_.length; e++)
                                    (t = e_[e]).container && (t.container = null), t.placeholder && (t.placeholder = null), t.img && (t.img = null), t.preloader && (t.preloader = null), t.loadError && (t.loaded = t.loadError = !1);
                                eE = null;
                            });
                    },
                    getItemAt: function (t) {
                        return t >= 0 && void 0 !== e_[t] && e_[t];
                    },
                    allowProgressiveImg: function () {
                        return r.forceProgressiveLoading || !S || r.mouseUsed || screen.width > 1200;
                    },
                    setContent: function (t, e) {
                        r.loop && (e = tx(e));
                        var n = o.getItemAt(t.index);
                        n && (n.container = null);
                        var i,
                            l = o.getItemAt(e);
                        if (l) {
                            t2("gettingData", e, l), (t.index = e), (t.item = l);
                            var c = (l.container = a.createEl("pswp__zoom-wrap"));
                            if ((!l.src && l.html && (l.html.tagName ? c.appendChild(l.html) : (c.innerHTML = l.html)), eO(l), eR(l, tu), !l.src || l.loadError || l.loaded))
                                l.src && !l.loadError && (((i = a.createEl("pswp__img", "img")).style.opacity = 1), (i.src = l.src), eN(l, i), e9(0, l, c, i));
                            else {
                                if (
                                    ((l.loadComplete = function (n) {
                                        if (s) {
                                            if (t && t.index === e) {
                                                if (eO(n, !0)) return (n.loadComplete = n.img = null), eR(n, tu), tD(n), void (t.index === d && o.updateCurrZoomItem());
                                                n.imageAppended
                                                    ? !ek && n.placeholder && ((n.placeholder.style.display = "none"), (n.placeholder = null))
                                                    : F.transform && (tn || ek)
                                                    ? eE.push({ item: n, baseDiv: c, img: n.img, index: e, holder: t, clearPlaceholder: !0 })
                                                    : e9(0, n, c, n.img, 0, !0);
                                            }
                                            (n.loadComplete = null), (n.img = null), t2("imageLoadComplete", e, n);
                                        }
                                    }),
                                    a.features.transform)
                                ) {
                                    var p = "pswp__img pswp__img--placeholder";
                                    p += l.msrc ? "" : " pswp__img--placeholder--blank";
                                    var u = a.createEl(p, l.msrc ? "img" : "");
                                    l.msrc && (u.src = l.msrc), eN(l, u), c.appendChild(u), (l.placeholder = u);
                                }
                                l.loading || eL(l), o.allowProgressiveImg() && (!eT && F.transform ? eE.push({ item: l, baseDiv: c, img: l.img, index: e, holder: t }) : e9(0, l, c, l.img, 0, !0));
                            }
                            eT || e !== d ? tD(l) : ((te = c.style), eP(l, i || l.img)), (t.el.innerHTML = ""), t.el.appendChild(c);
                        } else t.el.innerHTML = "";
                    },
                    cleanSlide: function (t) {
                        t.img && (t.img.onload = t.img.onerror = null), (t.loaded = t.loading = t.img = t.imageAppended = !1);
                    },
                },
            });
            var eM,
                eU,
                e0 = {},
                eB = function (t, e, n) {
                    var i = document.createEvent("CustomEvent"),
                        a = { origEvent: t, target: t.target, releasePoint: e, pointerType: n || "touch" };
                    i.initCustomEvent("pswpTap", !0, !0, a), t.target.dispatchEvent(i);
                };
            tw("Tap", {
                publicMethods: {
                    initTap: function () {
                        t8("firstTouchStart", o.onTapStart),
                            t8("touchRelease", o.onTapRelease),
                            t8("destroy", function () {
                                (e0 = {}), (eM = null);
                            });
                    },
                    onTapStart: function (t) {
                        t.length > 1 && (clearTimeout(eM), (eM = null));
                    },
                    onTapRelease: function (t, e) {
                        if (e && !j && !q && !tW) {
                            var n,
                                i,
                                o = e;
                            if (eM && (clearTimeout(eM), (eM = null), (n = o), (i = e0), 25 > Math.abs(n.x - i.x) && 25 > Math.abs(n.y - i.y))) return void t2("doubleTap", o);
                            if ("mouse" === e.type) return void eB(t, e, "mouse");
                            if ("BUTTON" === t.target.tagName.toUpperCase() || a.hasClass(t.target, "pswp__single-tap")) return void eB(t, e);
                            tA(e0, o),
                                (eM = setTimeout(function () {
                                    eB(t, e), (eM = null);
                                }, 300));
                        }
                    },
                },
            }),
                tw("DesktopZoom", {
                    publicMethods: {
                        initDesktopZoom: function () {
                            O ||
                                (S
                                    ? t8("mouseUsed", function () {
                                          o.setupDesktopZoom();
                                      })
                                    : o.setupDesktopZoom(!0));
                        },
                        setupDesktopZoom: function (e) {
                            eU = {};
                            var n = "wheel mousewheel DOMMouseScroll";
                            t8("bindEvents", function () {
                                a.bind(t, n, o.handleMouseWheel);
                            }),
                                t8("unbindEvents", function () {
                                    eU && a.unbind(t, n, o.handleMouseWheel);
                                }),
                                (o.mouseZoomedIn = !1);
                            var i,
                                r = function () {
                                    o.mouseZoomedIn && (a.removeClass(t, "pswp--zoomed-in"), (o.mouseZoomedIn = !1)), g < 1 ? a.addClass(t, "pswp--zoom-allowed") : a.removeClass(t, "pswp--zoom-allowed"), s();
                                },
                                s = function () {
                                    i && (a.removeClass(t, "pswp--dragging"), (i = !1));
                                };
                            t8("resize", r),
                                t8("afterChange", r),
                                t8("pointerDown", function () {
                                    o.mouseZoomedIn && ((i = !0), a.addClass(t, "pswp--dragging"));
                                }),
                                t8("pointerUp", s),
                                e || r();
                        },
                        handleMouseWheel: function (t) {
                            if (g <= o.currItem.fitRatio) return r.modal && (!r.closeOnScroll || tW || Z ? t.preventDefault() : D && Math.abs(t.deltaY) > 2 && ((c = !0), o.close())), !0;
                            if ((t.stopPropagation(), (eU.x = 0), "deltaX" in t)) 1 === t.deltaMode ? ((eU.x = 18 * t.deltaX), (eU.y = 18 * t.deltaY)) : ((eU.x = t.deltaX), (eU.y = t.deltaY));
                            else if ("wheelDelta" in t) t.wheelDeltaX && (eU.x = -0.16 * t.wheelDeltaX), t.wheelDeltaY ? (eU.y = -0.16 * t.wheelDeltaY) : (eU.y = -0.16 * t.wheelDelta);
                            else {
                                if (!("detail" in t)) return;
                                eU.y = t.detail;
                            }
                            tO(g, !0);
                            var e = tp.x - eU.x,
                                n = tp.y - eU.y;
                            (r.modal || (e <= tt.min.x && e >= tt.max.x && n <= tt.min.y && n >= tt.max.y)) && t.preventDefault(), o.panTo(e, n);
                        },
                        toggleDesktopZoom: function (e) {
                            e = e || { x: tu.x / 2 + tm.x, y: tu.y / 2 + tm.y };
                            var n = r.getDoubleTapZoom(!0, o.currItem),
                                i = g === n;
                            (o.mouseZoomedIn = !i), o.zoomTo(i ? o.currItem.initialZoomLevel : n, e, 333), a[(i ? "remove" : "add") + "Class"](t, "pswp--zoomed-in");
                        },
                    },
                });
            var eH,
                eW,
                ez,
                eG,
                eZ,
                e1,
                eq,
                eK,
                ej,
                eV,
                e7,
                e3,
                eX = { history: !0, galleryUID: 1 },
                eY = function () {
                    return e7.hash.substring(1);
                },
                e4 = function () {
                    eH && clearTimeout(eH), ez && clearTimeout(ez);
                },
                eQ = function () {
                    var t = eY(),
                        e = {};
                    if (t.length < 5) return e;
                    var n,
                        i = t.split("&");
                    for (n = 0; n < i.length; n++)
                        if (i[n]) {
                            var a = i[n].split("=");
                            a.length < 2 || (e[a[0]] = a[1]);
                        }
                    if (r.galleryPIDs) {
                        var o = e.pid;
                        for (e.pid = 0, n = 0; n < e_.length; n++)
                            if (e_[n].pid === o) {
                                e.pid = n;
                                break;
                            }
                    } else e.pid = parseInt(e.pid, 10) - 1;
                    return e.pid < 0 && (e.pid = 0), e;
                },
                e5 = function () {
                    if ((ez && clearTimeout(ez), tW || Z)) ez = setTimeout(e5, 500);
                    else {
                        eG ? clearTimeout(eW) : (eG = !0);
                        var t = d + 1,
                            e = eI(d);
                        e.hasOwnProperty("pid") && (t = e.pid);
                        var n = eq + "&gid=" + r.galleryUID + "&pid=" + t;
                        eK || (-1 === e7.hash.indexOf(n) && (eV = !0));
                        var i = e7.href.split("#")[0] + "#" + n;
                        e3 ? "#" + n !== window.location.hash && history[eK ? "replaceState" : "pushState"]("", document.title, i) : eK ? e7.replace(i) : (e7.hash = n),
                            (eK = !0),
                            (eW = setTimeout(function () {
                                eG = !1;
                            }, 60));
                    }
                };
            tw("History", {
                publicMethods: {
                    initHistory: function () {
                        if ((a.extend(r, eX, !0), r.history)) {
                            (e7 = window.location),
                                (eV = !1),
                                (ej = !1),
                                (eK = !1),
                                (eq = eY()),
                                (e3 = "pushState" in history),
                                eq.indexOf("gid=") > -1 && (eq = (eq = eq.split("&gid=")[0]).split("?gid=")[0]),
                                t8("afterChange", o.updateURL),
                                t8("unbindEvents", function () {
                                    a.unbind(window, "hashchange", o.onHashChange);
                                });
                            var t = function () {
                                (e1 = !0), ej || (eV ? history.back() : eq ? (e7.hash = eq) : e3 ? history.pushState("", document.title, e7.pathname + e7.search) : (e7.hash = "")), e4();
                            };
                            t8("unbindEvents", function () {
                                c && t();
                            }),
                                t8("destroy", function () {
                                    e1 || t();
                                }),
                                t8("firstUpdate", function () {
                                    d = eQ().pid;
                                });
                            var e = eq.indexOf("pid=");
                            e > -1 && "&" === (eq = eq.substring(0, e)).slice(-1) && (eq = eq.slice(0, -1)),
                                setTimeout(function () {
                                    s && a.bind(window, "hashchange", o.onHashChange);
                                }, 40);
                        }
                    },
                    onHashChange: function () {
                        return eY() === eq ? ((ej = !0), void o.close()) : void (eG || ((eZ = !0), o.goTo(eQ().pid), (eZ = !1)));
                    },
                    updateURL: function () {
                        e4(), eZ || (eK ? (eH = setTimeout(e5, 800)) : e5());
                    },
                },
            }),
                a.extend(o, {
                    shout: t2,
                    listen: t8,
                    viewportSize: tu,
                    options: r,
                    isMainScrollAnimating: function () {
                        return tn;
                    },
                    getZoomLevel: function () {
                        return g;
                    },
                    getCurrentIndex: function () {
                        return d;
                    },
                    isDragging: function () {
                        return Z;
                    },
                    isZooming: function () {
                        return Q;
                    },
                    setScrollOffset: function (t, e) {
                        (tm.x = t), (N = tm.y = e), t2("updateScrollOffset", tm);
                    },
                    applyZoomPan: function (t, e, n, i) {
                        (tp.x = e), (tp.y = n), (g = t), tI(i);
                    },
                    init: function () {
                        if (!s && !l) {
                            (o.framework = a),
                                (o.template = t),
                                (o.bg = a.getChildByClass(t, "pswp__bg")),
                                (R = t.className),
                                (s = !0),
                                (E = (F = a.detectFeatures()).raf),
                                (A = F.caf),
                                (D = F.transform),
                                (O = F.oldIE),
                                (o.scrollWrap = a.getChildByClass(t, "pswp__scroll-wrap")),
                                (o.container = a.getChildByClass(o.scrollWrap, "pswp__container")),
                                (p = o.container.style),
                                (o.itemHolders = x = [
                                    { el: o.container.children[0], wrap: 0, index: -1 },
                                    { el: o.container.children[1], wrap: 0, index: -1 },
                                    { el: o.container.children[2], wrap: 0, index: -1 },
                                ]),
                                (x[0].el.style.display = x[2].el.style.display = "none"),
                                (function () {
                                    if (D) return ($ = "translate" + (F.perspective && !S ? "3d(" : "(")), void (y = F.perspective ? ", 0px)" : ")");
                                    (D = "left"),
                                        a.addClass(t, "pswp--ie"),
                                        (tP = function (t, e) {
                                            e.left = t + "px";
                                        }),
                                        (tD = function (t) {
                                            var e = t.fitRatio > 1 ? 1 : t.fitRatio,
                                                n = t.container.style,
                                                i = e * t.w,
                                                a = e * t.h;
                                            (n.width = i + "px"), (n.height = a + "px"), (n.left = t.initialPosition.x + "px"), (n.top = t.initialPosition.y + "px");
                                        }),
                                        (tI = function () {
                                            if (te) {
                                                var t = te,
                                                    e = o.currItem,
                                                    n = e.fitRatio > 1 ? 1 : e.fitRatio,
                                                    i = n * e.w,
                                                    a = n * e.h;
                                                (t.width = i + "px"), (t.height = a + "px"), (t.left = tp.x + "px"), (t.top = tp.y + "px");
                                            }
                                        });
                                })(),
                                (h = {
                                    resize: o.updateSize,
                                    orientationchange: function () {
                                        clearTimeout(M),
                                            (M = setTimeout(function () {
                                                tu.x !== o.scrollWrap.clientWidth && o.updateSize();
                                            }, 500));
                                    },
                                    scroll: tB,
                                    keydown: tU,
                                    click: t0,
                                });
                            var n,
                                i = F.isOldIOSPhone || F.isOldAndroid || F.isMobileOpera;
                            for ((F.animationName && F.transform && !i) || (r.showAnimationDuration = r.hideAnimationDuration = 0), n = 0; n < t$.length; n++) o["init" + t$[n]]();
                            e && (o.ui = new e(o, a)).init(),
                                t2("firstUpdate"),
                                (d = d || r.index || 0),
                                (isNaN(d) || d < 0 || d >= eD()) && (d = 0),
                                (o.currItem = eI(d)),
                                (F.isOldIOSPhone || F.isOldAndroid) && (tv = !1),
                                t.setAttribute("aria-hidden", "false"),
                                r.modal && (tv ? (t.style.position = "fixed") : ((t.style.position = "absolute"), (t.style.top = a.getScrollY() + "px"))),
                                void 0 === N && (t2("initialLayout"), (N = L = a.getScrollY()));
                            var c = "pswp--open ";
                            for (
                                r.mainClass && (c += r.mainClass + " "),
                                    r.showHideOpacity && (c += "pswp--animate_opacity "),
                                    c += S ? "pswp--touch" : "pswp--notouch",
                                    c += F.animationName ? " pswp--css_animation" : "",
                                    c += F.svg ? " pswp--svg" : "",
                                    a.addClass(t, c),
                                    o.updateSize(),
                                    u = -1,
                                    tg = null,
                                    n = 0;
                                n < 3;
                                n++
                            )
                                tP((n + u) * th.x, x[n].el.style);
                            O || a.bind(o.scrollWrap, m, o),
                                t8("initialZoomInEnd", function () {
                                    o.setContent(x[0], d - 1),
                                        o.setContent(x[2], d + 1),
                                        (x[0].el.style.display = x[2].el.style.display = "block"),
                                        r.focus && t.focus(),
                                        a.bind(document, "keydown", o),
                                        F.transform && a.bind(o.scrollWrap, "click", o),
                                        r.mouseUsed || a.bind(document, "mousemove", tL),
                                        a.bind(window, "resize scroll orientationchange", o),
                                        t2("bindEvents");
                                }),
                                o.setContent(x[1], d),
                                o.updateCurrItem(),
                                t2("afterInit"),
                                tv ||
                                    (b = setInterval(function () {
                                        tW || Z || Q || g !== o.currItem.initialZoomLevel || o.updateSize();
                                    }, 1e3)),
                                a.addClass(t, "pswp--visible");
                        }
                    },
                    close: function () {
                        s &&
                            ((s = !1),
                            (l = !0),
                            t2("close"),
                            a.unbind(window, "resize scroll orientationchange", o),
                            a.unbind(window, "scroll", h.scroll),
                            a.unbind(document, "keydown", o),
                            a.unbind(document, "mousemove", tL),
                            F.transform && a.unbind(o.scrollWrap, "click", o),
                            Z && a.unbind(window, f, o),
                            clearTimeout(M),
                            t2("unbindEvents"),
                            eP(o.currItem, null, !0, o.destroy));
                    },
                    destroy: function () {
                        t2("destroy"), e2 && clearTimeout(e2), t.setAttribute("aria-hidden", "true"), (t.className = R), b && clearInterval(b), a.unbind(o.scrollWrap, m, o), a.unbind(window, "scroll", o), ei(), tZ(), (tC = null);
                    },
                    panTo: function (t, e, n) {
                        n || (t > tt.min.x ? (t = tt.min.x) : t < tt.max.x && (t = tt.max.x), e > tt.min.y ? (e = tt.min.y) : e < tt.max.y && (e = tt.max.y)), (tp.x = t), (tp.y = e), tI();
                    },
                    handleEvent: function (t) {
                        h[(t = t || window.event).type] && h[t.type](t);
                    },
                    goTo: function (t) {
                        var e = (t = tx(t)) - d;
                        (tg = e), (d = t), (o.currItem = eI(d)), (tf -= e), tS(th.x * tf), tZ(), (tn = !1), o.updateCurrItem();
                    },
                    next: function () {
                        o.goTo(d + 1);
                    },
                    prev: function () {
                        o.goTo(d - 1);
                    },
                    updateCurrZoomItem: function (t) {
                        if ((t && t2("beforeChange", 0), x[1].el.children.length)) {
                            var e = x[1].el.children[0];
                            te = a.hasClass(e, "pswp__zoom-wrap") ? e.style : null;
                        } else te = null;
                        (tt = o.currItem.bounds), (v = g = o.currItem.initialZoomLevel), (tp.x = tt.center.x), (tp.y = tt.center.y), t && t2("afterChange");
                    },
                    invalidateCurrItems: function () {
                        w = !0;
                        for (var t = 0; t < 3; t++) x[t].item && (x[t].item.needsUpdate = !0);
                    },
                    updateCurrItem: function (t) {
                        if (0 !== tg) {
                            var e,
                                n = Math.abs(tg);
                            if (!(t && n < 2)) {
                                (o.currItem = eI(d)), (tb = !1), t2("beforeChange", tg), n >= 3 && ((u += tg + (tg > 0 ? -3 : 3)), (n = 3));
                                for (var i = 0; i < n; i++)
                                    tg > 0
                                        ? ((e = x.shift()), (x[2] = e), tP((++u + 2) * th.x, e.el.style), o.setContent(e, d - n + i + 1 + 1))
                                        : ((e = x.pop()), x.unshift(e), tP(--u * th.x, e.el.style), o.setContent(e, d + n - i - 1 - 1));
                                if (te && 1 === Math.abs(tg)) {
                                    var a = eI(C);
                                    a.initialZoomLevel !== g && (eR(a, tu), eN(a), tD(a));
                                }
                                (tg = 0), o.updateCurrZoomItem(), (C = d), t2("afterChange");
                            }
                        }
                    },
                    updateSize: function (e) {
                        if (!tv && r.modal) {
                            var n = a.getScrollY();
                            if ((N !== n && ((t.style.top = n + "px"), (N = n)), !e && ty.x === window.innerWidth && ty.y === window.innerHeight)) return;
                            (ty.x = window.innerWidth), (ty.y = window.innerHeight), (t.style.height = ty.y + "px");
                        }
                        if (((tu.x = o.scrollWrap.clientWidth), (tu.y = o.scrollWrap.clientHeight), tB(), (th.x = tu.x + Math.round(tu.x * r.spacing)), (th.y = tu.y), tS(th.x * tf), t2("beforeResize"), void 0 !== u)) {
                            for (var i, s, l, c = 0; c < 3; c++)
                                (i = x[c]),
                                    tP((c + u) * th.x, i.el.style),
                                    (l = d + c - 1),
                                    r.loop && eD() > 2 && (l = tx(l)),
                                    (s = eI(l)) && (w || s.needsUpdate || !s.bounds)
                                        ? (o.cleanSlide(s), o.setContent(i, l), 1 === c && ((o.currItem = s), o.updateCurrZoomItem(!0)), (s.needsUpdate = !1))
                                        : -1 === i.index && l >= 0 && o.setContent(i, l),
                                    s && s.container && (eR(s, tu), eN(s), tD(s));
                            w = !1;
                        }
                        (v = g = o.currItem.initialZoomLevel), (tt = o.currItem.bounds) && ((tp.x = tt.center.x), (tp.y = tt.center.y), tI(!0)), t2("resize");
                    },
                    zoomTo: function (t, e, n, i, o) {
                        e && ((v = g), (et.x = Math.abs(e.x) - tp.x), (et.y = Math.abs(e.y) - tp.y), tA(td, tp));
                        var r = tO(t, !1),
                            s = {};
                        tM("x", r, s, t), tM("y", r, s, t);
                        var l = g,
                            c = tp.x,
                            d = tp.y;
                        tR(s);
                        var p = function (e) {
                            1 === e ? ((g = t), (tp.x = s.x), (tp.y = s.y)) : ((g = (t - l) * e + l), (tp.x = (s.x - c) * e + c), (tp.y = (s.y - d) * e + d)), o && o(e), tI(1 === e);
                        };
                        n ? t1("customZoomTo", 0, 1, n, i || a.easing.sine.inOut, p) : p(1);
                    },
                });
        };
    }),
    (function (t, e) {
        "function" == typeof define && define.amd ? define(e) : "object" == typeof exports ? (module.exports = e()) : (t.PhotoSwipeUI_Default = e());
    })(this, function () {
        return function (t, e) {
            var n,
                i,
                a,
                o,
                r,
                s,
                l,
                c,
                d,
                p,
                u,
                f,
                m,
                h,
                g,
                v,
                $,
                y,
                b = this,
                w = !1,
                x = !0,
                C = !0,
                _ = {
                    barsSize: { top: 44, bottom: "auto" },
                    closeElClasses: ["item", "caption", "zoom-wrap", "ui", "top-bar"],
                    timeToIdle: 4e3,
                    timeToIdleOutside: 1e3,
                    loadingIndicatorDelay: 1e3,
                    addCaptionHTMLFn: function (t, e) {
                        return t.title ? ((e.children[0].innerHTML = t.title), !0) : ((e.children[0].innerHTML = ""), !1);
                    },
                    closeEl: !0,
                    captionEl: !0,
                    fullscreenEl: !0,
                    zoomEl: !0,
                    shareEl: !0,
                    counterEl: !0,
                    arrowEl: !0,
                    preloaderEl: !0,
                    tapToClose: !1,
                    tapToToggleControls: !0,
                    clickToCloseNonZoomable: !0,
                    shareButtons: [
                        { id: "facebook", label: "Share on Facebook", url: "https://www.facebook.com/sharer/sharer.php?u={{url}}" },
                        { id: "twitter", label: "Tweet", url: "https://twitter.com/intent/tweet?text={{text}}&url={{url}}" },
                        { id: "pinterest", label: "Pin it", url: "http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}" },
                        { id: "download", label: "Download image", url: "{{raw_image_url}}", download: !0 },
                    ],
                    getImageURLForShare: function () {
                        return t.currItem.src || "";
                    },
                    getPageURLForShare: function () {
                        return window.location.href;
                    },
                    getTextForShare: function () {
                        return t.currItem.title || "";
                    },
                    indexIndicatorSep: " / ",
                    fitControlsWidth: 1200,
                },
                T = function (t) {
                    if (v) return !0;
                    (t = t || window.event), g.timeToIdle && g.mouseUsed && !d && L();
                    for (var n, i, a = (t.target || t.srcElement).getAttribute("class") || "", o = 0; o < M.length; o++) (n = M[o]).onTap && a.indexOf("pswp__" + n.name) > -1 && (n.onTap(), (i = !0));
                    i &&
                        (t.stopPropagation && t.stopPropagation(),
                        (v = !0),
                        setTimeout(
                            function () {
                                v = !1;
                            },
                            e.features.isOldAndroid ? 600 : 30
                        ));
                },
                k = function (t, n, i) {
                    e[(i ? "add" : "remove") + "Class"](t, "pswp__" + n);
                },
                I = function () {
                    var t = 1 === g.getNumItemsFn();
                    t !== h && (k(i, "ui--one-slide", t), (h = t));
                },
                D = function () {
                    k(l, "share-modal--hidden", C);
                },
                P = function () {
                    return (
                        (C = !C)
                            ? (e.removeClass(l, "pswp__share-modal--fade-in"),
                              setTimeout(function () {
                                  C && D();
                              }, 300))
                            : (D(),
                              setTimeout(function () {
                                  C || e.addClass(l, "pswp__share-modal--fade-in");
                              }, 30)),
                        C || E(),
                        !1
                    );
                },
                S = function (e) {
                    var n = (e = e || window.event).target || e.srcElement;
                    return (
                        t.shout("shareLinkClick", e, n),
                        !(
                            !n.href ||
                            (!n.hasAttribute("download") &&
                                (window.open(n.href, "pswp_share", "scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left=" + (window.screen ? Math.round(screen.width / 2 - 275) : 100)), C || P(), 1))
                        )
                    );
                },
                E = function () {
                    for (var t, e, n, i, a = "", o = 0; o < g.shareButtons.length; o++)
                        (t = g.shareButtons[o]),
                            (e = g.getImageURLForShare(t)),
                            (n = g.getPageURLForShare(t)),
                            (i = g.getTextForShare(t)),
                            (a +=
                                '<a href="' +
                                t.url.replace("{{url}}", encodeURIComponent(n)).replace("{{image_url}}", encodeURIComponent(e)).replace("{{raw_image_url}}", e).replace("{{text}}", encodeURIComponent(i)) +
                                '" target="_blank" class="pswp__share--' +
                                t.id +
                                '"' +
                                (t.download ? "download" : "") +
                                ">" +
                                t.label +
                                "</a>"),
                            g.parseShareButtonOut && (a = g.parseShareButtonOut(t, a));
                    (l.children[0].innerHTML = a), (l.children[0].onclick = S);
                },
                A = function (t) {
                    for (var n = 0; n < g.closeElClasses.length; n++) if (e.hasClass(t, "pswp__" + g.closeElClasses[n])) return !0;
                },
                R = 0,
                L = function () {
                    clearTimeout(y), (R = 0), d && b.setIdle(!1);
                },
                O = function (t) {
                    var e = (t = t || window.event).relatedTarget || t.toElement;
                    (e && "HTML" !== e.nodeName) ||
                        (clearTimeout(y),
                        (y = setTimeout(function () {
                            b.setIdle(!0);
                        }, g.timeToIdleOutside)));
                },
                N = function (t) {
                    f !== t && (k(u, "preloader--active", !t), (f = t));
                },
                F = function (n) {
                    var r = n.vGap;
                    if (!t.likelyTouchDevice || g.mouseUsed || screen.width > g.fitControlsWidth) {
                        var s = g.barsSize;
                        if (g.captionEl && "auto" === s.bottom) {
                            if ((o || ((o = e.createEl("pswp__caption pswp__caption--fake")).appendChild(e.createEl("pswp__caption__center")), i.insertBefore(o, a), e.addClass(i, "pswp__ui--fit")), g.addCaptionHTMLFn(n, o, !0))) {
                                var l = o.clientHeight;
                                r.bottom = parseInt(l, 10) || 44;
                            } else r.bottom = s.top;
                        } else r.bottom = "auto" === s.bottom ? 0 : s.bottom;
                        r.top = s.top;
                    } else r.top = r.bottom = 0;
                },
                M = [
                    {
                        name: "caption",
                        option: "captionEl",
                        onInit: function (t) {
                            a = t;
                        },
                    },
                    {
                        name: "share-modal",
                        option: "shareEl",
                        onInit: function (t) {
                            l = t;
                        },
                        onTap: function () {
                            P();
                        },
                    },
                    {
                        name: "button--share",
                        option: "shareEl",
                        onInit: function (t) {
                            s = t;
                        },
                        onTap: function () {
                            P();
                        },
                    },
                    { name: "button--zoom", option: "zoomEl", onTap: t.toggleDesktopZoom },
                    {
                        name: "counter",
                        option: "counterEl",
                        onInit: function (t) {
                            r = t;
                        },
                    },
                    { name: "button--close", option: "closeEl", onTap: t.close },
                    { name: "button--arrow--left", option: "arrowEl", onTap: t.prev },
                    { name: "button--arrow--right", option: "arrowEl", onTap: t.next },
                    {
                        name: "button--fs",
                        option: "fullscreenEl",
                        onTap: function () {
                            n.isFullscreen() ? n.exit() : n.enter();
                        },
                    },
                    {
                        name: "preloader",
                        option: "preloaderEl",
                        onInit: function (t) {
                            u = t;
                        },
                    },
                ];
            (b.init = function () {
                var r, c, d, u, f, h;
                e.extend(t.options, _, !0),
                    (g = t.options),
                    (i = e.getChildByClass(t.scrollWrap, "pswp__ui")),
                    (p = t.listen)("onVerticalDrag", function (t) {
                        x && t < 0.95 ? b.hideControls() : !x && t >= 0.95 && b.showControls();
                    }),
                    p("onPinchClose", function (t) {
                        x && t < 0.9 ? (b.hideControls(), (r = !0)) : r && !x && t > 0.9 && b.showControls();
                    }),
                    p("zoomGestureEnded", function () {
                        r = !1;
                    }),
                    p("beforeChange", b.update),
                    p("doubleTap", function (e) {
                        var n = t.currItem.initialZoomLevel;
                        t.getZoomLevel() !== n ? t.zoomTo(n, e, 333) : t.zoomTo(g.getDoubleTapZoom(!1, t.currItem), e, 333);
                    }),
                    p("preventDragEvent", function (t, e, n) {
                        var i = t.target || t.srcElement;
                        i && i.getAttribute("class") && t.type.indexOf("mouse") > -1 && (i.getAttribute("class").indexOf("__caption") > 0 || /(SMALL|STRONG|EM)/i.test(i.tagName)) && (n.prevent = !1);
                    }),
                    p("bindEvents", function () {
                        e.bind(i, "pswpTap click", T), e.bind(t.scrollWrap, "pswpTap", b.onGlobalTap), t.likelyTouchDevice || e.bind(t.scrollWrap, "mouseover", b.onMouseOver);
                    }),
                    p("unbindEvents", function () {
                        C || P(),
                            $ && clearInterval($),
                            e.unbind(document, "mouseout", O),
                            e.unbind(document, "mousemove", L),
                            e.unbind(i, "pswpTap click", T),
                            e.unbind(t.scrollWrap, "pswpTap", b.onGlobalTap),
                            e.unbind(t.scrollWrap, "mouseover", b.onMouseOver),
                            n && (e.unbind(document, n.eventK, b.updateFullscreen), n.isFullscreen() && ((g.hideAnimationDuration = 0), n.exit()), (n = null));
                    }),
                    p("destroy", function () {
                        g.captionEl && (o && i.removeChild(o), e.removeClass(a, "pswp__caption--empty")), l && (l.children[0].onclick = null), e.removeClass(i, "pswp__ui--over-close"), e.addClass(i, "pswp__ui--hidden"), b.setIdle(!1);
                    }),
                    g.showAnimationDuration || e.removeClass(i, "pswp__ui--hidden"),
                    p("initialZoomIn", function () {
                        g.showAnimationDuration && e.removeClass(i, "pswp__ui--hidden");
                    }),
                    p("initialZoomOut", function () {
                        e.addClass(i, "pswp__ui--hidden");
                    }),
                    p("parseVerticalMargin", F),
                    (f = function (t) {
                        if (t)
                            for (var n = t.length, i = 0; i < n; i++) {
                                d = (c = t[i]).className;
                                for (var a = 0; a < M.length; a++)
                                    (u = M[a]), d.indexOf("pswp__" + u.name) > -1 && (g[u.option] ? (e.removeClass(c, "pswp__element--disabled"), u.onInit && u.onInit(c)) : e.addClass(c, "pswp__element--disabled"));
                            }
                    })(i.children),
                    (h = e.getChildByClass(i, "pswp__top-bar")) && f(h.children),
                    g.shareEl && s && l && (C = !0),
                    I(),
                    g.timeToIdle &&
                        p("mouseUsed", function () {
                            e.bind(document, "mousemove", L),
                                e.bind(document, "mouseout", O),
                                ($ = setInterval(function () {
                                    2 == ++R && b.setIdle(!0);
                                }, g.timeToIdle / 2));
                        }),
                    g.fullscreenEl &&
                        !e.features.isOldAndroid &&
                        (n || (n = b.getFullscreenAPI()), n ? (e.bind(document, n.eventK, b.updateFullscreen), b.updateFullscreen(), e.addClass(t.template, "pswp--supports-fs")) : e.removeClass(t.template, "pswp--supports-fs")),
                    g.preloaderEl &&
                        (N(!0),
                        p("beforeChange", function () {
                            clearTimeout(m),
                                (m = setTimeout(function () {
                                    t.currItem && t.currItem.loading ? (t.allowProgressiveImg() && (!t.currItem.img || t.currItem.img.naturalWidth)) || N(!1) : N(!0);
                                }, g.loadingIndicatorDelay));
                        }),
                        p("imageLoadComplete", function (e, n) {
                            t.currItem === n && N(!0);
                        }));
            }),
                (b.setIdle = function (t) {
                    (d = t), k(i, "ui--idle", t);
                }),
                (b.update = function () {
                    x && t.currItem ? (b.updateIndexIndicator(), g.captionEl && (g.addCaptionHTMLFn(t.currItem, a), k(a, "caption--empty", !t.currItem.title)), (w = !0)) : (w = !1), C || P(), I();
                }),
                (b.updateFullscreen = function (i) {
                    i &&
                        setTimeout(function () {
                            t.setScrollOffset(0, e.getScrollY());
                        }, 50),
                        e[(n.isFullscreen() ? "add" : "remove") + "Class"](t.template, "pswp--fs");
                }),
                (b.updateIndexIndicator = function () {
                    g.counterEl && (r.innerHTML = t.getCurrentIndex() + 1 + g.indexIndicatorSep + g.getNumItemsFn());
                }),
                (b.onGlobalTap = function (n) {
                    var i = (n = n || window.event).target || n.srcElement;
                    if (!v) {
                        if (n.detail && "mouse" === n.detail.pointerType) {
                            if (A(i)) return void t.close();
                            e.hasClass(i, "pswp__img") && (1 === t.getZoomLevel() && t.getZoomLevel() <= t.currItem.fitRatio ? g.clickToCloseNonZoomable && t.close() : t.toggleDesktopZoom(n.detail.releasePoint));
                        } else if ((g.tapToToggleControls && (x ? b.hideControls() : b.showControls()), g.tapToClose && (e.hasClass(i, "pswp__img") || A(i)))) return void t.close();
                    }
                }),
                (b.onMouseOver = function (t) {
                    k(i, "ui--over-close", A((t = t || window.event).target || t.srcElement));
                }),
                (b.hideControls = function () {
                    e.addClass(i, "pswp__ui--hidden"), (x = !1);
                }),
                (b.showControls = function () {
                    (x = !0), w || b.update(), e.removeClass(i, "pswp__ui--hidden");
                }),
                (b.supportsFullscreen = function () {
                    var t = document;
                    return !!(t.exitFullscreen || t.mozCancelFullScreen || t.webkitExitFullscreen || t.msExitFullscreen);
                }),
                (b.getFullscreenAPI = function () {
                    var e,
                        n = document.documentElement,
                        i = "fullscreenchange";
                    return (
                        n.requestFullscreen
                            ? (e = { enterK: "requestFullscreen", exitK: "exitFullscreen", elementK: "fullscreenElement", eventK: i })
                            : n.mozRequestFullScreen
                            ? (e = { enterK: "mozRequestFullScreen", exitK: "mozCancelFullScreen", elementK: "mozFullScreenElement", eventK: "moz" + i })
                            : n.webkitRequestFullscreen
                            ? (e = { enterK: "webkitRequestFullscreen", exitK: "webkitExitFullscreen", elementK: "webkitFullscreenElement", eventK: "webkit" + i })
                            : n.msRequestFullscreen && (e = { enterK: "msRequestFullscreen", exitK: "msExitFullscreen", elementK: "msFullscreenElement", eventK: "MSFullscreenChange" }),
                        e &&
                            ((e.enter = function () {
                                return (c = g.closeOnScroll), (g.closeOnScroll = !1), "webkitRequestFullscreen" !== this.enterK ? t.template[this.enterK]() : void t.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);
                            }),
                            (e.exit = function () {
                                return (g.closeOnScroll = c), document[this.exitK]();
                            }),
                            (e.isFullscreen = function () {
                                return document[this.elementK];
                            })),
                        e
                    );
                });
        };
    }),
    (function (t) {
        "use strict";
        var e = t(window),
            n = t(document),
            i = e.width(),
            a = t("html"),
            o = t("body"),
            r = i < 768,
            s = window.T4Sstrings,
            l = t(".t4s-close-overlay"),
            c = "t4s-lock-scroll",
            d = "[data-t4s-scroll-me]",
            p = T4Srequest.page_type,
            u = T4Sroutes.search_url,
            f = T4Sconfigs.platform_email,
            m = T4Sconfigs.enableConfetti,
            h = T4SThemeSP.cacheNameFirst,
            g = "change:ajaxCart",
            v = "top-start, top, top-end, left-start, left, left-end, right-start, right, right-end, bottom-start, bottom, bottom-end".split(", "),
            $ = { left: "right", "left-start": "right-start", "left-end": "right-end", right: "left", "right-start": "left-start", "right-end": "left-end" },
            y = function (t) {
                return (isThemeRTL && $[t]) || t;
            };
        function b(t, e) {
            return JSON.parse(t || e || "{}");
        }
        (T4SThemeSP.Tooltip = (function () {
            var e = "is--show",
                n = function (t) {
                    var e = t.find(".t4s-text-pr").text() || t.text();
                    return (
                        t.attr("title") && "string" != typeof t.attr("data-original-title") && ((e = t.attr("title")), t.attr("data-original-title", t.attr("title") || "").attr("title", "")),
                        t.attr("data-t4s-tooltip") ? (e = t.attr("data-t4s-tooltip")) : t.attr("data-original-title") && (e = t.attr("data-original-title")),
                        e
                    );
                };
            function i(n, i, a) {
                var o,
                    r,
                    s = t(n),
                    l = (function (t) {
                        do t += ~~(1e6 * Math.random());
                        while (document.getElementById(t));
                        return t;
                    })("tooltipt4s");
                s.attr("aria-describedby", l),
                    (o = a),
                    (r = l),
                    T4SThemeSP.$appendComponent.after(
                        '<div class="t4s-tooltip" id="id_nt_tt" role="tooltip"><div class="t4s-tt-arrow"></div><div class="t4s-tooltip-inner">nt_txt_tt</div></div>'.replace("nt_txt_tt", o).replace("id_nt_tt", r)
                    );
                var c,
                    d,
                    p,
                    u,
                    f = t("#" + l);
                (c = n),
                    (d = f[0]),
                    (p = f.find(".t4s-tt-arrow")[0]),
                    (u = i),
                    fastdomT4s.mutate(function () {
                        FloatingUIT4sDOM.computePosition(c, d, {
                            placement: u,
                            middleware: [FloatingUIT4sDOM.offset(6), FloatingUIT4sDOM.flip({ fallbackPlacements: ["top", "bottom"] }), FloatingUIT4sDOM.shift({ padding: 5 }), FloatingUIT4sDOM.arrow({ element: p })],
                        }).then(({ x: t, y: e, placement: n, middlewareData: i }) => {
                            Object.assign(d.style, { top: "0", left: "0", transform: `translate3d(${Math.round(t)}px,${Math.round(e)}px,0)` });
                            let { x: a, y: o } = i.arrow,
                                r = { top: "bottom", right: "left", bottom: "top", left: "right" }[n.split("-")[0]];
                            Object.assign(p.style, { left: null != a ? `${a}px` : "", top: null != o ? `${o}px` : "", right: "", bottom: "", [r]: "-4px" });
                        });
                    }),
                    f.addClass(e);
            }
            function a(n) {
                var i = t("#" + t(n).attr("aria-describedby"));
                i.removeClass(e), i.remove();
            }
            return (
                o.on("t4s:hideTooltip", function () {
                    t(".t4s-tooltip.is--show").remove();
                }),
                function (e) {
                    if (!T4SThemeSP.isTouch) {
                        var o = t("[data-tooltip]:not(.t4s-tooltip-actived)");
                        0 != o.length &&
                            o
                                .hoverIntent({
                                    sensitivity: 6,
                                    interval: 80,
                                    timeout: 100,
                                    over: function (e) {
                                        let o = t(this),
                                            r = o.attr("data-tooltip") || "nt94";
                                        0 > v.indexOf(r) ||
                                            (i(this, y(r), n(o)),
                                            o.on("updateTooltip", function () {
                                                a(this), i(this, y(r), n(o));
                                            }),
                                            o.on("destroyTooltip", function () {
                                                a(this);
                                            }));
                                    },
                                    out: function (e) {
                                        var n = t(this).attr("data-tooltip") || "nt94";
                                        0 > v.indexOf(n) || (a(this), t(this).off("updateTooltip").off("destroyTooltip"));
                                    },
                                })
                                .addClass("t4s-tooltip-actived");
                    }
                }
            );
        })()),
            (T4SThemeSP.LookBook = (function () {
                var i = { loading: "is--loading", loaded: "is--loaded", clicked: "is--clicked", selected: "is--selected", opened: "is--opened", preload: "is--preLoaded", visible: "is--visible is--pindop" },
                    o = [];
                function s(e, n, a = !1) {
                    if (e.hasClass(i.loaded)) a && u(e, n);
                    else {
                        var r = e.data("sid"),
                            s = o[n + r];
                        if (!e.is("[data-is-pr]")) return e.addClass(i.loaded), (s = t("#tem" + n).html()), T4SThemeSP.$appendComponent.after(s.replace('id=""', 'id="' + n + '"')), void (a && u(e, n));
                        s
                            ? (T4SThemeSP.$appendComponent.after(s), e.addClass(i.loaded), T4SThemeSP.ProductItem.init(), T4SThemeSP.Tooltip(), a && u(e, n))
                            : (e.addClass(i.loading),
                              fetch(e.data("href") + "/?section_id=" + r)
                                  .then(function (t) {
                                      return t.text();
                                  })
                                  .then(function (t) {
                                      (t = (t = t.split("[t4splitlz]")[1]).replace("id_nt_t4s", n)),
                                          T4SThemeSP.$appendComponent.after(t),
                                          e.removeClass(i.loading).addClass(i.loaded),
                                          T4SThemeSP.ProductItem.init(),
                                          T4SThemeSP.Tooltip(),
                                          a && u(e, n);
                                  })
                                  .catch(function (t) {
                                      e.removeClass(i.loading), console.log(t);
                                  }));
                    }
                }
                function p() {
                    r && (a.removeClass(c), T4SThemeSP.Helpers.disableBodyScroll(!1, d)),
                        t("[data-pin-close],[data-pin-popup]." + i.clicked).off("click.closelb"),
                        n.off("click.closelb").off("keyup.closelb"),
                        t("[data-pin-wrapper]." + i.opened).removeClass(i.opened),
                        t("[data-pin-popup]." + i.clicked).removeClass(i.clicked),
                        l.removeClass(i.visible);
                }
                function u(o, s, u = "lb") {
                    let m;
                    (h = s), r && (a.addClass(c), T4SThemeSP.Helpers.disableBodyScroll(!0, d)), (m = t("#" + h)).addClass(i.opened), m.hasClass("is-style-mb--false") || l.addClass(i.visible);
                    var h,
                        g,
                        v,
                        $,
                        b,
                        w = t("#" + s),
                        x = w[0],
                        C = w.find(".t4s-" + u + "-arrow"),
                        _ = o.data("position") || "top";
                    (e.width() > 767 || w.hasClass("is-style-mb--false")) &&
                        ((g = o[0]),
                        (v = x),
                        ($ = C[0]),
                        (b = y(_)),
                        fastdomT4s.mutate(function () {
                            FloatingUIT4sDOM.computePosition(g, v, {
                                placement: b,
                                middleware: [FloatingUIT4sDOM.offset(12), FloatingUIT4sDOM.flip({ fallbackPlacements: ["top", "bottom"] }), FloatingUIT4sDOM.shift({ padding: 0 }), FloatingUIT4sDOM.arrow({ element: $ })],
                            }).then(({ x: t, y: e, placement: n, middlewareData: i }) => {
                                Object.assign(v.style, { top: "0", left: "0", transform: `translate3d(${Math.round(t)}px,${Math.round(e)}px,0)` });
                                let { x: a, y: o } = i.arrow,
                                    r = { top: "bottom", right: "left", bottom: "top", left: "right" }[n.split("-")[0]];
                                Object.assign($.style, { left: null != a ? `${a}px` : "", top: null != o ? `${o}px` : "", right: "", bottom: "", [r]: "-6px" });
                            });
                        })),
                        "lb" == u
                            ? (n.on("click.closelb", function (e) {
                                  var n = t(e.target);
                                  n.closest("[data-pin-wrapper]").length > 0 || n.is("[data-pin-popup]") || p();
                              }),
                              t(`#${s} [data-pin-close], [data-pin-popup].${i.clicked}`).on("click.closelb", function (t) {
                                  t.preventDefault(), t.stopPropagation(), p();
                              }),
                              n.on("keyup.closelb", function (t) {
                                  27 === t.keyCode && p();
                              }))
                            : (n.on("click.closeDrop", function (e) {
                                  var n = t(e.target);
                                  n.closest("[data-dropdown-wrapper]").length > 0 || n.is("[data-dropdown-open]") || f();
                              }),
                              t(`#${s} [data-dropdown-close], [data-dropdown-open].${i.clicked}`).on("click.closeDrop", function (t) {
                                  t.preventDefault(), t.stopPropagation(), f();
                              }),
                              n.on("keyup.closeDrop", function (t) {
                                  27 === t.keyCode && f();
                              }));
                }
                function f() {
                    a.removeClass(c),
                        T4SThemeSP.Helpers.disableBodyScroll(!1, d),
                        t("[data-dropdown-close],[data-dropdown-open]." + i.clicked).off("click.closeDrop"),
                        n.off("click.closeDrop").off("keyup.closeDrop"),
                        t("[data-dropdown-wrapper]." + i.opened).removeClass(i.opened),
                        t("[data-dropdown-open]." + i.clicked).removeClass(i.clicked),
                        l.removeClass(i.visible);
                }
                return function () {
                    n.on("click", "[data-pin-popup]:not(." + i.clicked + ")", function (e) {
                        e.preventDefault();
                        var n = t(this),
                            a = n.data("bid");
                        p(), n.addClass(i.clicked), s(n, a, !0);
                    }),
                        t("[data-pin-popup][data-is-pr]:not(." + i.clicked + "):not(." + i.opened + ")").on("mouseenter.pin", function (e) {
                            var n = t(this),
                                a = n.data("bid");
                            n.addClass(i.preload), s(n, a), n.off("touchstart.pin mouseenter.pin");
                        }),
                        n.on("click", "[data-dropdown-open]:not(." + i.clicked + ")", function (e) {
                            e.preventDefault();
                            var n = t(this),
                                a = n.data("id");
                            f(),
                                n.addClass(i.clicked),
                                u(n, a, "drop"),
                                (function (e) {
                                    t("#" + e).on("click.dopText", "[data-dropdown-item]", function (n) {
                                        n.preventDefault();
                                        var a = t(this);
                                        a
                                            .parents()
                                            .find("." + i.selected)
                                            .removeClass(i.selected),
                                            a.addClass(i.selected),
                                            t('[data-dropdown-open][data-id="' + e + '"]>span').text(a.text()),
                                            t("#" + e).off("click.dopText"),
                                            a.trigger("change:drop", [a, a.data("value")]),
                                            f();
                                    });
                                })(a);
                        }),
                        n.on("click", "[data-dropdown-off]", function (e) {
                            var n = t(this);
                            t(this).closest("[data-dropdown-wrapper]").find("[data-dropdown-open]>span").text(n.text()), f();
                        }),
                        n.on("dropdown:t4s:close", function (t) {
                            f();
                        });
                };
            })()),
            (T4SThemeSP.Hover = function () {
                var e = t("[data-hover-t4s]");
                0 == e.length ||
                    i < 1025 ||
                    e.each(function (e, n) {
                        var i = this,
                            a = t(i);
                        (i.ishasGroup = i.hasAttribute("data-has-group")),
                            a.hoverIntent({
                                sensitivity: 3,
                                interval: a.data("interval") || 35,
                                timeout: a.data("timeout") || 150,
                                over: function (t) {
                                    i.ishasGroup && a.siblings().removeClass("is--hover"), a.addClass("is--hover");
                                },
                                out: function () {
                                    i.ishasGroup || a.removeClass("is--hover");
                                },
                            });
                    });
            }),
            (T4SThemeSP.ProductItem = (function () {
                var e = t("#btns_pr_temp").html(),
                    i = "data-tooltip",
                    r = i + '="',
                    s = "id_nt_94",
                    l = "handle_nt_94",
                    c = T4Sconfigs,
                    d = T4SProductStrings,
                    p = T4Sconfigs.img2,
                    u = c.nowTimestamp,
                    f = c.new_day_int,
                    m = c.show_img,
                    h = c.enable_quickshop,
                    g = c.use_sale_badge,
                    v = c.label_sale_style,
                    $ = c.use_preorder_badge,
                    y = c.use_new_badge,
                    w = c.use_soldout_badge,
                    x = c.use_custom_badge,
                    C = c.swatch_limit,
                    _ = c.swatch_click,
                    T = c.swatch_num,
                    k = 2,
                    I = d.preOrder,
                    D = d.readMore,
                    P = (d.soldOut, d.selectOption),
                    S = d.quickShop,
                    E = d.preView,
                    A = "data-color-options",
                    R = "is--loading",
                    L = "is-t4s--opended",
                    O = "is-t4s--calced",
                    N = "is-t4s--limit",
                    F = "[data-t4s-resizeobserver]",
                    M = c.sw_item_style,
                    U = d.swatch_limit,
                    B = d.swatch_limit_less,
                    H = c.show_qty,
                    W = '.t4s-pr-color__item:not(.is-swatch--current):not([data-img="none"]):not(.is--colors-more)',
                    z = c.pr_curent,
                    G = T4Sconfigs.app_review,
                    Z = { sale: d.badgeSale, new: d.badgeNew, preOrder: d.badgepreOrder, soldout: d.badgeSoldout, SavePercent: d.badgeSavePercent },
                    q = "initProducts__enabled";
                function K(e) {
                    if (C) {
                        var n = e ? "[" + A + "]" : "[" + A + "]:not(." + O + ")";
                        T
                            ? fastdomT4s.measure(function () {
                                  t(n).each(function (e) {
                                      var n = t(this),
                                          i = n.find(".t4s-pr-color__item").length - 1,
                                          a = i - T;
                                      fastdomT4s.mutate(function () {
                                          n.addClass(O).removeClass(N),
                                              n.find(".is-color--limit").removeClass("is-color--limit"),
                                              a > 0 &&
                                                  (n.addClass(N),
                                                  n
                                                      .find(".t4s-pr-color__item")
                                                      .eq(T - 1)
                                                      .addClass("is-color--limit"),
                                                  n.attr("data-limit", i).attr("style", '--text : "+' + a + '";--text2 : "-' + a + '"'));
                                      });
                                  });
                              })
                            : fastdomT4s.measure(function () {
                                  t(n).each(function (e) {
                                      var n = t(this),
                                          i = n.find(".t4s-pr-color__item"),
                                          a = i.outerWidth(!0),
                                          o = i.length - 1,
                                          r = Math.floor(n.outerWidth() / a),
                                          s = o - r;
                                      fastdomT4s.mutate(function () {
                                          n.addClass(O).removeClass(N),
                                              n.find(".is-color--limit").removeClass("is-color--limit"),
                                              s > 0 &&
                                                  s != o &&
                                                  ((s += 1),
                                                  n.addClass(N),
                                                  n
                                                      .find(".t4s-pr-color__item")
                                                      .eq(r - 2)
                                                      .addClass("is-color--limit"),
                                                  n.attr("data-limit", r).attr("style", '--text : "+' + s + '";--text2 : "-' + s + '"'));
                                      });
                                  });
                              });
                    }
                }
                function j(t) {
                    var e,
                        n,
                        i = t.data("img"),
                        a = (t.data("ratio"), t.data("vid")),
                        o = t.closest("[data-product-options]"),
                        r = o.find("[data-pr-img]"),
                        s = o.find("[data-pr-href]"),
                        l = s.attr("href");
                    t.closest("[data-color-options]").find(".is-swatch--selected").removeClass("is-swatch--selected"),
                        t.addClass("is-swatch--selected"),
                        o.addClass("t4s-colors-selected"),
                        r.attr("data-srcset", i),
                        "1" != z && void 0 !== a && s.attr("href", ((n = a), /variant=/.test((e = l)) ? e.replace(/(variant=)[^&]+/, "$1" + n) : /\?/.test(e) ? e.concat("&variant=").concat(n) : e.concat("?variant=").concat(n)));
                }
                C && (a.addClass("t4s-pr-item-sw-limit"), T && T > 0 && (k = T));
                var V,
                    X,
                    Y = "[data-pr-href]:not(.is--href-replaced)",
                    Q = "/products/";
                function J() {
                    T4Sconfigs.within_cat &&
                        0 != t(Y).length &&
                        t("[data-collection-url]").each(function () {
                            (V = t(this).attr("data-collection-url")),
                                t.trim(V).length < 1 ||
                                    t(this)
                                        .find(Y)
                                        .each(function () {
                                            (X = (X = t(this).attr("href")).split(Q)[1]),
                                                (X = Q + X),
                                                t(this)
                                                    .attr("href", V + X)
                                                    .addClass("is--href-replaced");
                                        });
                        });
                }
                var tt = [];
                return {
                    init: function () {
                        J(),
                            t("[data-product-options]:not(.is-t4s-pr-created)").each(function () {
                                var n,
                                    a,
                                    o,
                                    c,
                                    d = t(this),
                                    _ = b(d.attr("data-product-options")),
                                    T = d.find("[data-pr-href]").attr("href");
                                "boolean" != typeof _.unQuickShopInline && (_.unQuickShopInline = !0),
                                    (n = d),
                                    (a = _.image2),
                                    (o = _.alt),
                                    (c = ""),
                                    "2" == m && a && ((c = p.replace("image_src", a).replace("image_alt", o)), n.find(".t4s-product-img").addClass("is-show-img2")),
                                    n.find("[data-replace-img2]").replaceWith(c),
                                    (function (t, n, a) {
                                        var o = t.find("[data-replace-quickview]"),
                                            c = o.attr(i) || "",
                                            d = n.id,
                                            p = t.find("[data-replace-compare]"),
                                            u = p.attr(i) || "",
                                            f = t.find("[data-replace-wishlist]"),
                                            m = f.attr(i) || "",
                                            g = t.find("[data-replace-atc]"),
                                            v = g.is("[data-has-qty]"),
                                            $ = g.attr(i) || "",
                                            y = e.replace(/#t4s_pr_url/g, a).split("[split_t4nt]");
                                        o.replaceWith(y[0].replace(r, r + c).replace(s, d)),
                                            p.replaceWith(
                                                y[1]
                                                    .replace(r, r + u)
                                                    .replace(s, d)
                                                    .replace(l, n.handle)
                                            ),
                                            f.replaceWith(
                                                y[2]
                                                    .replace(r, r + m)
                                                    .replace(s, d)
                                                    .replace(l, n.handle)
                                            ),
                                            g.replaceWith(y[3].replace(r, r + $).replace(s, d));
                                        var b = (g = t.find("[data-atc-selector]")).find(".t4s-text-pr"),
                                            w = g.find(".t4s-svg-pr-icon use");
                                        if (n.isExternal) g.attr("href", n.external_link).attr("target", "_blank"), b.text(n.external_title), w.attr("xlink:href", "#t4s-icon-external");
                                        else if (n.available) {
                                            if (n.isGrouped) b.text(E);
                                            else if (n.isDefault) {
                                                if ((n.isPreoder && b.text(I), g.attr({ "data-action-atc": "", "data-variant-id": n.VariantFirstID, "data-qty": n.cusQty || 1 }), H && v && g[0])) {
                                                    var x = g[0].outerHTML,
                                                        C = y[4].replace('max="9999"', `max="${n.maxQuantity}"`).replace('min="1"', `min="${n.cusQty || 1}`);
                                                    g.replaceWith('<div class="t4s-product-atc-qty">' + C + x + "</div>");
                                                }
                                            } else h && n.unQuickShopInline ? (g.attr("data-action-quickshop", ""), b.text(S)) : b.text(P);
                                        } else b.text(D), w.attr("xlink:href", "#t4s-icon-link");
                                        n.unQuickShopInline ||
                                            t.one("replace:btnAtc", function () {
                                                if ((g.attr({ "data-action-atc": "", "data-variant-id": n.VariantFirstID, "data-qty": n.cusQty || 1 }), H && v && g[0])) {
                                                    var t = g[0].outerHTML,
                                                        e = y[4].replace('max="9999"', `max="${n.maxQuantity}"`).replace('min="1"', `min="${n.cusQty || 1}`);
                                                    g.replaceWith('<div class="t4s-product-atc-qty">' + e + t + "</div>");
                                                }
                                            });
                                    })(d, _, T),
                                    (function (t, e) {
                                        var n = t.find("[data-product-badge]"),
                                            i = (n.attr("data-sort") || "").replace(/ /g, "").split(","),
                                            a = "",
                                            o = !e.unQuickShopInline;
                                        if (0 != i.length && 0 != n.length) {
                                            for (var r = i.length, s = 0; s < r; s++)
                                                switch (i[s]) {
                                                    case "sale":
                                                        var l = e.compare_at_price,
                                                            c = e.price;
                                                        if (l <= c || !g) {
                                                            o && (a += '<span data-badge-sale class="t4s-badge-item t4s-badge-sale" hidden></span>');
                                                            break;
                                                        }
                                                        if ("2" == v)
                                                            var d = (100 * (l - c)) / l,
                                                                p = Z.SavePercent.replace("[sale]", Math.round(d));
                                                        else if ("3" == v) {
                                                            var m = l - c;
                                                            p = T4SThemeSP.Currency.formatMoney(m);
                                                        } else p = Z[i[s]];
                                                        a += '<span data-badge-sale class="t4s-badge-item t4s-badge-sale">' + p + "</span>";
                                                        break;
                                                    case "preOrder":
                                                        if (!e.isPreoder || !$) {
                                                            o && (a += '<span data-badge-preorder class="t4s-badge-item t4s-badge-preorder" hidden>' + Z[i[s]] + "</span>");
                                                            break;
                                                        }
                                                        a += '<span data-badge-preorder class="t4s-badge-item t4s-badge-preorder">' + Z[i[s]] + "</span>";
                                                        break;
                                                    case "new":
                                                        var h = Math.floor((u - e.dateStart) / 3600);
                                                        if ((h = Math.floor(h / 24)) >= f || !y) break;
                                                        a += '<span class="t4s-badge-item t4s-badge-new">' + Z[i[s]] + "</span>";
                                                        break;
                                                    case "soldout":
                                                        if (e.available || !w) {
                                                            o && (a += '<span data-badge-soldout class="t4s-badge-item t4s-badge-soldout" hidden>' + Z[i[s]] + "</span>");
                                                            break;
                                                        }
                                                        a += '<span data-badge-soldout class="t4s-badge-item t4s-badge-soldout">' + Z[i[s]] + "</span>";
                                                        break;
                                                    default:
                                                        var b = e.customBadge;
                                                        if (!b || !x) break;
                                                        for (var C = b.length, _ = 0; _ < C; _++) a += '<span class="t4s-badge-item t4s-badge-custom t4s-badge-' + e.customBadgeHandle[_] + '">' + b[_] + "</span>";
                                                }
                                            n.html(a);
                                        }
                                    })(d, _),
                                    (function (t, e) {
                                        var n = t.find("[" + A + "]");
                                        if (0 != n.length) {
                                            for (
                                                var i = b(n.attr(A)),
                                                    a = i.color_variants,
                                                    o = i.color_variants_avai,
                                                    r = i.color_variants_handle,
                                                    s = i.img_options,
                                                    l = i.img_variants,
                                                    c = i.id_variants,
                                                    d = i.img_ratios,
                                                    p = "",
                                                    u = l.length > 0,
                                                    f = a.length,
                                                    m = f != o.length,
                                                    h = 0;
                                                h < f;
                                                h++
                                            ) {
                                                var g,
                                                    v = a[h],
                                                    $ = s.indexOf(v),
                                                    y = "nt94" != (g = (g = u ? l[$] : "nt94") || "nt94") ? T4SThemeSP.Images.lazyloadImagePath(g) : "none",
                                                    w = "nt94" != g && "2" == M ? 'data-bg="' + T4SThemeSP.Images.getNewImageUrl(g, 100) + '"' : "";
                                                p +=
                                                    '<span class="t4s-pr-color__item' +
                                                    (m && 0 > o.indexOf(v) ? " t4s-pr-color--sold-out" : "") +
                                                    '" data-vid="' +
                                                    c[h] +
                                                    '" data-tooltip="top" data-img="' +
                                                    y +
                                                    '" data-ratio="' +
                                                    (d[h] || "") +
                                                    '"><span class="t4s-pr-color__name">' +
                                                    v +
                                                    '</span><span class="t4s-pr-color__value bg_color_' +
                                                    r[h] +
                                                    ' lazyloadt4s" ' +
                                                    w +
                                                    "></span></span>";
                                            }
                                            f > k &&
                                                C &&
                                                (p +=
                                                    '<span class="t4s-pr-color__item is--colors-more" data-tooltip="top-end"><span class="t4s-pr-color__name">' +
                                                    U +
                                                    '</span><a href="' +
                                                    e +
                                                    '" class="t4s-pr-color__value bg_color_limit4"></a></span>'),
                                                n.html(p);
                                        }
                                    })(d, T),
                                    K(),
                                    (function (t, e, n) {
                                        if (!(n.unQuickShopInline || e.hasClass(q) || n.isGrouped || n.isExternal)) {
                                            var i = e.find("[data-qs-inl]");
                                            i.hasClass("lazyloadt4sed")
                                                ? new T4SThemeSP.Product(t)
                                                : i.one("lazyincluded", function () {
                                                      new T4SThemeSP.Product(t);
                                                  });
                                        }
                                    })(this, d, _),
                                    d.addClass("is-t4s-pr-created");
                            }),
                            T4SThemeSP.Tooltip(),
                            T4SThemeSP.Compare.updateAll(),
                            T4SThemeSP.Wishlist.updateAll();
                    },
                    initQuickVS: function () {
                        function e() {
                            var e = t(".t4s-product-quick-view"),
                                n = e.find("[data-product-featured]:not(." + q + ")");
                            n.addClass(q), new T4SThemeSP.Product(n[0]);
                            var i = e.find("[data-main-media]");
                            i.hasClass("flickityt4s") && !i.hasClass("flickityt4s-enabled") && (i[0].flickityt4s = new T4SThemeSP.Carousel(i[0])),
                                T4SThemeSP.PopupMFP(),
                                T4SThemeSP.initGroupsProduct(),
                                window.Shopify && Shopify.PaymentButton && Shopify.PaymentButton.init(),
                                T4SThemeSP.Wishlist.updateAll(),
                                T4SThemeSP.Compare.updateAll(),
                                T4SThemeSP.ProductItem.reloadReview(),
                                T4SThemeSP.Tooltip();
                        }
                        function i() {
                            var e = t(".t4s-product-quick-shop:not(." + q + ")");
                            e.addClass(q),
                                new T4SThemeSP.Product(e[0]),
                                T4SThemeSP.PopupMFP(),
                                window.Shopify && Shopify.PaymentButton && Shopify.PaymentButton.init(),
                                T4SThemeSP.Wishlist.updateAll(),
                                T4SThemeSP.Compare.updateAll(),
                                T4SThemeSP.ProductItem.reloadReview(),
                                T4SThemeSP.Tooltip();
                        }
                        H && a.addClass("t4s-pr-item-has-qty"),
                            o.on("click", "[data-action-quickview], [data-action-quickshop]", function (a) {
                                a.preventDefault();
                                var r = t(this);
                                if (!r.hasClass(R)) {
                                    var s = r.attr("href"),
                                        l = r.is("[data-action-quickview]"),
                                        c = l ? "main-qv" : "main-qs",
                                        d = l ? "t4s-opening-qv" : "t4s-opening-qs",
                                        p = r.data("id"),
                                        u = tt[c + p];
                                    if (((T4SThemeSP.isEditCartReplace = "0" == r.data("edit")), (T4SThemeSP.iDVariantEdit = p), (T4SThemeSP.keyVariantEdit = r.data("key")), u))
                                        T4SThemeSP.NTpopupInline(u, c, l ? e : i, d), o.trigger("modalt4s:opened");
                                    else {
                                        if (T4SThemeSP.isEditCartReplace) {
                                            var f,
                                                m,
                                                h = r.closest("[data-cart-item]"),
                                                g = r.closest("[data-cart-wrapper]"),
                                                v = h.find(".t4s-cart-ld__bar"),
                                                $ = v.find(".t4s-cart-spinner");
                                            g.addClass("is--contentUpdate"),
                                                h.addClass("is--update"),
                                                v.removeAttr("hidden"),
                                                $.removeAttr("hidden"),
                                                n.on("cart:updated", function (t) {
                                                    g.removeClass("is--contentUpdate"), n.off("cart:updated"), h.removeClass("is--update"), v.attr("hidden", ""), $.attr("hidden", "");
                                                });
                                        } else r.addClass(R);
                                        fetch(((f = s), (m = "section_id=" + c), f + (f.indexOf("?") > -1 || f.indexOf("&") > -1 ? "&" : "/?") + m))
                                            .then(function (t) {
                                                return t.text();
                                            })
                                            .then(function (a) {
                                                r.removeClass(R),
                                                    n.trigger("cart:updated"),
                                                    (a = IsDesignMode ? t(a).find("template").html() : t(a).html()),
                                                    T4SThemeSP.NTpopupInline(a, c, l ? e : i, d),
                                                    o.trigger("modalt4s:opened"),
                                                    (tt[c + p] = a);
                                            })
                                            .catch(function (t) {
                                                r.removeClass(R), n.trigger("cart:updated"), console.log(t);
                                            });
                                    }
                                }
                            });
                    },
                    recalculateSwatches: K,
                    clickMoreSwatches: function () {
                        C &&
                            "2" != _ &&
                            o.on("click", ".t4s-pr-color__item.is--colors-more>a", function (e) {
                                e.preventDefault();
                                var n = t(this).closest("." + N);
                                n.hasClass(L) ? (n.removeClass(L), t(this).siblings().text(U)) : (n.addClass(L), t(this).siblings().text(B));
                            });
                    },
                    swatchesClickHover: function () {
                        T4SThemeSP.isTouch
                            ? o.on("click", W, function () {
                                  j(t(this));
                              })
                            : o.hoverIntent({
                                  selector: W,
                                  sensitivity: 6,
                                  interval: 100,
                                  timeout: 100,
                                  over: function (e) {
                                      j(t(this));
                                  },
                                  out: function () {},
                              });
                    },
                    resizeObserver: function () {
                        var e = t(F + ".flickityt4s-enabled .t4s-product:not(.t4s_observered), " + F + ".isotopet4s-enabled .t4s-product:not(.t4s_observered)");
                        if (0 != e.length && window.ResizeObserver) {
                            var n = new ResizeObserver(function (e) {
                                e.forEach(function (e) {
                                    var n,
                                        i = t(e.target),
                                        a = i.is(F) ? i : i.closest(F);
                                    clearTimeout(n),
                                        a.addClass("is-t4s--doing"),
                                        (n = setTimeout(function () {
                                            a.hasClass("flickityt4s-enabled") ? a.flickityt4s("resize") : a.hasClass("isotopet4s-enabled") && a.isotopet4s("layout"), a.removeClass("is-t4s--doing");
                                        }, 28));
                                });
                            });
                            e.each(function (e) {
                                var i = t(this);
                                n.observe(this),
                                    i.addClass("t4s_observered"),
                                    i.one("destroy.observered", function () {
                                        n.unobserve(this), i.removeClass("t4s_observered");
                                    });
                            });
                        }
                    },
                    reloadReview: function () {
                        if ("1" == G)
                            try {
                                window.SPR && t(".spr-badge").length > 0 && SPR.initDomEls(), SPR.loadBadges();
                            } catch (e) {}
                        else "8" == G ? "undefined" != typeof SMARTIFYAPPS && SMARTIFYAPPS.rv.installed && SMARTIFYAPPS.rv.scmReviewsRate.actionCreateReviews() : "6" == G && o.trigger("reloadReview.t4s");
                    },
                    loadjsRevew: function () {
                        "6" == G && $script(T4Sconfigs.script12);
                    },
                    updateColelction: J,
                };
            })()),
            (T4SThemeSP.ProductAjax = (function () {
                var e = { loading: "is--loading" },
                    i = { disabled: "aria-disabled" },
                    a = "disable" == T4Sconfigs.cartType,
                    r = "cart" != p ? (a ? "cart_data" : "cart_data,mini_cart") : `cart_data,${window.cartT4SectionID}`,
                    s = T4Sconfigs.enableAjaxATC,
                    l = T4Sconfigs.enableAjaxCart,
                    c = T4Sroutes.cart_add_url + ".js",
                    d = T4Sroutes.cart_change_url + ".js",
                    u = T4Sconfigs.disATCerror,
                    f = r.split(","),
                    m = "change.required keyup.required",
                    h = "is--field-emty is--animated t4s-ani-shake";
                function v(t = "json") {
                    return { method: "POST", headers: { "Content-Type": "application/json", Accept: `application/${t}` } };
                }
                function $(t = !1) {
                    t && !u && T4SThemeSP.Notices(t);
                }
                function y(t, e, i) {
                    var flag = true;
                    var a = t.closest("[data-cart-item]"),
                        o = t.closest("[data-cart-wrapper]"),
                        s = o.find("#all_cart_spin"),
                        l = s.find(".t4s-cart-spinner"),
                        s_new = o.find("#all_cart_spin_new"),
                        l_new = s_new.find(".t4s-cart-spinner");
                   o.addClass("is--contentUpdate"),
                        a.addClass("is--update"),
                        s.removeAttr("hidden"),
                        l.removeAttr("hidden"),
                        // $("#all_cart_spin .t4s-cart-spinner").removeAttr("hidden");
                        // $("#all_cart_spin").removeAttr("hidden");
                        o.addClass("is--contentUpdate_new"),
                        s_new.removeAttr("hidden"),
                        l_new.removeAttr("hidden"),
                        n.on("cart:updated", function (t) {
                              if(flag){
                                cartGiftUpdate();
                                flag = false;
                              }
                        });
                    let c = v("javascript");
                    (c.headers["X-Requested-With"] = "XMLHttpRequest"),
                        (c.body = JSON.stringify({ id: `${e}`, quantity: i, sections: r, sections_url: window.location.pathname })),
                        fetch(`${d}`, c)
                            .then((t) => t.json())
                            .then((t) => {
                                if (t.status) return $(t.description), void n.trigger("cart:updated");
                                b(t.sections);
                            })
                            .catch((t) => {
                                n.trigger("cart:updated"), console.error(t);
                            });
                }
                function b(t) {
                    t ? T4SThemeSP.Cart.renderContents(t) : T4SThemeSP.Cart.getToFetch();
                }
                function w(a) {
                    var r,
                        l = a.find("[data-field-required]"),
                        p = !!a.hasClass("has--properties") && l.length > 0,
                        u = !1;
                    a.on("click", "[data-atc-form]", function (g) {
                      console.log("%%%%%%%%%%%%%%%%%%%%%%%%%%%")
                        if (t(this).attr(i.disabled)) g.preventDefault(), T4SThemeSP.Notices(T4SProductStrings.pleaseChooseOptions);
                        else {
                            if (
                                (p &&
                                    (g.preventDefault(),
                                    (u = !1),
                                    l.each(function () {
                                        let e = t(this),
                                            n = e.closest("[data-item-property-field]");
                                        n.hasClass("is--type-radio") || n.hasClass("is--type-checkbox") ? n.find("input[name]").is(":checked") || (n.addClass(h), (u = !0)) : 0 == e.val().length && (n.addClass(h), (u = !0));
                                    })),
                                u)
                            )
                                return (
                                    clearTimeout(r),
                                    (r = setTimeout(function () {
                                        a.find(".is--animated.t4s-ani-shake").removeClass("is--animated t4s-ani-shake");
                                    }, 999)),
                                    void l.off(m).on(m, function (e) {
                                        let n = t(this),
                                            i = n.closest("[data-item-property-field]");
                                        i.hasClass("is--type-radio") || i.hasClass("is--type-checkbox") ? i.find("input[name]").is(":checked") && i.removeClass(h) : n.val().length > 0 && i.removeClass(h);
                                    })
                                );
                            if (!s) return;
                            l.off(m),
                                g.preventDefault(),
                                (function (t) {
                                    t.addClass(e.loading).attr("aria-disabled", !0),
                                        t.find(".loading-overlay__spinner").removeAttr("hidden"),
                                        t.find(".t4s-svg-spinner").removeAttr("hidden"),
                                        n.on("cart:updated", function (a) {
                                            t.removeClass(e.loading).removeAttr(i.disabled),
                                                t.find(".loading-overlay__spinner").attr("hidden", ""),
                                                t.find(".t4s-svg-spinner").attr("hidden", ""),
                                                n.off("cart:updated"),
                                                o.trigger("modalt4s:closed");
                                        });
                                    let a = v("javascript");
                                    (a.headers["X-Requested-With"] = "XMLHttpRequest"), delete a.headers["Content-Type"];
                                    let r = new FormData(t.closest("form")[0]);
                                    r.append("sections", f),
                                        r.append("sections_url", window.location.pathname),
                                        (a.body = r),
                                        fetch(`${c}`, a)
                                            .then((t) => t.json())
                                            .then((t) => {
                                                if (t.status) return $(t.description), void n.trigger("cart:updated");
                                                if (T4SThemeSP.isEditCartReplace && t.variant_id != T4SThemeSP.iDVariantEdit) {
                                                    let e = v("javascript");
                                                    (e.headers["X-Requested-With"] = "XMLHttpRequest"),
                                                        (e.body = JSON.stringify({ id: `${T4SThemeSP.keyVariantEdit}`, quantity: 0 })),
                                                        fetch(`${d}`, e)
                                                            .then((t) => t.json())
                                                            .then((t) => {
                                                                t.status ? $(t.description) : (n.trigger("add:cart:success").trigger("add:cart:upsell"), (T4SThemeSP.isATCSuccess = !0), b(t.sections));
                                                            })
                                                            .catch((t) => {
                                                                console.error(t);
                                                            });
                                                } else n.trigger("add:cart:success").trigger("add:cart:upsell"), (T4SThemeSP.isATCSuccess = !0), b(t.sections);
                                            })
                                            .catch((t) => {
                                                n.trigger("cart:updated");
                                            })
                                            .finally(() => {});
                                })(t(this));
                        }
                    });
                }
                function x() {
                  console.log("%%%%%%%%%%%%%%%%11111111111")
                    t("[data-cart-items]")
                        .off(g)
                        .on(g, "[data-action-change]", function (e) {
                            var n = t(this),
                                i = (n.closest("[data-cart-item]"), n.data("id")),
                                a = n.val() || 1;
                            n.attr("max"), l && y(n, i, a);
                        })
                        .off("click.remove")
                        .on("click.remove", "[data-cart-remove]", function (e) {
                            if (l) {
                                e.preventDefault();
                                var n = t(this);
                                y(n, n.data("id"), 0);
                            }
                        });
                }
                return {
                    init: function () {
                        n.on("submitAtc:t4s", function (t) {
                            w(t.$container.find('[data-type="add-to-cart-form"]'));
                        }),
                            w(t('[data-type="add-to-cart-form"]')),
                            o.on("click", "[data-action-atc]", function (a) {
                                s &&
                                    (a.preventDefault(),
                                    (function (t) {
                                      // let myCart = document.getElementById("t4s-mini_cart");
                                      // let myCartSpin = myCart.find("#all_cart_spin");
                                      // let myCartSpinSpan = myCartSpin.find(".t4s-cart-spinner");
                                      //   myCartSpin.removeAttr("hidden");
                                      //   myCartSpinSpan.removeAttr("hidden");
                                      //   myCart.addClass("is--contentUpdate")
                                      
                                        t.addClass(e.loading).attr(i.disabled, !0);
                                        let a = v("javascript");
                                        let popup = document.createElement("div");
                                        a.headers["X-Requested-With"] = "XMLHttpRequest";
                                        var o = t.attr("data-variant-id"),
                                            s = parseInt(t.prev("[data-quantity-wrapper]").find("[data-quantity-value]").val()) || t.data("qty") || 1,
                                            l = [];
                                        l.push({ id: o, quantity: s }),
                                            (a.body = JSON.stringify({ items: l, sections: r, sections_url: window.location.pathname })),
                                          setTimeout(function() {
  t.removeClass(e.loading).removeAttr(i.disabled);
                                             popup.classList.add("add-to-cart-popup"),  
                                                      (popup.innerHTML = `<div class="kart">
    <svg width="23" height="24" viewBox="0 0 23 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g id="SVGRepo_iconCarrier">
    <path id="Vector" fill-rule="evenodd" clip-rule="evenodd" d="M11.5 23.5C17.8513 23.5 23 18.3513 23 12C23 9.65732 22.2995 7.47825 21.0965 5.66083L11.9536 15.8197C11.0686 16.803 9.57924 16.9483 8.52078 16.1544L4.34444 13.0222C3.77988 12.5988 3.66547 11.7979 4.08889 11.2333C4.51231 10.6688 5.31322 10.5543 5.87778 10.9778L10.0541 14.11L19.4401 3.68109C17.376 1.71027 14.5793 0.5 11.5 0.5C5.14873 0.5 0 5.64873 0 12C0 18.3513 5.14873 23.5 11.5 23.5Z" fill="#6EC172"/>
    </g>
    </svg>
</div>
Product added to cart!  <a onclick="viewCart()" href="javascript.void(0)"  data-drawer-options='{ "id":"#t4s-mini_cart" }'>View Cart</a>`),
                                                        document.body.appendChild(popup);
                                            // if(o == "44978297438455" || o == "44978172985591"){
                                            //   show_boubble();
                                            // }
}, 1000); 
                                      
                                           // n.on("cart:updated", function (a) {
                                             //   t.removeClass(e.loading).removeAttr(i.disabled),
                                            //  n.off("cart:updated");
                                       //     }),

                                        var var_o = document.getElementById("t4s-mini_cart"),
                                            var_s = document.getElementById("all_cart_spin"),
                                            var_l = document.getElementById("t4s_cart_spinner"),
                                            var_s_new = document.getElementById("all_cart_spin_new"),
                                            var_l_new = document.getElementById("t4s_cart_spinner_new");
                                      
                                            var_o.classList.add("is--contentUpdate"),
                                            var_s.removeAttribute("hidden"),
                                            var_l.removeAttribute("hidden"),
                                            
                                            var_o.classList.add("is--contentUpdate_new"),
                                            var_s_new.removeAttribute("hidden"),
                                            var_l_new.removeAttribute("hidden"),
                                              
                                            fetch(`${c}`, a)
                                                .then((t) => t.json())
                                                .then((t) => {
                                                    if (t.status) return $(t.description), void n.trigger("cart:updated");
                                                    n.trigger("add:cart:success").trigger("add:cart:upsell"), (T4SThemeSP.isATCSuccess = !0), b(t.sections);
                                                })
                                                .then((t) => {
                                                    //let e = document.createElement("div");
                                                         var itemObject = {
                                                            item_id: o,
                                                            id: o,
                                                            google_business_vertical: 'retail',
                                                            quantity: 1
                                                        }

                                                        dataLayer.push({ ecommerce: null });
                                                        dataLayer.push({
                                                            event: "custom_add_to_cart",
                                                            ecommerce: {
                                                                items: [itemObject]
                                                            }
                                                        });
                                                        if(o){
                                                            console.log("single added to cart.......")
                                                           setTimeout(function () {
                                                                cartGiftUpdate();
                                                            }, 2000);
                                                          
                                                          }else{
                                                          console.log("all added to cart.......")
                                                            setTimeout(function () {
                                                                cartGiftUpdate();
                                                            }, 2000);
                                                          }
                                                        // first_time_confeti();
                                                        
                                                        setTimeout(function () {
                                                            popup.remove();
                                                        }, 8000);
                                                })
                                                .catch((t) => {
                                                    n.trigger("cart:updated"), console.error(t);
                                                });
                                    })(t(this)));
                            }),
                            x();
                    },
                    change: x,
                };
            })()),
            (T4SThemeSP.T4sQuantityAdjust =
                ((w = s.notice_stock_msg),
                (x = T4Sconfigs.disOnlyStock),
                (C = "data-current-qty"),
                String.prototype.getDecimals ||
                    (String.prototype.getDecimals = function () {
                        var t = ("" + this).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);
                        return t ? Math.max(0, (t[1] ? t[1].length : 0) - (t[2] ? +t[2] : 0)) : 0;
                    }),
                function () {
                    o.on("change", "[data-quantity-value]", function (e) {
                        var n = t(this),
                            i = (n.data("id"), n.val() || 1),
                            a = n.attr("max") || 9999,
                            r = n.attr("min") || 1,
                            s = n.attr(C) || 0.1,
                            l = n.closest(".fgr_frm");
                        if ((l.length > 0 && (subtt_price_group(l), o.trigger("currency:update")), parseInt(i) > parseInt(a))) {
                            if ((n.val(a), n.attr(C, a), s != a && n.attr(C, a).trigger(g), x)) return;
                            return T4SThemeSP.Notices(w.replace("[max]", a)), !1;
                        }
                        if (parseInt(i) < parseInt(r)) return n.val(r), s != r && n.attr(C, r).trigger(g), !1;
                        n.trigger(g), n.attr(C, i);
                    }),
                        o.on("click", "[data-quantity-selector]", function (e) {
                            e.preventDefault();
                            var n = t(this),
                                i = n.closest("[data-quantity-wrapper]").find("[data-quantity-value]"),
                                a = parseFloat(i.val()),
                                o = parseFloat(i.attr("max")),
                                r = parseFloat(i.attr("min")),
                                s = i.attr("step");
                            if (
                                ((a && "" !== a && "NaN" !== a) || (a = 0),
                                ("" !== o && "NaN" !== o) || (o = ""),
                                ("" !== r && "NaN" !== r) || (r = 0),
                                ("any" !== s && "" !== s && void 0 !== s && "NaN" !== parseFloat(s)) || (s = 1),
                                n.is("[data-increase-qty]"))
                            ) {
                                if (o && a >= o) {
                                    if ((i.val(o), x)) return;
                                    return T4SThemeSP.Notices(w.replace("[max]", o)), !1;
                                }
                                i.val((a + parseFloat(s)).toFixed(s.getDecimals()));
                            } else r && a <= r ? i.val(r) : a > 0 && i.val((a - parseFloat(s)).toFixed(s.getDecimals()));
                            i.trigger("change");
                          // console.log("data-quantity-selector -------------- click ---------")
                          //   setTimeout(function () {
                          //       cartGiftUpdate();
                          //   }, 1000);
                        });
                  o.on("click", ".free_gift_claim .free_claim_buttton", function (e) {
                    e.preventDefault();
                    // var o = t(this).closest("[data-cart-wrapper]"),
                    //     s = o.find("#all_cart_spin"),
                    //     l = s.find(".t4s-cart-spinner");
                    //     o.addClass("is--contentUpdate");
                    //     s.removeAttr("hidden");
                    //     l.removeAttr("hidden");
                    var add_prod_id = t(this).attr("data_prod_id");
                    console.log(add_prod_id,"------***********----------")
                    add_free_gift_to_cart(add_prod_id);
                  });
                })),
            (T4SThemeSP.agreeForm =
                ((_ = !1),
                (T = "[data-agree-checkbox]"),
                function () {
                    _ ||
                        0 == t(T).length ||
                        ((_ = !0),
                        o.on("click", '[data-agree-btn], [name="checkout"], [name="goto_pp"], [name="goto_gc"]', function (e) {
                            var n = t(this).closest("form"),
                                i = n.find(`[type="checkbox"]${T}`);
                            n[0] && 0 != i.length && (i.is(":checked") ? t(this).submit() : (e.preventDefault(), e.stopPropagation(), T4SThemeSP.Notices(s.agree_checkout)));
                        }),
                        o.on("click", T, function (e) {
                            t(this).closest("form"), t(this).is(":checked") && o.trigger("hide.t4s.notices");
                        }));
                })),
            (T4SThemeSP.PhotoSwipe = (function () {
                var e = t("#photoswipe_template").html(),
                    i = "pswp__thumbnails",
                    a = "pswp_thumb_active",
                    r = !1,
                    l = "[data-pswp-btn-triger], [data-t4s-gallery--open]:not(.is-pswp-disable)",
                    c = "click.pswp",
                    d = "data-pswp-images-trigger",
                    p = ".pswp__t4s";
                function u(e, n, i, o) {
                    if (!(e <= 1)) {
                        for (var r = 0; r < e; r++) i.append('<div class="pswp_thumb_item" data-index="' + (r + 1) + '"><img loading="lazy" src="' + n[r].src + '" alt="pswp-thumb-img"></div>');
                        i.find('.pswp_thumb_item[data-index="' + (o.getCurrentIndex() + 1) + '"]').addClass(a),
                            o.listen("beforeChange", function () {
                                var t = o.getCurrentIndex() + 1,
                                    e = i.find('.pswp_thumb_item[data-index="' + t + '"]');
                                e.siblings().removeClass(a), e.addClass(a);
                            }),
                            o.listen("afterChange", function () {
                                var e;
                                let n, o, r, s, l;
                                (e = i),
                                    (n = t("." + a)[0]),
                                    (r = (o = e)[0]),
                                    (s = n.getBoundingClientRect()),
                                    (l = r.getBoundingClientRect()),
                                    s.left + s.width > l.width ? o.animate({ scrollLeft: n.offsetLeft + s.width - l.width + 10 }, 200) : n.offsetLeft < r.scrollLeft && o.animate({ scrollLeft: n.offsetLeft - 10 }, 200);
                            }),
                            i.find(".pswp_thumb_item").on("click", function () {
                                var e = t(this).data("index");
                                o.goTo(e - 1);
                            });
                    }
                }
                return {
                    gallery: function () {
                        t("[data-t4s-gallery].flickityt4s-enabled")
                            .on("dragEnd.flickityt4s", function (t, e) {
                                r = !0;
                            })
                            .on("staticClick.flickityt4s", function (t, e, n, i) {
                                r = !1;
                            }),
                            n.on(c, l, function (n) {
                                n.preventDefault();
                                var a = t(this),
                                    c = -1;
                                if (a.is("[data-pswp-btn-triger]")) {
                                    var d,
                                        f,
                                        m,
                                        h = a.closest("[data-t4s-group-btns]") || a,
                                        g = a[0].hasAttribute("data-pr-trigger-pswp"),
                                        v = h.siblings("[data-t4s-gallery]");
                                    (c =
                                        ((d = n),
                                        (f = v),
                                        (m = $ = g ? '[data-media-type="image"]:not(.is--media-hide)' : "[data-t4s-gallery--item]"),
                                        f.hasClass("flickityt4s-enabled") ? f.find(m + ".is-selected").index() : t(d.currentTarget).is(l) ? 0 : t(d.currentTarget).index())),
                                        (a = v.find("[data-t4s-gallery--open]").eq(c)),
                                        (r = !1);
                                } else var $ = (g = a.hasClass("t4s-product__media")) ? '[data-media-type="image"]:not(.is--media-hide)' : "[data-t4s-gallery--item]";
                                var y = a.parents($),
                                    b = a.closest("[data-t4s-gallery]"),
                                    w = b.find(g ? '[data-media-type="image"]:not(.is--media-hide) [data-master]' : "[data-pswp-src]");
                                if (0 == w.length || r) r = !1;
                                else {
                                    var x,
                                        C,
                                        _,
                                        T,
                                        k,
                                        I,
                                        D,
                                        P,
                                        S,
                                        E,
                                        A,
                                        R,
                                        L,
                                        O = b.is("[data-t4s-thumb-true]"),
                                        N =
                                            ((x = w),
                                            (_ = []),
                                            x.each(function () {
                                                (C = t(this)), _.push({ src: C.attr("data-pswp-src") || C.attr("data-master"), w: C.attr("data-pswp-w") || C.attr("width"), h: C.attr("data-pswp-h") || C.attr("height") });
                                            }),
                                            _),
                                        F = parseFloat(b.attr("data-maxSpreadZoom")),
                                        M = b.attr("data-fullscreenEl"),
                                        U = b.attr("data-shareEl"),
                                        B = b.attr("data-counterEl");
                                    (I = (k = (T = { index: (c = c > -1 ? c : y.index()), items: N, HasThumb: O, galleryItems: b, parents: $, global: !1, maxSpreadZoom: F, fullscreenEl: M, shareEl: U, counterEl: B }).items).length),
                                        (D = T.index),
                                        (P = T.galleryItems),
                                        isThemeRTL && (D = I - D - 1),
                                        (S = {
                                            closeEl: !0,
                                            captionEl: !0,
                                            fullscreenEl: T.fullscreenEl || !0,
                                            zoomEl: !0,
                                            shareEl: T.shareEl || !0,
                                            counterEl: T.counterEl || !0,
                                            arrowEl: !0,
                                            preloaderEl: !0,
                                            history: !1,
                                            maxSpreadZoom: T.maxSpreadZoom || 2,
                                            showHideOpacity: !0,
                                            bgOpacity: 1,
                                            index: T.index,
                                            tapToToggleControls: !0,
                                            shareButtons: [
                                                { id: "facebook", label: s.pswp_facebook, url: "https://www.facebook.com/sharer/sharer.php?u={{url}}" },
                                                { id: "twitter", label: s.pswp_twitter, url: "https://twitter.com/intent/tweet?text={{text}}&url={{url}}" },
                                                { id: "pinterest", label: s.pswp_pinterest, url: "https://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}" },
                                            ],
                                            getThumbBoundsFn: function (t) {
                                                var e = P.find(T.parents).eq(t);
                                                T.global && (e = P.find("a[data-index=" + t + "]").parents(T.parents));
                                                var n = window.pageYOffset || document.documentElement.scrollTop,
                                                    i = e[0].getElementsByTagName("img")[0].getBoundingClientRect();
                                                return { x: i.left, y: i.top + n, w: i.width };
                                            },
                                        }),
                                        o.find(p).remove(),
                                        T4SThemeSP.$appendComponent.after(e),
                                        (A = document.querySelectorAll(p)[0]),
                                        (R = t("." + i)),
                                        (L = new PhotoSwipe(A, PhotoSwipeUI_Default, k, S)).init(),
                                        R.empty(),
                                        clearTimeout(E),
                                        o.trigger("NTpopupInline:offClose"),
                                        L.listen("close", function () {
                                            if (
                                                ((E = setTimeout(function () {
                                                    o.trigger("NTpopupInline:onClose");
                                                }, 500)),
                                                P.hasClass("flickityt4s-enabled"))
                                            ) {
                                                var t = L.getCurrentIndex();
                                                P.flickityt4s("selectCell", t, !1, !0);
                                            }
                                        }),
                                        T.HasThumb && u(I, k, R, L);
                                }
                            });
                    },
                    image: function () {
                        n.on(c, "[data-t4s-image-opend]", function (n) {
                            var i, a, r, s, l, c, d, u, f, m;
                            n.preventDefault(),
                                (i = t(this)),
                                o.find(p).remove(),
                                T4SThemeSP.$appendComponent.after(e),
                                (r = (a = t(p))[0]),
                                (s = i.attr("data-pswp-class")) && a.addClass(s),
                                (l = []),
                                (c = i.attr("data-pswp-w")),
                                (d = i.attr("data-pswp-h")),
                                (u = i.attr("data-pswp-src")),
                                l.push({ src: u, w: c, h: d, title: i.text() }),
                                (m = new PhotoSwipe(r, PhotoSwipeUI_Default, l, {
                                    history: !1,
                                    maxSpreadZoom: 2,
                                    showHideOpacity: !0,
                                    fullscreenEl: !1,
                                    shareEl: !1,
                                    counterEl: !1,
                                    bgOpacity: 1,
                                    getThumbBoundsFn: function (t) {
                                        var e = window.pageYOffset || document.documentElement.scrollTop,
                                            n = i[0].getBoundingClientRect();
                                        return { x: n.left, y: n.top + e, w: n.width };
                                    },
                                })).init(),
                                clearTimeout(f),
                                o.trigger("NTpopupInline:offClose"),
                                m.listen("close", function () {
                                    f = setTimeout(function () {
                                        o.trigger("NTpopupInline:onClose");
                                    }, 500);
                                });
                        });
                    },
                    images: function () {
                        n.on(c, `[${d}]`, function (n) {
                            n.preventDefault();
                            let a = t(this),
                                r = b(a.attr(d), "[]");
                            0 != r.length &&
                                (function (n, a) {
                                    if (!n) return;
                                    o.find(p).remove(), T4SThemeSP.$appendComponent.after(e);
                                    let r = n.length,
                                        s = document.querySelectorAll(p)[0],
                                        l = t("." + i),
                                        c = new PhotoSwipe(s, PhotoSwipeUI_Default, n, { history: !1, focus: !1, showAnimationDuration: 0, hideAnimationDuration: 0 });
                                    c.init(), a.is("data-disable-thumb") || u(r, n, l, c);
                                })(r, a);
                        });
                    },
                };
            })()),
            (T4SThemeSP.Video = (function () {
                var e = "t4s-postervideo-playing";
                function n() {
                    t(".js-youtube").each(function () {
                        this.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}', "*");
                    }),
                        t(".js-vimeo").each(function () {
                            this.contentWindow.postMessage('{"method":"pause"}', "*");
                        }),
                        t("video:not(.t4s_bg_vid_html5)").each(function () {
                            this.pause();
                        }),
                        t(".product-model").each(function () {
                            this.modelViewerUI && this.modelViewerUI.pause();
                        });
                }
                return {
                    initPoster: function () {
                        t("[data-video-poster-btn]").on("click", function (i) {
                            i.preventDefault();
                            var a = t(this).closest("[data-video-poster]"),
                                o = a.find("video, iframe");
                            n(),
                                (function (e, n) {
                                    if (!e.is("[loaded]")) {
                                        var i = e.find("[data-video-insert]").length ? e.find("[data-video-insert]") : e,
                                            a = '<iframe src="src_t4s" class="class_t4s" title="" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>',
                                            o = JSON.parse(n.attr("data-options") || "{}"),
                                            r = o.type,
                                            s = o.vid,
                                            l = o.id,
                                            c = o.srcDefault,
                                            d = o.autoplay,
                                            p = o.loop;
                                        "youtube" == r
                                            ? (a = a
                                                  .replace("src_t4s", "//www.youtube.com/embed/" + s + "?enablejsapi=1&showinfo=0&controls=1&modestbranding=1&autoplay=" + +d + "&rel=0" + (p ? "&playlist=" + s + "&loop=1" : ""))
                                                  .replace("class_t4s", "js-youtube"))
                                            : "vimeo" == r
                                            ? (a = a.replace("src_t4s", "//player.vimeo.com/video/" + s + "?&portrait=0&byline=0&color=" + o.accent_color + "&autoplay=" + +d + "&loop=" + +p).replace("class_t4s", "js-vimeo"))
                                            : l && t(l)[0]
                                            ? (a = t(l).html())
                                            : ((a = '<video src="src_t4s" preload="auto" controls data-autoplay data-loop playsinline></video>'.replace("src_t4s", c)),
                                              d && (a = a.replace("data-autoplay", "autoplay")),
                                              p && (a = a.replace("data-loop", "loop"))),
                                            i.append(a),
                                            e.attr("data-type-video-inline", "").attr("loaded", !0);
                                    }
                                })(a, t(this)),
                                setTimeout(function () {
                                    a.addClass(e), o.focus();
                                }, 50);
                        }),
                            t("[data-video-poster-close]").on("click", function (i) {
                                i.preventDefault(), n();
                                var a = t(this).closest("[data-video-poster]");
                                a.removeAttr("loaded").removeClass(e), a.find("video, iframe").remove();
                            });
                    },
                };
            })());
        var w,
            x,
            C,
            _,
            T,
            k,
            I,
            D,
            P,
            S,
            E = (function () {
                var e,
                    n = "is--loading";
                function i(e) {
                    (this.container = e),
                        (this.$container = t(e)),
                        (this.options = JSON.parse(this.$container.attr("data-ntajax-options"))),
                        (this.main = this.options.id || ""),
                        (this.typeAjax = this.options.type || "LmDefault"),
                        (this.isProduct = this.options.isProduct || !1),
                        (this.$section = t(`#shopify-section-${this.main}`)),
                        (self.isbtnLoadMore = !0),
                        this.setupEventListeners();
                }
                return (
                    (i.prototype = Object.assign({}, i.prototype, {
                        setupEventListeners: function () {
                            var i = this;
                            i.$container.on("click.ntlm", "[data-load-more]", function (a) {
                                a.preventDefault();
                                let o = t(this);
                                o.addClass(n), (e = `${o.attr("data-href") || o.attr("href")}&section_id=${i.main}`), (i.isbtnLoadMore = !t(this).is("[data-is-prev]")), (i.$btnCurrent = t(this)), i.renderSectionFromFetch(e);
                            });
                        },
                        renderSectionFromFetch: function (t) {
                            var e = this;
                            T4SThemeSP.getToFetchSection(null, "text", t).then((t) => {
                                "NVT_94" != t ? (e.$btnCurrent.removeClass(n), e[e.typeAjax](t), this.isProduct && T4SThemeSP.reinitProductGridItem(), o.trigger("t4s:hideTooltip")) : e.$btnCurrent.removeClass(n);
                            });
                        },
                        LmDefault: function (e) {
                            var n = t(e),
                                i = n.find("[data-contentlm-replace]").html(),
                                a = this.isbtnLoadMore ? n.find("[data-wrap-lm]") : n.find("[data-wrap-lm-prev]"),
                                o = this.$container.find("[data-contentlm-replace]");
                            o[0] || (o = this.$section.find("[data-contentlm-replace]")), this.isbtnLoadMore ? o.append(i) : o.prepend(i), this.initLoamoreUpdate(a);
                        },
                        LmIsotope: function (e) {
                            var n = t(e),
                                i = n.find("[data-contentlm-replace]").html(),
                                a = this.isbtnLoadMore ? n.find("[data-wrap-lm]") : n.find("[data-wrap-lm-prev]"),
                                o = this.$container.find("[data-contentlm-replace]");
                            o[0] || (o = this.$section.find("[data-contentlm-replace]")), (i = t(i)), this.isbtnLoadMore ? o.append(i).isotopet4s("appended", i) : o.prepend(i).isotopet4s("prepended", i), this.initLoamoreUpdate(a);
                        },
                        initLoamoreUpdate: function (t) {
                            let e = this.isbtnLoadMore ? "[data-wrap-lm]" : "[data-wrap-lm-prev]",
                                n = this.$container.find(e);
                            n[0] || (n = this.$section.find(e)), t.length > 0 ? n.html(t.html()) : n.hide();
                        },
                    })),
                    i
                );
            })();
        (T4SThemeSP.initLoadMore = function () {
            t("[data-ntajax-options][data-not-main]:not(.is--enabled)").each(function () {
                t(this).addClass("is--enabled"), (this.LoadMore = new E(this));
            });
        }),
            (T4SThemeSP.reinitProductGridItem = function () {
                this.ProductItem.init(), this.ProductItem.reloadReview(), this.Tooltip(), T4SThemeSP.Countdown(), T4SThemeSP.Compare.updateAll(), T4SThemeSP.Wishlist.updateAll(), o.trigger("currency:update");
            }),
            (T4SThemeSP.instagram = (function () {
                var e = "https://d3ejra0xbg20rg.cloudfront.net/instagram/media?shop=" + Shopify.shop + "&resource=default",
                    n = "ins_19041994",
                    i = "ig_t4s_token",
                    a = "true" === CookiesT4.get(i),
                    o = ".t4s-icons-ins-svg",
                    r = t(o).html() || "",
                    s = r.split("[t4split]"),
                    l = { loaded: "ins-is--loaded" };
                function c(e, n, i, a, c, d, p) {
                    1 == s.length && (s = (r = t(o).html() || "").split("[t4split]"));
                    var u = "",
                        f = ((i = i || !0), { IMAGE: "image", VIDEO: "video", CAROUSEL_ALBUM: "carousel_album" }),
                        m = { image: s[0], video: s[1], carousel_album: s[2] };
                    t.each(n, function (t, e) {
                        if (t >= c) return 0;
                        var n = e.thumbnail_url || e.media_url,
                            i = f[e.media_type];
                        u +=
                            '<div class="t4s-col-ins' +
                            t +
                            " t4s-col-ins t4s-col-item t4s-ins-type-" +
                            i +
                            '"><a data-no-instant rel="nofollow" class="t4s-d-block t4s-pr t4s-oh" href="' +
                            e.permalink +
                            '" target="' +
                            p +
                            '"><div class="t4s_ratio t4s_bg lazyloadt4s t4s-lz--ins" data-bg="' +
                            n +
                            '" data-sizes="auto"></div><span class="lazyloadt4s-loader"></span><div class="t4s-ins-info"><span class="t4s-ins-icon">' +
                            m[i] +
                            "</span></div></a></div>";
                    }),
                        e.html(u).parent().addClass(l.loaded),
                        e.hasClass("flickityt4s-later") && (e[0].flickityt4s = new T4SThemeSP.Carousel(e[0])),
                        isStorageSpSessionAll && i && (sessionStorage.setItem("nt_ins" + a + d, u), sessionStorage.setItem("nt_ins" + a, JSON.stringify({ timestamp: new Date(), content: n })));
                }
                return function () {
                    0 != t("[data-inst4s-options]").length &&
                        t("[data-inst4s-options]").each(function (o) {
                            !(function (t) {
                                var o,
                                    r,
                                    s = b(t.attr("data-inst4s-options")),
                                    d = null,
                                    p = null,
                                    u = s.id,
                                    f = s.limit,
                                    m = s.acc || "spnt_t4",
                                    h = s.target;
                                if ("spnt_t4" != m) {
                                    if (
                                        ((m = atob(m)),
                                        isStorageSpSessionAll &&
                                            ((d = sessionStorage.getItem("nt_ins" + m + u)),
                                            null != (p = sessionStorage.getItem("nt_ins" + m)) &&
                                                "" != p &&
                                                ((o = new Date()),
                                                (r = new Date(p.timestamp)).setMinutes(r.getMinutes() + 30),
                                                o.getTime() > r.getTime() && ((p = null), (d = null), sessionStorage.removeItem("nt_ins" + m + u), sessionStorage.removeItem("nt_ins" + m)))),
                                        null != d && "" != p)
                                    ) {
                                        if ((t.html(d).parent().addClass(l.loaded), !t.hasClass("flickityt4s-later"))) return;
                                        return (t[0].flickityt4s = new T4SThemeSP.Carousel(t[0])), !1;
                                    }
                                    null != p && "" != p
                                        ? c(t, (p = JSON.parse(p).content), !1, m, f, u, h)
                                        : (m != n && (e = "https://graph.instagram.com/me/media?fields=comments_count,like_count,id,media_type,media_url,permalink,thumbnail_url,caption,children&access_token=" + m),
                                          fetch(e)
                                              .then(function (t) {
                                                  if (!t.ok) throw Error("not ok");
                                                  return t.json();
                                              })
                                              .then((e) => {
                                                  c(t, m == n ? e : e.data, !0, m, f, u, h),
                                                      a || (CookiesT4.set(i, "true", { expires: 7 }), fetch("https://graph.instagram.com/refresh_access_token?grant_type=ig_refresh_token&access_token=" + m));
                                              })
                                              .catch((e) => {
                                                  t.html(""), console.error("Instagram Feed:error fetch");
                                              }));
                                }
                            })(t(this));
                        });
                };
            })()),
            (T4SThemeSP.sideBarInit = function () {
                var i = t("[data-sidebar-id]"),
                    a = i.is("[data-sidebar-true]"),
                    r = t("[data-sidebar-content]"),
                    s = i.is("[data-is-disableDrawer]");
                if (0 != i.length) {
                    var l,
                        c = `${window.location.pathname}?section_id=${i.attr("data-sidebar-id")}&${window.location.search.slice(1)}`;
                    T4SThemeSP.getToFetchSection(null, "text", c).then((t) => {
                        if ("NVT_94" == t) return r.html(""), void console.log(error);
                        if (a || (1024 > e.width() && !s)) {
                            var i,
                                l = (i = t.split("[t4splitlz]"))[2].split("[t4splitlz2]");
                            T4SThemeSP.$appendComponent.after(l[0] + i[1] + l[1]);
                        } else (l = (i = t.split("[t4splitlz]"))[2].split("[t4splitlz2]")), r.html(i[1]), T4SThemeSP.$appendComponent.after(l[0] + i[1] + l[1]);
                        T4SThemeSP.instagram(), T4SThemeSP.Countdown(), T4SThemeSP.Tooltip(), T4SThemeSP.reinitProductGridItem(), T4SThemeSP.Tabs.Accordion(), o.trigger("currency:update"), n.trigger("sidebar:updated");
                    });
                }
            }),
            (T4SThemeSP.Drawer = (function () {
                var e = { overlayVisible: "is--visible" },
                    i = !1,
                    r = "click.drawer",
                    s = "data-drawer-options",
                    p = "data-drawer-delay",
                    u = " is--opend-drawer";
                function f(n, o, r = !1) {
                    if (!i) {
                        n && n.preventDefault();
                        var p = b(o.attr(s)),
                            f = r ? o : t(p.id);
                        f.trigger("opendDrawer"), f.attr("aria-hidden", "false"), l.addClass(e.overlayVisible), (i = !0), a.addClass(c + u), T4SThemeSP.Helpers.disableBodyScroll(!0, d);
                    }
                }
                function m(n) {
                    i &&
                        (n && n.preventDefault(),
                        t(".t4s-drawer[aria-hidden=false]").attr("aria-hidden", "true"),
                        l.removeClass(e.overlayVisible),
                        (i = !1),
                        a.removeClass(c + u),
                        T4SThemeSP.Helpers.disableBodyScroll(!1, d),
                        l.off(r),
                        o.off(r),
                        o.off("keyup.drawer"));
                }
                function h() {
                    l.on(r, function (t) {
                        m(t);
                    }),
                        o.on(r, "[data-drawer-close]", function (t) {
                            m(t);
                        }),
                        o.on("keyup.drawer", function (t) {
                            27 === t.keyCode && m(t);
                        });
                }
                return {
                    init: function () {
                        let e, i;
                        n.on(r, "[" + s + "]:not([" + p + "])", function (e) {
                            f(e, t(this)), h();
                        }),
                            (e = t("[data-sidebar-trigger]")),
                            (i = t(".t4s-btn-sidebar")),
                            0 != e.length &&
                                0 != i.length &&
                                e.on(r, function (t) {
                                    t.preventDefault(), i.trigger(r);
                                });
                    },
                    opend: function (t) {
                        (i = !1), f(null, t, !0), h();
                    },
                    close: m,
                    remove: function (e) {
                        t("[" + s + '*="#' + e + '"]').removeAttr(p);
                    },
                };
            })()),
            (T4SThemeSP.BackToTop =
                ((D = t("#t4s-backToTop")),
                (P = parseInt(D.data("scrolltop"))),
                (S = D.find(".t4s-circle-css")[0]),
                function () {
                    (768 > e.width() && D.data("hidden-mobile")) ||
                        0 == D.length ||
                        (window.addEventListener("scroll", () => {
                            k && clearTimeout(k),
                                (k = setTimeout(function () {
                                    window.scrollY > P ? D.addClass("is--show") : D.removeClass("is--show");
                                }, 40)),
                                S &&
                                    (I && clearTimeout(I),
                                    (I = setTimeout(function () {
                                        let t = window.scrollY / (document.body.offsetHeight - window.innerHeight);
                                        S.style.setProperty("--cricle-degrees", 360 * t + "deg");
                                    }, 6)));
                        }),
                        D.on("click", function (e) {
                            e.preventDefault(), t("html, body").animate({ scrollTop: 0 }, 800);
                        }));
                })),
            (T4SThemeSP.Header = (function () {
                var o,
                    r,
                    s = ".t4s-section-header",
                    l = document.querySelector(s),
                    c = {},
                    d = 0,
                    p = !1,
                    f = 0,
                    m = "data-header-options",
                    g =
                        t(l)
                            .find("[" + m + "]")
                            .attr(m) || "{}",
                    v = (g = JSON.parse(g)).isSticky,
                    $ = g.hideScroldown,
                    y = document.documentElement,
                    b = "is-action__hover",
                    w = t("[data-menu-nav]"),
                    x = w.find(">li.has--children"),
                    C = (x.find(">.t4s-sub-menu"), t(l)),
                    _ = (t(".t4s-website-wrapper"), "calc-pos-submenu"),
                    T = C.hasClass("header-vertical"),
                    k = "#shopify-section-header-categories-menu",
                    I = "#shopify-section-header-categories",
                    D = t(k),
                    P = t(I),
                    S = "is--child-open",
                    E = "no-transiton-nav-a",
                    A = "is-header--stuck",
                    R = !0,
                    L = T4Sconfigs.onlyClickDropIcon ? ".t4s-menu-item.has--children>a>.t4s--menu-toggle" : ".t4s-menu-item.has--children>a";
                function O() {
                    p = !0;
                }
                function N() {
                    let t = window.pageYOffset || document.documentElement.scrollTop;
                    t > d && t > c.bottom
                        ? requestAnimationFrame(F)
                        : t < d && t > c.bottom
                        ? p
                            ? (window.clearTimeout(f),
                              (f = setTimeout(() => {
                                  p = !1;
                              }, 366)),
                              requestAnimationFrame(F))
                            : requestAnimationFrame(M)
                        : t <= c.top && requestAnimationFrame(U),
                        (d = t);
                }
                function F() {
                    l.dispatchEvent(new Event("T4sHeaderHide")),
                        C.one("transitionend webkitTransitionEnd oTransitionEnd", function () {
                            y.classList.remove(A);
                        }),
                        l.classList.add("shopify-section-header-hidden", "shopify-section-header-sticky");
                }
                function M() {
                    l.dispatchEvent(new Event("T4sHeaderReveal")), y.classList.add(A), l.classList.add("shopify-section-header-sticky", "animate"), l.classList.remove("shopify-section-header-hidden");
                }
                function U() {
                    y.classList.remove(A),
                        R && 0 == c.top && 0 == c.height && ((c = l.getBoundingClientRect()), (R = !1)),
                        l.classList.remove("shopify-section-header-hidden", "shopify-section-header-sticky", "animate"),
                        y.classList.add(E),
                        clearTimeout(r),
                        (r = setTimeout(() => {
                            y.classList.remove(E);
                        }, 366));
                }
                function B(e, n) {
                    var i = t(n);
                    e.each(function (e) {
                        var n,
                            a = t(this),
                            o = "#t4s-mega-contents" + a.data("id"),
                            r = i.find(o).html();
                        r
                            ? (a.html(r),
                              a.find(".t4s-products .t4s-product").length > 0 && T4SThemeSP.reinitProductGridItem(),
                              setTimeout(function () {
                                  a.hasClass("isotopet4s") && T4SThemeSP.Isotopet4s.init(a),
                                      q(a.closest(".has--children")),
                                      T4SThemeSP.PopupMFP(),
                                      0 != (n = a.find(".flickityt4s-later")).length &&
                                          n.each(function (t) {
                                              this.flickityt4s = new T4SThemeSP.Carousel(this);
                                          });
                              }, 600))
                            : a.html("");
                    }),
                        setTimeout(function () {
                            C.find(".isotopet4s-enabled").isotopet4s("layout");
                        }, 800);
                }
                function H(e) {
                    e.find(L)
                        .off("click")
                        .on("click", function (e) {
                            e.preventDefault();
                            var n = t(this);
                            n.hasClass("t4s--menu-toggle") && (n = n.closest("a")), n.hasClass(S) ? n.removeClass(S).siblings("ul").slideUp(200) : n.addClass(S).siblings("ul").slideDown(200);
                        });
                }
                function W(e) {
                    e && (x = e),
                        i < 1024 ||
                            0 == x.length ||
                            x.each(function (e, n) {
                                var i = t(this);
                                i.hoverIntent({
                                    sensitivity: 3,
                                    interval: 35,
                                    timeout: 150,
                                    over: function (t) {
                                        i.addClass(b);
                                    },
                                    out: function () {
                                        i.removeClass(b);
                                    },
                                });
                            });
                }
                function z(e) {
                    (o = e ? e.find(">a") : x.find(">a")),
                        T4SThemeSP.isHover || i < 1024 || 0 == o.length
                            ? o.off("click.menu click.menuIntent")
                            : o.on("click.menu", function (e) {
                                  e.preventDefault();
                                  let i = t(this).parent();
                                  i.hasClass(b)
                                      ? (i.removeClass(b), n.off("click.menuIntent"))
                                      : (i.addClass(b).siblings().removeClass(b),
                                        n.on("click.menuIntent", function (e) {
                                            var i = e.target;
                                            t(i).is("." + b) ||
                                                t(i)
                                                    .parents("li")
                                                    .is("." + b) ||
                                                (w.find("." + b).removeClass(b), n.off("click.menuIntent"));
                                        }));
                              });
                }
                function G(e, n) {
                    e && (x = e),
                        i < 1024 ||
                            0 == x.length ||
                            (IsDesignMode && (C = t(s)),
                            x.each(function (e, i) {
                                q(t(this), n);
                            }),
                            C.addClass(_));
                }
                function Z() {
                    if (!(1024 > e.width())) {
                        IsDesignMode && (C = t(s)),
                            C.removeAttr("style").css({ "--t4s-max-width": `${e.width() - 10}px`, "--t4s-max-height": `${e.height() - Math.max(0, l.getBoundingClientRect().top) - Math.max(0, l.offsetHeight) - 20}px` }),
                            C.find(".isotopet4s-enabled").isotopet4s("layout"),
                            setTimeout(function () {
                                C.find(".isotopet4s-enabled").isotopet4s("layout");
                            }, 500);
                        var n = t("#t4s-nav-categories");
                        0 != n.length &&
                            (n
                                .removeAttr("style")
                                .css({ "--t4s-max-width": `${e.width() - Math.max(0, n[0].getBoundingClientRect().left) - n.width()}px`, "--t4s-max-height": `${e.height() - Math.max(0, n[0].getBoundingClientRect().top) - 10}px` }),
                            n.find(".isotopet4s-enabled").isotopet4s("layout"),
                            setTimeout(function () {
                                n.find(".isotopet4s-enabled").isotopet4s("layout");
                            }, 500));
                    }
                }
                function q(e, n = !1) {
                    var a = e.find(">a")[0],
                        o = e.find(">.t4s-sub-menu")[0],
                        r = e.data("placement") || "bottom";
                    if (
                        (!e.hasClass("menu-width__full") || "right-start" == r) &&
                        o &&
                        (t(o).attr("style", ""),
                        ("bottom" != r ||
                            e.hasClass("t4s-type__drop") ||
                            !(function (e) {
                                var n = t(e);
                                n.attr("style", "");
                                var a = n.outerWidth(),
                                    o = n.offset();
                                if (!a || !o) return !1;
                                var r = o.left,
                                    s = (i - a) / 2;
                                return !isThemeRTL && s <= r && r <= s + a && i >= s + a
                                    ? (n.addClass("is--center-screen"), !0)
                                    : isThemeRTL && s <= r + a && r <= s && i >= s + a
                                    ? (n.addClass("is--center-screen"), !0)
                                    : (n.removeClass("is--center-screen"), !1);
                            })(o)) &&
                            (FloatingUIT4sDOM.computePosition(a, o, { placement: r, middleware: [FloatingUIT4sDOM.flip({}), FloatingUIT4sDOM.shift({ padding: 5 })] }).then(({ x: t, y: e, placement: n, middlewareData: i }) => {
                                Object.assign(o.style, { left: `${t}px`, top: n.indexOf("bottom") > -1 ? "100%" : `${e}px` });
                            }),
                            !n))
                    ) {
                        let s = t(o).find(".t4s-lazy_menu.isotopet4s.isotopet4s-enabled");
                        s.length > 0 && s.isotopet4s("layout");
                    }
                }
                function K(e) {
                    var n = D.find("[data-wrapper-categories]");
                    n.html(e), Z();
                    var i = n.find("#t4s-nav-categories>.has--children");
                    W(i),
                        z(i),
                        document.addEventListener("theme:hover", function (t) {
                            z(i);
                        }),
                        G(i),
                        n.find(".t4s-type__drop .t4s-lazy_menu").each(function (e) {
                            H(t(this));
                        }),
                        n.find(".t4s-products .t4s-product").length > 0 && T4SThemeSP.reinitProductGridItem();
                    var a = n.find(".isotopet4s-later"),
                        o = n.find(".flickityt4s-later");
                    a.length > 0 &&
                        a.each(function (e) {
                            T4SThemeSP.Isotopet4s.init(t(this));
                        }),
                        a.length > 0 &&
                            o.each(function (t) {
                                this.flickityt4s = new T4SThemeSP.Carousel(this);
                            });
                }
                return {
                    stickyInit: function () {
                        !v ||
                            (v && $) ||
                            T ||
                            (new IntersectionObserver(
                                function (t) {
                                    0 === t[0].intersectionRatio
                                        ? (y.classList.add(A), R && (y.classList.add("t4s-hsticky__ready"), (R = !1)))
                                        : 1 === t[0].intersectionRatio &&
                                          (y.classList.remove(A),
                                          y.classList.add(E),
                                          clearTimeout(r),
                                          (r = setTimeout(() => {
                                              y.classList.remove(E);
                                          }, 366)));
                                },
                                { threshold: [0, 1] }
                            ).observe(document.querySelector("#t4s-hsticky__sentinel")),
                            setTimeout(() => {
                                y.classList.add("t4s-hsticky__ready"), (R = !1);
                            }, 396)),
                            IsDesignMode &&
                                (l.removeEventListener("preventHeaderReveal", O),
                                window.removeEventListener("scroll", N),
                                (l = document.querySelector(".t4s-section-header")),
                                (c = {}),
                                (d = 0),
                                (p = !1),
                                (v = (g = JSON.parse(
                                    (g =
                                        t(l)
                                            .find("[" + m + "]")
                                            .attr(m) || "{}")
                                )).isSticky),
                                ($ = g.hideScroldown)),
                            v && $ && !T
                                ? (l.addEventListener("preventHeaderReveal", O),
                                  window.addEventListener("scroll", N, !1),
                                  new IntersectionObserver((t, e) => {
                                      (c = t[0].intersectionRect), e.disconnect();
                                  }).observe(l))
                                : l.classList.remove("shopify-section-header-hidden", "animate"),
                            e.on("resize", function () {
                                a.css({ "--topbar-height": t("#t4s-top-bar-main").height() + "px", "--header-height": t(".t4s-section-header").height() + "px" });
                            });
                    },
                    init: function (n) {
                        (function () {
                            var e = t(".t4s-type__mega .t4s-lazy_menu"),
                                n = t(".t4s-list-categories--item.is--active"),
                                a = n.index(),
                                o = a > 0 ? a : "",
                                r = h + "timeMegaT4s" + o,
                                s = h + "dataMegaT4s" + o,
                                l = (isStorageSpSession && sessionStorage.getItem(r)) || 0,
                                c = ((l = parseInt(l)), 18e5);
                            if (!(0 == e.length || i < 1024)) {
                                if (!IsDesignMode && l > 0 && l >= Date.now()) B(e, sessionStorage.getItem(s));
                                else {
                                    var d = t(".t4s-section-mega__menu"),
                                        p = a > 0 && d.length > 0 ? d.find("[data-section-id]").data("section-id") : "mega-menu,mega-menu2",
                                        u = n.find(">a").attr("href");
                                    function f(t) {
                                        T4SThemeSP.getToFetchSection("?sections=" + p, "json").then((t) => {
                                            if ("NVT_94" == t || t.status) t.status && console.error(t.description);
                                            else {
                                                var n = "";
                                                for (let i in t) n += t[i].split("[nt_mega_split1]")[1];
                                                B(e, "<div>" + n + "</div>"), isStorageSpSession && ((l = Date.now() + c), sessionStorage.setItem(r, l), sessionStorage.setItem(s, "<div>" + n + "</div>"));
                                            }
                                        });
                                    }
                                    a > 0 && 0 == d.length && location.pathname != u
                                        ? T4SThemeSP.getToFetchSection(null, "text", u).then((e) => {
                                              if ("NVT_94" == e) return;
                                              let n = t(e).find(".t4s-section-mega__menu [data-section-id]").data("section-id");
                                              n && f();
                                          })
                                        : f();
                                }
                            }
                        })(),
                            (function () {
                                var e = t(".t4s-type__drop .t4s-lazy_menu"),
                                    n = t(".t4s-list-categories--item.is--active").index(),
                                    a = n > 0 ? n : "",
                                    o = h + "timeDropT4s" + a,
                                    r = h + "dataDropT4s" + a,
                                    s = (isStorageSpSession && sessionStorage.getItem(o)) || 0;
                                if (
                                    ((s = parseInt(s)),
                                    IsDesignMode &&
                                        e.each(function (e) {
                                            q(t(this).closest(".has--children")), H(t(this));
                                        }),
                                    !(0 == e.length || i < 1024 || IsDesignMode))
                                ) {
                                    if (s > 0 && s >= Date.now()) {
                                        var l = sessionStorage.getItem(r).split("[nt_drop_split2]");
                                        e.each(function (e) {
                                            t(this).html(l[e]), q(t(this).closest(".has--children")), H(t(this));
                                        });
                                    } else {
                                        var c = [];
                                        e.each(function (e) {
                                            c.push(t(this).data("handle"));
                                        }),
                                            (c = "/" + c.join("+")),
                                            T4SThemeSP.getToFetchSection(null, "text", `${window.T4Sroutes.all_url}${c}/?section_id=dropdown-menu`).then((n) => {
                                                if ("NVT_94" != n) {
                                                    var i = n.split("[nt_drop_split1]")[1],
                                                        a = i.split("[nt_drop_split2]");
                                                    e.each(function (e) {
                                                        t(this).html(a[e]), q(t(this).closest(".has--children")), H(t(this));
                                                    }),
                                                        isStorageSpSession && ((s = Date.now() + 18e5), sessionStorage.setItem(o, s), sessionStorage.setItem(r, "<div>" + i + "</div>"));
                                                }
                                            });
                                    }
                                }
                            })(),
                            W(n),
                            z(n),
                            document.addEventListener("theme:hover", function (t) {
                                z(n);
                            }),
                            Z(),
                            G(n, !0),
                            (function () {
                                if (0 != D.find("[data-wrapper-categories]").length) {
                                    if (IsDesignMode || 0 != P.length) IsDesignMode && ((D = t(k)), K((P = t(I)).html()));
                                    else {
                                        var e = h + "timeCatT4s",
                                            n = h + "dataCatT4s",
                                            i = (isStorageSpSession && sessionStorage.getItem(e)) || 0;
                                        (i = parseInt(i)) > 0 && i >= Date.now()
                                            ? K(sessionStorage.getItem(n))
                                            : T4SThemeSP.getToFetchSection(null, "text", u + "/?section_id=header-categories").then((t) => {
                                                  if ("NVT_94" != t) {
                                                      var a = new DOMParser().parseFromString(t, "text/html").querySelector("div").innerHTML;
                                                      K(a), isStorageSpSession && ((i = Date.now() + 18e5), sessionStorage.setItem(e, i), sessionStorage.setItem(n, a));
                                                  }
                                              });
                                    }
                                }
                            })(),
                            setTimeout(function () {
                                e.on("resize.menu", Z);
                            }, 2e3);
                    },
                    updateCat: K,
                };
            })()),
            (T4SThemeSP.MobileNav = (function () {
                var n,
                    a,
                    o = { tabNavActive: "is--active", opend: "is--opend" },
                    r = "resize.navmb",
                    s = "opendDrawer",
                    l = t(".t4s-list-categories--item.is--active").index(),
                    c = l > 0 ? l : "",
                    d = h + "timeMenuT4s" + c,
                    p = h + "dataMenuT4s" + c,
                    u = !1,
                    f = t(".t4s-sp-section-mb-nav [data-section-id]"),
                    m = t(".t4s-sp-section-mb-cat [data-section-id]"),
                    g = f.length,
                    v = m.length;
                l > 0 && ((n = f.data("section-id")), (a = m.data("section-id")));
                var $ = (isStorageSpSession && sessionStorage.getItem(d)) || 0,
                    y = (($ = parseInt($)), {});
                function b(t) {
                    t.hasClass(o.opend) ? t.removeClass(o.opend).children("ul").slideUp(200) : t.addClass(o.opend).children("ul").slideDown(200);
                }
                function w(t = 4) {
                    IsDesignMode ||
                        u ||
                        (y.$mobileNav.hasClass("t4s-d-lg-none") && i > 1024) ||
                        setTimeout(function () {
                            if (l > 0) {
                                (n = 1 == g ? n : "mb_nav"), (a = 1 == v ? a : "mb_cat");
                                var t = !1,
                                    e = !1;
                                T4SThemeSP.getToFetchSection("?section_id=" + n, "text").then((n) => {
                                    "NVT_94" != n && (y.$mobileNav.find("#shopify-mb_nav").html(n), e ? x("indexPage") : (t = !0));
                                }),
                                    T4SThemeSP.getToFetchSection("?section_id=" + a, "text").then((n) => {
                                        "NVT_94" != n && (y.$mobileNav.find("#shopify-mb_cat").html(n), t ? x("indexPage") : (e = !0));
                                    });
                            } else
                                T4SThemeSP.getToFetchSection(null, "text", T4Sroutes.search_url + "/?view=mn").then((t) => {
                                    "NVT_94" != t && x(t);
                                });
                        }, t);
                }
                function x(t) {
                    (u = !0),
                        l <= 0 && "indexPage" != t && y.$mobileNav.html(t),
                        l > 0 && "indexPage" == t && (t = y.$mobileNav.html()),
                        e.off(r),
                        y.$mobileNav.off(s),
                        isStorageSpSession && (($ = Date.now() + 18e5), sessionStorage.setItem(d, $), sessionStorage.setItem(p, t));
                }
                return function () {
                    (y = { $mobileNav: t("#t4s-menu-drawer") }),
                        isStorageSpSession && $ > 0 && $ >= Date.now()
                            ? y.$mobileNav.html(sessionStorage.getItem(p))
                            : (e.on(
                                  r,
                                  T4SThemeSP.debounce(300, function () {
                                      (i = e.width()), w(0);
                                  })
                              ),
                              w(500),
                              IsDesignMode ||
                                  y.$mobileNav.on(s, function () {
                                      w(0);
                                  })),
                        y.$mobileNav.on("click", "[data-tab-mb-nav]>[data-tab-mb-item]", function () {
                            var e = t(this);
                            e.hasClass(o.tabNavActive) ||
                                (e.addClass(o.tabNavActive).siblings().removeClass(o.tabNavActive), t("[data-tab-mb-content]." + o.tabNavActive).removeClass(o.tabNavActive), t(e.data("id")).addClass(o.tabNavActive));
                        }),
                        y.$mobileNav.on("click", ".t4s-menu-item-has-children.t4s-only_icon_false>a", function (e) {
                            e.preventDefault(), e.stopPropagation(), b(t(this).parent());
                        }),
                        y.$mobileNav.on("click", ".t4s-menu-item-has-children > a > .t4s-mb-nav__icon", function (e) {
                            e.preventDefault(), e.stopPropagation(), b(t(this).parent().parent());
                        });
                };
            })()),
            (T4SThemeSP.loadingBar = function () {
                console.log("loadingBar");
            }),
            (T4SThemeSP.currencyForm = (function () {
                var e = { select: "is--selected", opend: "is--opend" },
                    n = {},
                    i = T4Sconfigs.cartCurrency;
                function a(e) {
                    i != e && (isStorageSpdLocalAll && localStorage.setItem("T4Currency", e), t(`[data-currency-wrap] [data-iso="${e}"]`).first().trigger("click"));
                }
                return function () {
                    var i, r, s, l, c, d;
                    0 != (n = { $formCurrencyLocale: t("#CurrencyLangSelector"), $localeSelector: t("#LocaleSelector"), $currencySelector: t("#CurrencySelector") }).$formCurrencyLocale.length &&
                        (o.on("click", "[data-locale-wrap] [data-locale-item] ,[data-currency-wrap] [data-currency-item]", function (a) {
                            var o;
                            a.preventDefault(),
                                (i = t(this)),
                                ("2" == T4Sconfigs.currency_type && i.is("[data-currency-item]")) ||
                                    i.hasClass(e.select) ||
                                    (i.is("[data-locale-item]") ? ((r = "[data-locale-wrap]"), (s = "$localeSelector"), (d = !1)) : ((r = "[data-currency-wrap]"), (s = "$currencySelector"), (d = !0)),
                                    (l = i.attr("data-iso")),
                                    (c = t(r + " ." + e.select)
                                        .first()
                                        .attr("data-iso")),
                                    t(r + " [data-current]")
                                        .text(i.text())
                                        .removeClass("flagst4-" + c)
                                        .addClass("flagst4-" + l),
                                    t(r + " [data-iso=" + l + "]")
                                        .addClass(e.select)
                                        .siblings()
                                        .removeClass(e.select),
                                    (o = l),
                                    n[s].val(o),
                                    n.$formCurrencyLocale.submit(),
                                    isStorageSpdLocal && d && localStorage.setItem("T4Currency", l),
                                    T4SThemeSP.loadingBar());
                        }),
                        (function () {
                            var e = isStorageSpdLocalAll ? localStorage.getItem("T4Currency") : null;
                            if (T4Sconfigs.auto_currency && !navigator.userAgent.match(/bot|spider/i) && !e && !IsDesignMode) {
                                var n,
                                    i = isStorageSpdLocalAll ? localStorage.getItem("nt_currency") : null,
                                    o = {
                                        AF: "AFN",
                                        AX: "EUR",
                                        AL: "ALL",
                                        DZ: "DZD",
                                        AS: "USD",
                                        AD: "EUR",
                                        AO: "AOA",
                                        AI: "XCD",
                                        AQ: "",
                                        AG: "XCD",
                                        AR: "ARS",
                                        AM: "AMD",
                                        AW: "AWG",
                                        AU: "AUD",
                                        AT: "EUR",
                                        AZ: "AZN",
                                        BS: "BSD",
                                        BH: "BHD",
                                        BD: "BDT",
                                        BB: "BBD",
                                        BY: "BYN",
                                        BE: "EUR",
                                        BZ: "BZD",
                                        BJ: "XOF",
                                        BM: "BMD",
                                        BT: "BTN",
                                        BO: "BOB",
                                        BA: "BAM",
                                        BW: "BWP",
                                        BV: "NOK",
                                        BR: "BRL",
                                        IO: "USD",
                                        BN: "BND",
                                        BG: "BGN",
                                        BF: "XOF",
                                        BI: "BIF",
                                        KH: "KHR",
                                        CM: "XAF",
                                        CA: "CAD",
                                        CV: "CVE",
                                        KY: "KYD",
                                        CF: "XAF",
                                        TD: "XAF",
                                        CL: "CLP",
                                        CN: "CNY",
                                        CX: "AUD",
                                        CC: "AUD",
                                        CO: "COP",
                                        KM: "KMF",
                                        CG: "XAF",
                                        CD: "CDF",
                                        CK: "NZD",
                                        CR: "CRC",
                                        CI: "XOF",
                                        HR: "HRK",
                                        CU: "CUP",
                                        CY: "EUR",
                                        CZ: "CZK",
                                        DK: "DKK",
                                        DJ: "DJF",
                                        DM: "XCD",
                                        DO: "DOP",
                                        EC: "USD",
                                        EG: "EGP",
                                        SV: "USD",
                                        GQ: "XAF",
                                        ER: "ERN",
                                        EE: "EUR",
                                        ET: "ETB",
                                        FK: "FKP",
                                        FO: "DKK",
                                        FJ: "FJD",
                                        FI: "EUR",
                                        FR: "EUR",
                                        GF: "EUR",
                                        PF: "XPF",
                                        TF: "EUR",
                                        GA: "XAF",
                                        GM: "GMD",
                                        GE: "GEL",
                                        DE: "EUR",
                                        GH: "GHS",
                                        GI: "GIP",
                                        GR: "EUR",
                                        GL: "DKK",
                                        GD: "XCD",
                                        GP: "EUR",
                                        GU: "USD",
                                        GT: "GTQ",
                                        GG: "GBP",
                                        GN: "GNF",
                                        GW: "XOF",
                                        GY: "GYD",
                                        HT: "HTG",
                                        HM: "AUD",
                                        VA: "EUR",
                                        HN: "HNL",
                                        HK: "HKD",
                                        HU: "HUF",
                                        IS: "ISK",
                                        IN: "INR",
                                        ID: "IDR",
                                        IR: "IRR",
                                        IQ: "IQD",
                                        IE: "EUR",
                                        IM: "GBP",
                                        IL: "ILS",
                                        IT: "EUR",
                                        JM: "JMD",
                                        JP: "JPY",
                                        JE: "GBP",
                                        JO: "JOD",
                                        KZ: "KZT",
                                        KE: "KES",
                                        KI: "AUD",
                                        KR: "KRW",
                                        KW: "KWD",
                                        KG: "KGS",
                                        LA: "LAK",
                                        LV: "EUR",
                                        LB: "LBP",
                                        LS: "LSL",
                                        LR: "LRD",
                                        LY: "LYD",
                                        LI: "CHF",
                                        LT: "EUR",
                                        LU: "EUR",
                                        MO: "MOP",
                                        MK: "MKD",
                                        MG: "MGA",
                                        MW: "MWK",
                                        MY: "MYR",
                                        MV: "MVR",
                                        ML: "XOF",
                                        MT: "EUR",
                                        MH: "USD",
                                        MQ: "EUR",
                                        MR: "MRU",
                                        MU: "MUR",
                                        YT: "EUR",
                                        MX: "MXN",
                                        FM: "USD",
                                        MD: "MDL",
                                        MC: "EUR",
                                        MN: "MNT",
                                        ME: "EUR",
                                        MS: "XCD",
                                        MA: "MAD",
                                        MZ: "MZN",
                                        MM: "MMK",
                                        NA: "NAD",
                                        NR: "AUD",
                                        NP: "NPR",
                                        NL: "EUR",
                                        AN: "",
                                        NC: "XPF",
                                        NZ: "NZD",
                                        NI: "NIO",
                                        NE: "XOF",
                                        NG: "NGN",
                                        NU: "NZD",
                                        NF: "AUD",
                                        MP: "USD",
                                        NO: "NOK",
                                        OM: "OMR",
                                        PK: "PKR",
                                        PW: "USD",
                                        PS: "ILS",
                                        PA: "PAB",
                                        PG: "PGK",
                                        PY: "PYG",
                                        PE: "PEN",
                                        PH: "PHP",
                                        PN: "NZD",
                                        PL: "PLN",
                                        PT: "EUR",
                                        PR: "USD",
                                        QA: "QAR",
                                        RE: "EUR",
                                        RO: "RON",
                                        RU: "RUB",
                                        RW: "RWF",
                                        BL: "EUR",
                                        SH: "SHP",
                                        KN: "XCD",
                                        LC: "XCD",
                                        MF: "EUR",
                                        PM: "EUR",
                                        VC: "XCD",
                                        WS: "WST",
                                        SM: "EUR",
                                        ST: "STN",
                                        SA: "SAR",
                                        SN: "XOF",
                                        RS: "RSD",
                                        SC: "SCR",
                                        SL: "SLL",
                                        SG: "SGD",
                                        SK: "EUR",
                                        SI: "EUR",
                                        SB: "SBD",
                                        SO: "SOS",
                                        ZA: "ZAR",
                                        GS: "GBP",
                                        ES: "EUR",
                                        LK: "LKR",
                                        SD: "SDG",
                                        SR: "SRD",
                                        SJ: "NOK",
                                        SZ: "SZL",
                                        SE: "SEK",
                                        CH: "CHF",
                                        SY: "SYP",
                                        TW: "TWD",
                                        TJ: "TJS",
                                        TZ: "TZS",
                                        TH: "THB",
                                        TL: "USD",
                                        TG: "XOF",
                                        TK: "NZD",
                                        TO: "TOP",
                                        TT: "TTD",
                                        TN: "TND",
                                        TR: "TRY",
                                        TM: "TMT",
                                        TC: "USD",
                                        TV: "AUD",
                                        UG: "UGX",
                                        UA: "UAH",
                                        AE: "AED",
                                        GB: "GBP",
                                        US: "USD",
                                        UM: "USD",
                                        UY: "UYU",
                                        UZ: "UZS",
                                        VU: "VUV",
                                        VE: "VEF",
                                        VN: "VND",
                                        VG: "USD",
                                        VI: "USD",
                                        WF: "XPF",
                                        EH: "MAD",
                                        YE: "YER",
                                        ZM: "ZMW",
                                        ZW: "ZWD",
                                    };
                                if (i) {
                                    let r = JSON.parse(i);
                                    try {
                                        n = e || r.currency.handle;
                                    } catch (s) {
                                        n = o[r.countryCode] || o[r.country] || r.currency;
                                    }
                                    a(n);
                                } else {
                                    var l = {
                                            type: "get",
                                            url: "https://extreme-ip-lookup.com/json/?key=demo2",
                                            dataType: "json",
                                            success: function (e) {
                                                "success" == e.status ? (a(o[e.countryCode]), isStorageSpdLocal && localStorage.setItem("nt_currency", JSON.stringify(e))) : t.ajax(c);
                                            },
                                            error: function (e, n) {
                                                t.ajax(c);
                                            },
                                        },
                                        c = {
                                            type: "get",
                                            url: "https://ipinfo.io/json",
                                            dataType: "json",
                                            success: function (t) {
                                                a(o[t.country]), isStorageSpdLocal && localStorage.setItem("nt_currency", JSON.stringify(t));
                                            },
                                            error: function (e, n) {
                                                t.ajax(d);
                                            },
                                        },
                                        d = {
                                            type: "get",
                                            url: "https://d1hcrjcdtouu7e.cloudfront.net/users/countryDetection",
                                            dataType: "json",
                                            success: function (t) {
                                                a(o[t.country]), isStorageSpdLocal && localStorage.setItem("nt_currency", JSON.stringify(t));
                                            },
                                        };
                                    t.ajax({
                                        type: "get",
                                        url: "/browsing_context_suggestions.json?source=geolocation_recommendation&currency[enabled]=true&language[enabled]=true",
                                        dataType: "json",
                                        success: function (e) {
                                            try {
                                                var n = e.suggestions[0].parts;
                                                a(n.currency.handle), isStorageSpdLocal && localStorage.setItem("nt_currency", JSON.stringify(n));
                                            } catch (i) {
                                                t.ajax(l);
                                            }
                                        },
                                        error: function (e, n) {
                                            t.ajax(l);
                                        },
                                    });
                                }
                            }
                        })());
                };
            })()),
            (T4SThemeSP.productRecommendations = (function () {
                var e = {};
                function n(n) {
                    n[0]
                        ? n.hide()
                        : e.$recommendationsWrap.hasClass("t4s-pr-single_tab-content")
                        ? (e.$recommendationsWrap.find(".t4s-loading--bg").hide(), e.$recommendationsWrap.find("[data-emty-product]").show())
                        : ((T4SThemeSP.isRelatedEmty = !0), T4SThemeSP.isRencentEmty ? t(".t4s-tp-rencent-related").hide() : e.$recommendationsWrap.hide());
                }
                return function (i) {
                    var a, o, r, s, l, c;
                    (e = { $recommendationsWrap: t("#pr_recommendations:not(.is--not-rub-js)") }),
                        0 != (i = i || e.$recommendationsWrap).length &&
                            ((o = (a = i).data("type")),
                            (r = a.data("sid")),
                            (s = a.data("baseurl")),
                            (l = a.closest(".id_product-recommendations")),
                            (c = u + s + "&section_id=" + r),
                            "3" == o && (c = s + "?section_id=" + r + "&product_id=" + a.data("id") + "&limit=" + a.data("limit")),
                            T4SThemeSP.getToFetchSection(null, "text", c).then((e) => {
                                if ("NVT_94" != e) {
                                    var i = IsDesignMode ? t(t(e)[2]).html() : t(e).html();
                                    try {
                                        i.trim();
                                    } catch (o) {
                                        i = t(e).html();
                                    }
                                    if ("" !== i.trim()) {
                                        if ((a.html(i), a.find(".t4s-product").length > 0 && T4SThemeSP.reinitProductGridItem(), a.find(".flickityt4s").length > 0)) {
                                            var r = a.find(".flickityt4s")[0];
                                            (r.flickityt4s = new T4SThemeSP.Carousel(r)), T4SThemeSP.ProductItem.resizeObserver();
                                        }
                                    } else n(l);
                                } else n(l);
                            }));
                };
            })()),
            (T4SThemeSP.recentlyViewed = (function () {
                var e = {};
                function n(n, i = !0) {
                    n[0]
                        ? i
                            ? n.hide()
                            : n.slideUp()
                        : e.$recentlyWrap.hasClass("t4s-pr-single_tab-content")
                        ? (e.$recentlyWrap.find(".t4s-loading--bg").hide(), e.$recentlyWrap.find("[data-emty-product]").show())
                        : ((T4SThemeSP.isRencentEmty = !0), T4SThemeSP.isRelatedEmty ? t(".t4s-tp-rencent-related").hide() : e.$recentlyWrap.hide());
                }
                return function (i) {
                    (e = { $recentlyWrap: t("#recently_wrap") }),
                        (i = i || e.$recentlyWrap),
                        isStorageSpdLocalAll &&
                            0 != i.length &&
                            (function (e) {
                                var i = localStorage.getItem("nt_recent"),
                                    a = "product" == p ? e.data("id") : "19041994",
                                    o = e.data("sid"),
                                    r = e.data("unpr"),
                                    s = e.data("limit"),
                                    l = e.closest(".id_recently_viewed");
                                if (null != i) {
                                    var c = (f = i.split(",")).indexOf(a);
                                    if ((c > -1 ? (f = f.splice(0, s + 1)).splice(c, 1) : (f = f.splice(0, s)), 0 == f.length)) return n(l, !1), !1;
                                    var d = encodeURI(f.toString().replace(/,/g, " OR "));
                                    T4SThemeSP.getToFetchSection(null, "text", u + "/?section_id=" + o + "&type=product&options[unavailable_products]=" + r + "&q=" + d).then((i) => {
                                        if ("NVT_94" != i) {
                                            var a = IsDesignMode ? t(t(i)[2]).html() : t(i).html();
                                            try {
                                                a.trim();
                                            } catch (o) {
                                                a = t(i).html();
                                            }
                                            if ("" !== a.trim()) {
                                                if ((e.html(a), e.find(".t4s-product").length > 0 && T4SThemeSP.reinitProductGridItem(), e.find(".flickityt4s").length > 0)) {
                                                    var r = e.find(".flickityt4s")[0];
                                                    (r.flickityt4s = new T4SThemeSP.Carousel(r)), T4SThemeSP.ProductItem.resizeObserver();
                                                }
                                            } else n(l);
                                        } else n(l);
                                    });
                                } else {
                                    n(l);
                                    var f = [];
                                }
                                0 > f.indexOf(a) && "19041994" != a && (f.length > s && (f = f.splice(0, s)), f.unshift(a), localStorage.setItem("nt_recent", f.toString()));
                            })(i);
                };
            })()),
            (T4SThemeSP.Cart = (function () {
                var e = "[data-cart-items]",
                    i = "[data-cart-prices]",
                    r = "[data-cart-calc-shipping]",
                    s = "[data-cart-ship-text]",
                    l = "[data-cart-ship-bar]",
                    c = "[data-cart-discounts]",
                    d = "data-cart-upsell-options",
                    f = "data-t4s-percent",
                    h = !0,
                    g = !0,
                    v = "disable" == T4Sconfigs.cartType,
                    $ = T4Sconfigs.afterActionATC,
                    y = { loading: "is--loading", none: "t4s-d-none", active: "is--active" },
                    w = window.cartT4SectionID,
                    x = "cart" != p ? (v ? "cart_data" : "cart_data,mini_cart") : `cart_data,${w}`,
                    C = 19041994,
                    _ = !1,
                    T = {},
                    k = window.T4Sroutes.cart_url;
                function I() {
                    T4SThemeSP.Drawer.remove("t4s-mini_cart"),
                        t("[data-cart-count]").html(t("#t4s-mini_cart").data("ccount")),
                        T4SThemeSP.Tooltip(),
                        o.trigger("currency:update"),
                        v ||
                            (T4SThemeSP.ProductAjax.change(),
                            T4SThemeSP.agreeForm(),
                            (function () {
                                if ("cart" != p) {
                                    var e = t("[data-cart-wrapper]");
                                    t("[data-cart-tools]").on("click", "[data-cart-tool_action]", function (n) {
                                        n.preventDefault();
                                        var i = t(this),
                                            a = t(".t4s-mini_cart-tool__content.is--" + i.data("id"));
                                        a.addClass("is--opend"),
                                            e.addClass("is--contentUpdate"),
                                            T4SThemeSP.isTouch ||
                                                a.one("transitionend webkitTransitionEnd oTransitionEnd", function () {
                                                    a.find("[data-opend-focus]").focus();
                                                }),
                                            t("[data-cart-tool_close]").on("click", function (n) {
                                                n.preventDefault(), a.removeClass("is--opend"), e.removeClass("is--contentUpdate"), t("[data-cart-tool_close]").off("click");
                                            }),
                                            o.off("keyup.drawer").on("keyup.toolCart", function (n) {
                                                27 === n.keyCode &&
                                                    (t(".t4s-mini_cart-tool__content.is--" + i.data("id")).removeClass("is--opend"),
                                                    e.removeClass("is--contentUpdate"),
                                                    o.off("keyup.toolCart").on("keyup.drawer", function (t) {
                                                        27 === t.keyCode && T4SThemeSP.Drawer.close(t);
                                                    }));
                                            });
                                    });
                                }
                            })(),
                            S(),
                            A(),
                            E(),
                            R(),
                            (function () {
                                let e = t("[data-tab-cart-wrap]");
                                if (((T4SThemeSP.cartTabActive = !0), !e[0])) return;
                                let n = t("[data-cart-tab-title]"),
                                    i = t("[data-cart-tab-content]");
                                e.on("click", "[data-tab-cart-item]", function (e) {
                                    e.preventDefault();
                                    let a = t(this);
                                    (T4SThemeSP.cartTabActive = a.is("[data-is-tab-cart]")),
                                        n.text(a.data("title")),
                                        a
                                            .addClass(y.active)
                                            .siblings("." + y.active)
                                            .removeClass(y.active),
                                        i.attr("aria-hidden", !0).eq(a.index()).attr("aria-hidden", !1);
                                });
                            })(),
                            L(),
                            O(),
                            (function () {
                                if (0 == t("#t4s-tab-visited").length || !isStorageSpdLocalAll) return;
                                let e = localStorage.getItem("nt_recent");
                                if (null == e) return;
                                let n = encodeURI(e.split(",").toString().replace(/,/g, " OR ")),
                                    i = t(".t4s-tab-visited-empty"),
                                    a = t(".t4s-tab-visited-skeleton");
                                i.hide(),
                                    a.show(),
                                    T4SThemeSP.getToFetchSection(null, "text", u + "/?section_id=mini_cart_visited&type=product&options[unavailable_products]=show&q=" + n).then((e) => {
                                        a.hide(), "NVT_94" != e && (a.after(t(e).html()), o.trigger("currency:update"), T4SThemeSP.Wishlist.updateAll(), T4SThemeSP.Tooltip());
                                    });
                            })(),
                            n.on("update:mini_cart:wishlist", N),
                            n.trigger("update:mini_cart:wishlist"));
                }
                function D(t = !1) {
                    T4SThemeSP.getToFetchSection("?sections=" + x, "json").then((e) => {
                        "NVT_94" != e && P(e, t);
                    });
                }
                function P(d, u = !0) {
                    var m = d.cart_data,
                        h = t(d.mini_cart || d[w]).find("[data-cart-wrapper]"),
                        g = t(e),
                        v = t(i),
                        y = t(r),
                        b = y.find(s),
                        x = y.find(l),
                        C = t(c);
                    g.html(h.find(e).html()),
                        v.html(h.find(i).html()),
                        y.attr(f, h.find(r).attr(f)),
                        b.replaceWith(h.find(s).wrap()),
                        x.attr("style", h.find(l).attr("style")),
                        C.html(h.find(c).html()),
                        (m = (m = m.split("[t4s_split1]")[1]).split("[t4s_split2]")),
                        t("[data-cart-count]").html(m[0]),
                        t("[data-cart-tt-price]").html(m[1]),
                        "1" == m[2] ? (t(".t4s-mini_cart-tool__content.is--gift.is--opend [data-cart-tool_close]").trigger("click"), t("[data-toogle-gift]").hide()) : t("[data-toogle-gift]").show(),
                        0 == m[0] ? a.addClass("t4s-cart-count-0") : (a.removeClass("t4s-cart-count-0"), _ && (O(), (_ = !1))),
                        document.dispatchEvent(new CustomEvent("cart:update:count", { detail: { count: m[0] }, bubbles: !0, cancelable: !0 })),
                        T4SThemeSP.Tooltip(),
                        o.trigger("currency:update"),
                        "cart" != p &&
                            "0" != $ &&
                            T4SThemeSP.isATCSuccess &&
                            ((T4SThemeSP.isATCSuccess = !1),
                            "1" == $ ||
                                "2" == $ ||
                                ("3" == $ ? (T4SThemeSP.cartTabActive || t("[data-is-tab-cart]").trigger("click"), T4SThemeSP.Drawer.opend(t("#t4s-mini_cart"))) : (document.location.href = "5" == $ ? T4SThemeSP.root_url + "checkout" : k))),
                        n.trigger("cart:updated"),
                        L();
                }
                function S() {
                    t('textarea[name="note"]').on("change", function () {
                        var e, n, i, a;
                        (e = t(this).val()),
                            (i = new Headers({ "Content-Type": "application/json" })),
                            fetch(k + "/update.js", { method: "POST", headers: i, body: JSON.stringify({ note: (a = ("string" != typeof (n = e) && "undefined" == (n += "") && (n = ""), t.trim(n))) }) })
                                .then(function (t) {
                                    return t.json();
                                })
                                .then(function (e) {
                                    a.length > 0
                                        ? (t('[data-id="note"].is--editNote, .t4s-txt_edit_note').removeClass(y.none), t('[data-id="note"].is--addNote, .t4s-txt_add_note').addClass(y.none))
                                        : (t('[data-id="note"].is--editNote, .t4s-txt_edit_note').addClass(y.none), t('[data-id="note"].is--addNote, .t4s-txt_add_note').removeClass(y.none));
                                })
                                .catch(function (t) {
                                    console.log("cart update error: ", t);
                                });
                    });
                }
                function E() {
                    if (isStorageSpdLocal) {
                        var e = t("#CartDiscountcode"),
                            n = t("#CartDiscountcode, [data-cart-discount]"),
                            i = localStorage.getItem("CartDiscountcode");
                        n.val(i).trigger("keyup"),
                            t('[data-action="save-discountcode"]').click(function (t) {
                                localStorage.setItem("CartDiscountcode", e.val()), n.val(e.val()).trigger("keyup");
                            });
                    }
                }
                function A() {
                    let e,
                        n = t("#CartDiscountcode");
                    n[0] &&
                        n.keyup(function () {
                            clearTimeout(e),
                                (e = setTimeout(function () {
                                    n.val().length ? n.attr("name", "discount") : n.removeAttr("name");
                                }, 300));
                        });
                }
                function R() {
                    var e,
                        n = t("[data-estimate-shipping-wrap]");
                    n[0] &&
                        ((n[0].langRates = JSON.parse(n.find("template[data-lang-rates]").html() || "{}")),
                        (e = n.data("id")),
                        Shopify && new Shopify.CountryProvinceSelector(`ShippingCountry_${e}`, `ShippingProvince_${e}`, { hideElement: `ShippingProvinceContainer_${e}` }),
                        n.on(
                            "click",
                            '[data-action="estimate-shipping"]',
                            function (e) {
                                e.preventDefault(), e.stopPropagation();
                                var n = this,
                                    i = t(n),
                                    a = i.find("[data-response-rates]"),
                                    r = {},
                                    s = t(e.currentTarget);
                                s.addClass(y.loading),
                                    document.dispatchEvent(new CustomEvent("theme:loading:start")),
                                    (r.country = i.find('[name="country"]').val() || ""),
                                    (r.province = i.find('[name="province"]').val() || ""),
                                    (r.zip = i.find('[name="zip"]').val() || ""),
                                    fetch(k + "/shipping_rates.json?" + t.param({ shipping_address: r }), { credentials: "same-origin", method: "GET" }).then(function (e) {
                                        document.dispatchEvent(new CustomEvent("theme:loading:end")),
                                            s.removeClass(y.loading),
                                            e.json().then(function (i) {
                                                var s, l, c, d, p, u, f, m, h;
                                                (s = e.ok),
                                                    (l = i),
                                                    (c = r),
                                                    (d = a),
                                                    (p = n.langRates),
                                                    s
                                                        ? (function (e, n, i, a) {
                                                              var r = "",
                                                                  s = "",
                                                                  l = "";
                                                              if ((n.zip && (r += n.zip + ", "), n.province && (r += n.province + ", "), (r += n.country), e.length > 1)) {
                                                                  var c = T4SThemeSP.Currency.formatMoney(e[0].price);
                                                                  s = a.multiple_rates.replace("[number_of_rates]", e.length).replace("[address]", r).replace("[rate]", c);
                                                              } else s = 1 === e.length ? a.one_rate.replace("[address]", r) : a.no_rates;
                                                              var l = "";
                                                              t.each(e, function (t, e) {
                                                                  var n = T4SThemeSP.Currency.formatMoney(e.price);
                                                                  l += "<li>" + a.rate_value.replace("[rate_title]", e.name).replace("[rate]", n) + "</li>";
                                                              }),
                                                                  i
                                                                      .html(
                                                                          '<div class="t4s-mess__rates is--rates-success">' +
                                                                              s +
                                                                              '</div><div class="t4s-results__rates"><ul>' +
                                                                              l.toString().replace(/<\/li>,<li>/g, "</li><li>") +
                                                                              "</ul></div>"
                                                                      )
                                                                      .fadeIn(),
                                                                  o.trigger("currency:update");
                                                          })(l.shipping_rates, c, d, p)
                                                        : ((u = l),
                                                          (f = d),
                                                          (m = p),
                                                          (h = ""),
                                                          Object.keys(u).forEach(function (t) {
                                                              h += "<li><span class='t4s-key__rate'>".concat(t, "</span> ").concat(u[t], "</li>");
                                                          }),
                                                          "country is not supported." === h && (h = `<li>${m.no_rates}</li>`),
                                                          f.html(`<p>${m.errors}</p><ul class="t4s-mess__rates is--rates-error">${h}</ul>`).fadeIn());
                                            });
                                    });
                            }.bind(n[0])
                        ));
                }
                function L() {
                    if (!m) return;
                    let e = t("[data-cart-ship-done]").length;
                    e > 0 && h ? (T4SThemeSP.CanvasConfetti(), (h = !1), (g = !1)) : t(r).length > 0 && g ? (T4SThemeSP.CanvasConfetti(), (g = !1)) : 0 == e && ((g = !1), (h = !0));
                }
                function O() {
                    let e = t(`[${d}]`);
                    if (0 == e.length) return;
                    let n = b(e.attr(d));
                    if (((n.product_id = t("[data-cart-items] [data-cart-item]:first").data("pid") || 19041994), C == n.product_id)) return;
                    C = n.product_id;
                    let i = `${n.baseurl}?section_id=${n.section_id}&product_id=${n.product_id}&limit=${n.limit}`;
                    T4SThemeSP.getToFetchSection(null, "text", i).then((n) => {
                        if ("NVT_94" == n) return void e.hide();
                        T.flickityt4s && T.flickityt4s.destroy(), e.html(t(n).html()), o.trigger("currency:update"), T4SThemeSP.Tooltip();
                        let i = e.find(".flickityt4s")[0];
                        i &&
                            ((T.flickityt4s = new T4SThemeSP.Carousel(i)),
                            setTimeout(function () {
                                t(i).flickityt4s("resize");
                            }, 150),
                            setTimeout(function () {
                                t(i).flickityt4s("resize");
                            }, 450));
                    });
                }
                function N() {
                    let e = t("#t4s-tab-wishlist"),
                        n = T4SThemeSP.linkWishlist || "";
                    if (0 == e.length || 0 > n.indexOf("id:")) return;
                    let i = t(".t4s-tab-wishlist-empty"),
                        a = t(".t4s-tab-wishlist-skeleton"),
                        r = n.replace("view=wishlist", "section_id=mini_cart_wishlist");
                    i.hide(),
                        a.show(),
                        T4SThemeSP.getToFetchSection(null, "text", r).then((e) => {
                            a.hide(), "NVT_94" != e && (a.siblings(".t4s-widget__pr").remove(), a.after(t(e).html()), o.trigger("currency:update"), T4SThemeSP.Wishlist.updateAll(), T4SThemeSP.Tooltip());
                        });
                }
                return {
                    renderContents: P,
                    getToFetch: D,
                    init: function () {
                        (function () {
                            if ("cart" == p) return S(), A(), E(), R(), T4SThemeSP.agreeForm(), L(), void O();
                            IsDesignMode
                                ? I()
                                : v ||
                                  T4SThemeSP.getToFetchSection("?section_id=mini_cart").then((e) => {
                                      "NVT_94" != e && (t("#t4s-mini_cart").parent().remove(), T4SThemeSP.$appendComponent.after(t(e).html()), I());
                                  });
                        })(),
                            document.addEventListener("cart:refresh", function (t) {
                                D(!1);
                            }),
                            document.addEventListener("cart:refresh:opend", function (t) {
                                D(!0);
                            }),
                            n.on("add:cart:upsell", function (t) {
                                _ = !0;
                            });
                    },
                };
            })()),
            (T4SThemeSP.Login = (function () {
                var e = "data-login-sidebar";
                function n() {
                    var n = t("#t4s-login-sidebar");
                    T4SThemeSP.Drawer.remove("t4s-login-sidebar"),
                        n.on("click", "[" + e + "]", function (i) {
                            i.preventDefault();
                            var a = t(this).attr(e);
                            t("#t4s-login-sidebar .t4s-content-login-sidebar.is--" + a)
                                .attr("aria-hidden", "false")
                                .siblings()
                                .attr("aria-hidden", "true"),
                                t("#t4s-login-sidebar .t4s-drawer__header .is--" + a)
                                    .attr("aria-hidden", "false")
                                    .siblings()
                                    .attr("aria-hidden", "true"),
                                n.attr("data-target", a);
                        });
                }
                return function () {
                    var t, e, i;
                    IsDesignMode
                        ? n()
                        : ((t = h + "timeLoginT4s"),
                          (e = h + "dataLoginT4s"),
                          (i = (isStorageSpSession && sessionStorage.getItem(t)) || 0),
                          (i = parseInt(i)) > 0 && i >= Date.now()
                              ? (T4SThemeSP.$appendComponent.after(sessionStorage.getItem(e)), T4SThemeSP.Drawer.remove("t4s-login-sidebar"), n())
                              : T4SThemeSP.getToFetchSection("?section_id=login-sidebar").then((a) => {
                                    "NVT_94" != a &&
                                        (T4SThemeSP.$appendComponent.after(a), T4SThemeSP.Drawer.remove("t4s-login-sidebar"), n(), isStorageSpSession && ((i = Date.now() + 24e6), sessionStorage.setItem(t, i), sessionStorage.setItem(e, a)));
                                }));
                };
            })()),
            (T4SThemeSP.Compare = (function () {
                var e,
                    n,
                    i = !T4Sconfigs.enable_compare,
                    a = "[data-action-compare]",
                    r = "[data-count-compare]",
                    s = "t4s_cp",
                    l = "is--pe-none",
                    c = "is--added",
                    d = "is--activate",
                    p = T4SProductStrings.added_text_cp,
                    f = T4SProductStrings.compare,
                    m = 0,
                    h = u + "/?view=compare&type=product&options[unavailable_products]=last&q=",
                    g = "",
                    v = T4Sconfigs.cp_icon,
                    $ = T4Sconfigs.cp_icon_added,
                    y = T4Sconfigs.enableCompePopup,
                    b = window.isPageCompare;
                function w(t, e, n) {
                    return n.indexOf(t) === e;
                }
                function x() {
                    var t = localStorage.getItem(s);
                    null != t && ((e = t.split(",")), (g = h + encodeURI(t.replace(/,/g, " OR "))));
                }
                function C() {
                    if (isStorageSpdLocalAll && !i) {
                        var n = localStorage.getItem(s);
                        null != n &&
                            ((e = n.replace(/id:/g, "").split(",")),
                            (m = "" == n ? 0 : e.length),
                            e.forEach(function (t, e) {
                                _(t.replace("id:", ""));
                            }),
                            t(r).html(window.countComparePage || m));
                    }
                }
                function _(e, n) {
                    var i = t(a + '[data-id="' + e + '"]:not(.' + c + ")");
                    i.addClass(c).removeClass(l).find(".t4s-text-pr").text(p), i.find(".t4s-svg-pr-icon").html($), n && n.trigger("updateTooltip");
                }
                function T(e, i = !1) {
                    y &&
                        T4SThemeSP.getToFetchSection(null, "text", e.replace("view=compare", "section_id=compare-popup")).then((e) => {
                            "NVT_94" != e &&
                                (i && n && n.remove(),
                                T4SThemeSP.$appendComponent.after(e),
                                (n = t(".t4s_section__compare-popup")),
                                i &&
                                    setTimeout(function () {
                                        n.addClass(d);
                                    }, 20),
                                T4SThemeSP.Tooltip());
                        });
                }
                return {
                    init: function () {
                        isStorageSpdLocalAll &&
                            !i &&
                            (history.replaceState && b && window.history.replaceState({}, document.title, u + "/?view=compare"),
                            x(),
                            b &&
                                (window.isEmtyCompare && window.isComparePerformed
                                    ? localStorage.removeItem(s)
                                    : (window.countComparePage != e.length && window.isComparePerformed && (t(dt_count_wishlist).html(window.countComparePage), localStorage.setItem(t4s_wis, window.listIDPrs)),
                                      !window.isEmtyCompare || window.isComparePerformed || "" == e.toString() || IsDesignMode || (window.location.href = g))),
                            o.on("click", a + "." + c, function (t) {
                                t.preventDefault(), t.stopPropagation(), y ? n.addClass(d) : (window.location.href = g);
                            }),
                            o.on("click", "[data-link-compare]", function (t) {
                                t.preventDefault(), (window.location.href = g);
                            }),
                            o.on("click", "[data-clear-compare]", function (i) {
                                i.preventDefault(), n.removeClass(d);
                                let o = e.length;
                                for (let l = 0; l < o; l++) {
                                    let p = e[l].replace("id:", "");
                                    t(a + '[data-id="' + p + '"]')
                                        .removeClass(c)
                                        .find(".t4s-text-pr")
                                        .text(f),
                                        t(a + '[data-id="' + p + '"]')
                                            .find(".t4s-svg-pr-icon")
                                            .html(v);
                                }
                                (e = []), localStorage.setItem(s, e.toString()), (m = 0), t(r).html(m), x();
                            }),
                            o.on("click", "[data-close-compare]", function (t) {
                                t.preventDefault(), n.removeClass(d);
                            }),
                            null != localStorage.getItem(s) && "" != e.toString() && T(g),
                            o.on("click", a + ":not(." + c + ")", function (e) {
                                e.preventDefault(), e.stopPropagation();
                                var n = t(this),
                                    i = n.data("id") || "",
                                    o = "id:" + i,
                                    d = localStorage.getItem(s),
                                    p = !1;
                                if ("" != i) {
                                    if ((n.addClass(l), null != d && d.length > 0)) (u = d.split(",")).unshift(o);
                                    else {
                                        var u = [];
                                        u.unshift(o);
                                    }
                                    if (((u = u.filter(w)).length > 6 && ((u = u.splice(0, 6)), (p = !0)), localStorage.setItem(s, u.toString()), (m = u.length), p)) {
                                        var h = t(a + c);
                                        h.removeClass(c).find(".t4s-text-pr").text(f), h.find(".t4s-svg-pr-icon").html(v), C();
                                    } else _(i, n);
                                    t(r).html(m), x(), T(g, !0), b && (window.location.href = g);
                                }
                            }),
                            o.on("click", "[data-remove-compare]", function (i) {
                                i.preventDefault(), i.stopPropagation();
                                var o = t(this),
                                    p = o.data("id"),
                                    u = "id:" + p,
                                    h = localStorage.getItem(s);
                                o.addClass(l);
                                var $ = (e = h.split(",")).indexOf(u);
                                $ > -1 ? (e = e.splice(0, 7)).splice($, 1) : (e = e.splice(0, 6)),
                                    localStorage.setItem(s, e.toString()),
                                    o.removeClass(l),
                                    o.trigger("destroyTooltip"),
                                    t(".t4s_compare_id_" + p).remove(),
                                    t(a + '[data-id="' + p + '"]')
                                        .removeClass(c)
                                        .find(".t4s-text-pr")
                                        .text(f),
                                    t(a + '[data-id="' + p + '"]')
                                        .find(".t4s-svg-pr-icon")
                                        .html(v),
                                    (m = e.length),
                                    t(r).html(m),
                                    x(),
                                    b && "" == e.toString() && (t(".t4s_compare_table").fadeTo(300, 0), (window.location.href = g)),
                                    0 == m && y && n.removeClass(d);
                            }));
                    },
                    updateAll: C,
                };
            })()),
            (T4SThemeSP.Wishlist = (function () {
                var e = T4Sconfigs.wishlist_mode,
                    i = "2" == T4Sconfigs.wis_atc_added,
                    a = "1" == e,
                    r = "2" == e,
                    s = !(a || r),
                    l = "data-action-wishlist",
                    c = "[" + l + "]",
                    d = "data-remove-wishlist",
                    p = "[" + d + "]",
                    f = "[data-count-wishlist]",
                    m = "t4s_wis",
                    h = "is--pe-none",
                    g = "is--added",
                    v = T4SProductStrings.browse_wishlist,
                    $ = T4SProductStrings.remove_wishlist,
                    y = T4SProductStrings.add_to_wishlist,
                    b = i ? $ : v,
                    w = 0,
                    x = u + "/?view=wishlist&type=product&options[unavailable_products]=last&q=",
                    C = "",
                    _ = "",
                    T = T4Sconfigs.wis_icon,
                    k = T4Sconfigs.wis_icon_remove,
                    I = T4Sconfigs.wis_icon_added,
                    D = "is--loading",
                    P = "/tools/the4/wishlist",
                    S = "",
                    E = window.isPageWishlist;
                if (r) {
                    var A = t("#wis_t4s_list").html() || "";
                    S = A.length > 0 ? A.split(" ") : [];
                }
                function R(t, e, n) {
                    return n.indexOf(t) === e;
                }
                function L(e) {
                    var n = e.data("id"),
                        i = "id:" + n,
                        a = localStorage.getItem(m);
                    e.addClass(h);
                    var o = (_ = a.split(",")).indexOf(i);
                    o > -1 ? (_ = _.splice(0, 51)).splice(o, 1) : (_ = _.splice(0, 50)), localStorage.setItem(m, _.toString()), e.removeClass(h), e.trigger("destroyTooltip");
                    var r = t(".t4s-products-wishlist .t4s-products");
                    if (r.length > 0) {
                        let s = e.closest(".t4s-product");
                        (s = s[0] ? s : t(`[data-remove-wishlist][data-id="${n}"]`).closest(".t4s-product")), r.hasClass("isotopet4s-enabled") ? r.isotopet4s("remove", s[0]).isotopet4s("layout") : s.remove();
                    }
                    t(c + '[data-id="' + n + '"]')
                        .removeClass(g)
                        .find(".t4s-text-pr")
                        .text(y),
                        t(c + '[data-id="' + n + '"]')
                            .find(".t4s-svg-pr-icon")
                            .html(T),
                        (w = _.length),
                        t(f).html(w),
                        N(),
                        E && "" == _.toString() && (t(".t4s-products-wishlist").fadeTo(300, 0), (window.location.href = C));
                }
                function O(e) {
                    var n = e.attr("data-id") || "",
                        i = e.attr("data-handle") || "ntt4" + n;
                    e.addClass(D + " " + h),
                        fetch(P, { method: "DELETE", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ product_id: n, product_handle: i, action: "add", _method: "DELETE" }) })
                            .then(function (t) {
                                return t.json();
                            })
                            .then(function (i) {
                                if ("success" == i.status) {
                                    Array.isArray((S = _ = JSON.parse(i.response.metafield.value).the4_ids)) || (S = S.split(",")), e.trigger("destroyTooltip");
                                    var a = t(".t4s-products-wishlist .t4s-products");
                                    if (a.length > 0) {
                                        let o = e.closest(".t4s-product");
                                        (o = o[0] ? o : t(`[data-remove-wishlist][data-id="${n}"]`).closest(".t4s-product")), a.hasClass("isotopet4s-enabled") ? a.isotopet4s("remove", o[0]).isotopet4s("layout") : o.remove();
                                    }
                                    t(c + '[data-id="' + n + '"]')
                                        .removeClass(g)
                                        .find(".t4s-text-pr")
                                        .text(y),
                                        t(c + '[data-id="' + n + '"]')
                                            .find(".t4s-svg-pr-icon")
                                            .html(T),
                                        (w = S.length),
                                        t(f).html(w),
                                        F(),
                                        E && "" == _.toString() && (t(".t4s-products-wishlist").fadeTo(300, 0), (window.location.href = x));
                                } else console.error(i.message || "Unknow error");
                            })
                            .catch(function (t) {
                                console.log("Error: " + t);
                            })
                            .finally(() => {
                                e.removeClass(D + " " + h);
                            });
                }
                function N() {
                    var t = localStorage.getItem(m);
                    null != t && ((_ = t.split(",")), (C = x + encodeURI(t.replace(/,/g, " OR "))), (T4SThemeSP.linkWishlist = C), n.trigger("update:mini_cart:wishlist"));
                }
                function F() {
                    0 != (_ = S).length && ((C = x + encodeURI("id:" + _.join(" OR id:"))), (T4SThemeSP.linkWishlist = C), n.trigger("update:mini_cart:wishlist"));
                }
                function M() {
                    if (!((!isStorageSpdLocalAll && a) || s)) {
                        if (a) {
                            var e = localStorage.getItem(m);
                            if (null == e) return;
                            (_ = e.replace(/id:/g, "").split(",")), (w = "" == e ? 0 : _.length);
                        } else {
                            if ("" == (_ = S).toString()) return;
                            w = _.length;
                        }
                        if (
                            (_.forEach(function (t, e) {
                                U(t.replace("id:", ""));
                            }),
                            E)
                        ) {
                            var n = t(".t4s-products-wishlist " + c);
                            n.removeClass(g).removeAttr(l, "").attr(d, "").find(".t4s-text-pr").html($), n.find(".t4s-svg-pr-icon").html(k);
                        }
                        t(f).html(w || window.countWishlistPage);
                    }
                }
                function U(e, n) {
                    var i = t(c + '[data-id="' + e + '"]:not(.' + g + ")");
                    i.addClass(g).removeClass(h).find(".t4s-text-pr").text(b), i.find(".t4s-svg-pr-icon").html(I), n && i.trigger("updateTooltip");
                }
                return {
                    init: function () {
                        (!isStorageSpdLocalAll && a) ||
                            s ||
                            (history.replaceState && E && window.history.replaceState({}, document.title, u + "/?view=wishlist"),
                            a ? N() : F(),
                            E &&
                                (window.isEmtyWishlist && window.isWishlistPerformed
                                    ? localStorage.removeItem(m)
                                    : (window.countWishlistPage != _.length && window.isWishlistPerformed && (t(f).html(window.countWishlistPage), localStorage.setItem(m, window.listIDPrs)),
                                      !window.isEmtyWishlist || window.isWishlistPerformed || "" == _.toString() || IsDesignMode || (window.location.href = C))),
                            o.on("click", c + "." + g, function (e) {
                                e.preventDefault(), e.stopPropagation(), i ? (a ? L(t(this)) : O(t(this))) : (window.location.href = C);
                            }),
                            o.on("click", "[data-link-wishlist]", function (t) {
                                0 != C.length && (t.preventDefault(), (window.location.href = C));
                            }),
                            o.on("click", c + ":not(." + g + ")", function (e) {
                                var n, i, o;
                                e.preventDefault(),
                                    e.stopPropagation(),
                                    a
                                        ? (function (e) {
                                              var n = e.data("id") || "",
                                                  i = "id:" + n,
                                                  a = localStorage.getItem(m),
                                                  o = !1;
                                              if ("" != n) {
                                                  if ((e.addClass(h), null != a && a.length > 0)) (r = a.split(",")).unshift(i);
                                                  else {
                                                      var r = [];
                                                      r.unshift(i);
                                                  }
                                                  if (((r = r.filter(R)).length > 50 && ((r = r.splice(0, 50)), (o = !0)), localStorage.setItem(m, r.toString()), (w = r.length), o)) {
                                                      var s = t(c + g);
                                                      s.removeClass(g).find(".t4s-text-pr").text(y), s.find(".t4s-svg-pr-icon").html(T), M();
                                                  } else U(n, e);
                                                  t(f).html(w), N(), E && (window.location.href = C);
                                              }
                                          })(t(this))
                                        : ((i = (n = t(this)).attr("data-id") || ""),
                                          (o = n.attr("data-handle") || "ntt4" + i),
                                          "" != i &&
                                              (n.addClass(D + " " + h),
                                              fetch(P, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ product_id: i, product_handle: o, action: "add" }) })
                                                  .then(function (t) {
                                                      return t.json();
                                                  })
                                                  .then(function (e) {
                                                      "success" == e.status
                                                          ? (Array.isArray((S = JSON.parse(e.response.metafield.value).the4_ids)) || (S = S.split(",")), U(i), (w = S.length), t(f).html(w), F(), E && (window.location.href = C))
                                                          : console.error(e.message || "Unknow error");
                                                  })
                                                  .catch(function (t) {
                                                      console.log("Error: " + t);
                                                  })
                                                  .finally(() => {
                                                      n.removeClass(D + " " + h);
                                                  })));
                            }),
                            o.on("click", p, function (e) {
                                e.preventDefault(), e.stopPropagation(), a ? L(t(this)) : O(t(this));
                            }));
                    },
                    updateAll: M,
                };
            })());
        let A = location.search.indexOf("customer_posted=true") > -1 || location.search.indexOf("newsletter&form_type=customer") > -1;
        (T4SThemeSP.PopupPro = (function () {
            var i = s.mfp_close,
                a = (s.mfp_loading, T4Sconfigs.theme),
                r = "open.popup",
                l = "close.popup",
                c = "is--loaded",
                d = { click: "click.age", popup: "#t4s-popup__age", CookiesName: `${a}_age_verify` },
                p = { mouseleave: "mouseleave.exit", click: "click.exit", popup: "#t4s-popup__exit", CookiesName: `${a}_exit` },
                u = { scroll: "scroll.newsletter", click: "click.newsletter", popup: "#t4s-popup__newsletter", CookiesName: `${a}_newsletter` },
                f = { popup: "#t4s-popup__cookies-law", click: "click.cookies" },
                m = !0,
                h = { popup: "#t4s-popup__sales-tmp", close: "[data-close-sale]" };
            function g() {
                t.magnificPopupT4s.open({
                    items: { src: d.popup },
                    type: "inline",
                    closeOnBgClick: !1,
                    closeBtnInside: !1,
                    showCloseBtn: !1,
                    enableEscapeKey: !1,
                    removalDelay: 500,
                    tClose: i,
                    callbacks: {
                        beforeOpen: function () {
                            this.st.mainClass = "mfp-move-horizontal t4s-age_pp_wrapper";
                        },
                        open: function () {
                            d.$popup.find(".t4s-age_verify_allowed").on(d.click, function () {
                                if (d.date_of_birth) {
                                    var e = parseInt(t("#ageyear").val()),
                                        n = parseInt(t("#agemonth").val()),
                                        i = parseInt(t("#ageday").val()),
                                        a = new Date(e + d.age_limit, n, i);
                                    new Date().getTime() - a.getTime() < 0
                                        ? (d.$popup.addClass("t4s-animated t4s-shake"),
                                          window.setTimeout(function () {
                                              d.$popup.removeClass("t4s-animated t4s-shake");
                                          }, 1e3))
                                        : (CookiesT4.set(d.CookiesName, "confirmed", { expires: parseInt(d.day_next), path: "/" }), t.magnificPopupT4s.close());
                                } else CookiesT4.set(d.CookiesName, "confirmed", { expires: parseInt(d.day_next), path: "/" }), t.magnificPopupT4s.close();
                            }),
                                d.$popup.find(".t4s-age_verify_forbidden").on(d.click, function () {
                                    d.$popup.addClass("active_forbidden");
                                });
                        },
                        beforeClose: function () {},
                        close: function () {
                            d.$popup.find(".t4s-age_verify_allowed, .t4s-age_verify_forbidden").off(d.click);
                        },
                    },
                });
            }
            function v() {
                t.magnificPopupT4s.open({
                    items: { src: p.popup },
                    type: "inline",
                    removalDelay: 500,
                    tClose: i,
                    callbacks: {
                        beforeOpen: function () {
                            this.st.mainClass = "mfp-move-horizontal t4s-exit_pp_wrapper";
                        },
                        open: function () {
                            if ((t(".t4s-exit_pp_wrapper .t4s-product").length > 0 && T4SThemeSP.reinitProductGridItem(), t(".t4s-exit_pp_wrapper .flickityt4s").length > 0)) {
                                var e = t(".t4s-exit_pp_wrapper .flickityt4s")[0];
                                e.flickityt4s = new T4SThemeSP.Carousel(e);
                            }
                            o.trigger("t4s:hideTooltip"), o.trigger("currency:update");
                        },
                        beforeClose: function () {},
                        close: function () {
                            n.off(p.mouseleave), CookiesT4.set(p.CookiesName, "shown", { expires: p.day_next, path: "/" });
                        },
                    },
                });
            }
            function $() {
                t.magnificPopupT4s.open({
                    items: { src: u.popup },
                    type: "inline",
                    removalDelay: 500,
                    tClose: i,
                    callbacks: {
                        beforeOpen: function () {
                            this.st.mainClass = "mfp-move-horizontal t4s-newsletter_pp_wrapper";
                        },
                        open: function () {
                            o.on("mail.subscribe.success", function (t) {
                                CookiesT4.set(u.CookiesName, "shown", { expires: u.day_next, path: "/" });
                            });
                        },
                        beforeClose: function () {
                            t("[data-checked-newsletter]:checked").length > 0 && CookiesT4.set(u.CookiesName, "shown", { expires: u.day_next, path: "/" });
                        },
                        close: function () {},
                    },
                });
            }
            function y() {
                f.$popup.removeClass("on--hide").addClass("on--show"),
                    f.$popup.on(f.click, ".t4s-pp_cookies__accept-btn", function (t) {
                        t.preventDefault(),
                            window.Shopify.customerPrivacy.setTrackingConsent(!0, w),
                            document.addEventListener("trackingConsentAccepted", function () {
                                CookiesT4.set(f.CookiesName, "accepted", { expires: f.day_next, path: "/" });
                            }),
                            m && CookiesT4.set(f.CookiesName, "accepted", { expires: f.day_next, path: "/" });
                    }),
                    f.$popup.on(f.click, ".t4s-pp_cookies__decline-btn", function (t) {
                        t.preventDefault(), window.Shopify.customerPrivacy.setTrackingConsent(!1, w);
                    });
            }
            function w() {
                f.$popup.addClass("on--hide").removeClass("on--show");
            }
            function x(t, e) {
                return Math.floor(Math.random() * (e - t + 1)) + t;
            }
            function C(t) {
                var e = h.imageArray[t],
                    n = T4SThemeSP.Images.getNewImageUrl(e, 65),
                    i = T4SThemeSP.Images.getNewImageUrl(e, 130);
                h.$temp.find("[data-img-sale]").attr("src", n).attr("srcset", `${n} 1x, ${i} 2x`),
                    h.$temp.find("[data-title-sale]").text(h.titleArray[t]),
                    h.$temp.find("[data-href-sale]").attr("href", h.urlArray[t]),
                    h.$temp.find("[data-action-quickview]").attr("data-id", h.idArray[t]),
                    h.$temp.find("[data-location-sale]").text(h.locationArray[x(h.min, h.max2)]),
                    h.$temp.find("[data-ago-sale]").text(h.timeArray[x(h.min, h.max3)]);
            }
            function _() {
                o.trigger("t4s:hideTooltip"), h.$temp && h.$temp.removeClass(h.classUp).addClass(h.classDown).off("mouseenter mouseleave");
            }
            return function () {
                (f.$popup = t(f.popup)),
                    0 != f.$popup.length &&
                        ((f.stts = f.$popup.data("stt")),
                        (f.day_next = f.stts.day_next || 60),
                        (f.pp_version = f.stts.pp_version || 1994),
                        (f.CookiesName = `${a}_cookies_${f.pp_version}`),
                        (m = "1" == f.stts.show),
                        "accepted" == CookiesT4.get(f.CookiesName) ||
                            f.$popup.hasClass(c) ||
                            (f.$popup.addClass(c),
                            window.Shopify.loadFeatures([{ name: "consent-tracking-api", version: "0.1" }], function (e) {
                                if (e) throw e;
                                !(function () {
                                    let e = window.Shopify.customerPrivacy.userCanBeTracked(),
                                        n = window.Shopify.customerPrivacy.getTrackingConsent();
                                    ((!e && "no_interaction" === n) || IsDesignMode || m) &&
                                        (IsDesignMode
                                            ? f.$popup
                                                  .on(r, function () {
                                                      (f.$popup = t(f.popup)), y();
                                                  })
                                                  .on(l, function () {
                                                      w();
                                                  })
                                            : y());
                                })();
                            }))),
                    (function () {
                        u.$popup = t(u.popup);
                        var i = `${a}_shown_pages`,
                            o = CookiesT4.get(i);
                        if ((o || (o = 0), 0 == u.$popup.length)) return o++, void CookiesT4.set(i, o, { expires: 194, path: "/" });
                        if (
                            ((u.stts = u.$popup.data("stt")),
                            (u.pp_version = u.stts.pp_version),
                            (u.CookiesName = u.CookiesName + u.pp_version),
                            !((!IsDesignMode && "shown" == CookiesT4.get(u.CookiesName)) || (!u.stts.isMobile && 768 > e.width()) || u.$popup.hasClass(c)))
                        ) {
                            var s = `${a}_newsletter${"1" == u.pp_version ? "2" : "1"}`;
                            if (("shown" == CookiesT4.get(s) && CookiesT4.remove(s), u.$popup.addClass(c), (u.day_next = u.stts.day_next), (u.scroll_delay = u.stts.scroll_delay), (u.after = u.stts.after), A)) {
                                let d = u.$popup.find(".t4s-newsletter__success").length,
                                    p = u.$popup.find(".t4s-newsletter__error").length;
                                (d > 0 || p > 0) && (d > 0 && CookiesT4.set(u.CookiesName, "shown", { expires: u.day_next, path: "/" }), (u.after = "auto"), (u.stts.time_delay = 500));
                            }
                            if (IsDesignMode)
                                u.$popup
                                    .on(r, function () {
                                        t.magnificPopupT4s.instance.isOpen
                                            ? (t.magnificPopupT4s.close(),
                                              setTimeout(function () {
                                                  u.$popup.off(r).off(l),
                                                      (u.$popup = t(u.popup)),
                                                      $(),
                                                      u.$popup
                                                          .on(r, function () {
                                                              $();
                                                          })
                                                          .on(l, function () {
                                                              t.magnificPopupT4s.close();
                                                          });
                                              }, t.magnificPopupT4s.instance.st.removalDelay + 10))
                                            : $();
                                    })
                                    .on(l, function () {
                                        t.magnificPopupT4s.close();
                                    });
                            else {
                                var f = u.stts.number_pages;
                                if (o < f) return o++, CookiesT4.set(i, o, { expires: 194, path: "/" }), !1;
                                CookiesT4.set(i, f, { expires: 194, path: "/" }),
                                    "scroll" == u.after
                                        ? e.on(u.scroll, function () {
                                              n.scrollTop() < u.scroll_delay || ($(), e.off(u.scroll));
                                          })
                                        : setTimeout(function () {
                                              $();
                                          }, u.stts.time_delay),
                                    t("[data-triger-newsletter]").on("click", function (t) {
                                        t.preventDefault(), $();
                                    });
                            }
                        }
                    })(),
                    (p.$popup = t(p.popup)),
                    0 != p.$popup.length &&
                        ((!IsDesignMode && "shown" == CookiesT4.get(p.CookiesName)) ||
                            p.$popup.hasClass(c) ||
                            ((p.stts = p.$popup.data("stt")),
                            (p.day_next = p.stts.day_next),
                            p.$popup.addClass(c),
                            IsDesignMode
                                ? p.$popup
                                      .on(r, function () {
                                          t.magnificPopupT4s.instance.isOpen
                                              ? (t.magnificPopupT4s.close(),
                                                setTimeout(function () {
                                                    p.$popup.off(r).off(l),
                                                        (p.$popup = t(p.popup)),
                                                        v(),
                                                        p.$popup
                                                            .on(r, function () {
                                                                v();
                                                            })
                                                            .on(l, function () {
                                                                t.magnificPopupT4s.close();
                                                            });
                                                }, t.magnificPopupT4s.instance.st.removalDelay + 10))
                                              : v();
                                      })
                                      .on(l, function () {
                                          t.magnificPopupT4s.close();
                                      })
                                : n.on(p.mouseleave, function (e) {
                                      e.clientY < 60 && 0 == t(".mfp-content").length && v();
                                  }))),
                    (d.$popup = t(d.popup)),
                    0 != d.$popup.length &&
                        ((!IsDesignMode && "confirmed" == CookiesT4.get(d.CookiesName)) ||
                            d.$popup.hasClass(c) ||
                            ((d.stts = d.$popup.data("stt")),
                            (d.age_limit = d.stts.age_limit),
                            (d.date_of_birth = d.stts.date_of_birth),
                            (d.day_next = d.stts.day_next),
                            d.$popup.addClass(c),
                            IsDesignMode
                                ? d.$popup
                                      .on(r, function () {
                                          t.magnificPopupT4s.instance.isOpen
                                              ? (t.magnificPopupT4s.close(),
                                                setTimeout(function () {
                                                    d.$popup.off(r).off(l),
                                                        (d.$popup = t(d.popup)),
                                                        g(),
                                                        d.$popup
                                                            .on(r, function () {
                                                                g();
                                                            })
                                                            .on(l, function () {
                                                                t.magnificPopupT4s.close();
                                                            });
                                                }, t.magnificPopupT4s.instance.st.removalDelay + 10))
                                              : g();
                                      })
                                      .on(l, function () {
                                          t.magnificPopupT4s.close();
                                      })
                                : g())),
                    (function () {
                        if (((h.$popup = t(h.popup)), 0 == h.$popup.length)) return;
                        let n = t("#t4s-popup__sales-JSON");
                        (h.stts = b(n.html())),
                            n.remove(),
                            (!h.stts.isMobile && 768 > e.width()) ||
                                h.$popup.hasClass(c) ||
                                (h.$popup.addClass(c),
                                (h.temp = h.$popup.html()),
                                (h.starTime = h.stts.starTime * h.stts.starTimeUnit),
                                (h.stayTime = h.stts.stayTime * h.stts.stayTimeUnit),
                                (h.index = 0),
                                (h.limit = h.stts.limit),
                                (h.max = h.stts.max),
                                (h.min = 0),
                                (h.classUp = h.stts.classUp),
                                (h.classDown = h.stts.classDown[h.classUp]),
                                (h.ppType = h.stts.ppType),
                                (h.pauseOnHover = h.stts.pauseOnHover),
                                (h.resetOnHover = h.stts.resetOnHover),
                                (h.idArray = h.stts.idArray),
                                (h.titleArray = h.stts.titleArray),
                                (h.urlArray = h.stts.urlArray),
                                (h.locationArray = h.stts.locationArray),
                                (h.timeArray = h.stts.timeArray),
                                (h.imageArray = h.stts.imageArray),
                                (h.max = h.urlArray.length - 1),
                                (h.max2 = h.locationArray.length - 1),
                                (h.max3 = h.timeArray.length - 1),
                                h.starTimeout,
                                h.stayTimeout,
                                (h.time = {}),
                                IsDesignMode
                                    ? (T4SThemeSP.$appendComponent.after(h.temp),
                                      (h.$temp = t(".t4s-popup__sales")),
                                      h.$temp.hide(),
                                      T4SThemeSP.Tooltip(),
                                      t(h.close).on("click", function (t) {
                                          t.preventDefault(), _();
                                      }),
                                      h.$popup
                                          .on(r, function () {
                                              h.$temp.show(), h.$temp.addClass(h.classUp).removeClass(h.classDown);
                                          })
                                          .on(l, function () {
                                              _();
                                          }))
                                    : (h.$popup.remove(),
                                      (function e() {
                                          _(),
                                              (h.starTimeout = setTimeout(function () {
                                                  h.$temp && h.$temp.remove(),
                                                      T4SThemeSP.$appendComponent.after(h.temp),
                                                      T4SThemeSP.Tooltip(),
                                                      (h.$temp = t(".t4s-popup__sales")),
                                                      "1" == h.ppType ? (C(h.index), ++h.index, h.index > h.max && (h.index = 0)) : C(x(h.min, h.max)),
                                                      (h.time.START = new Date().getTime()),
                                                      (h.time.END = h.time.START + h.stayTime),
                                                      (h.stayTimeout = setTimeout(function () {
                                                          clearTimeout(h.stayTimeout), e();
                                                      }, h.stayTime)),
                                                      (h.$progressbarSpan = t(".t4s-pp-slpr-progressbar>span")),
                                                      h.pauseOnHover &&
                                                          h.$temp
                                                              .on("mouseenter", function (t) {
                                                                  h.resetOnHover ? h.$progressbarSpan.css("animation-name", "none") : (h.time.REMAINING = h.time.END - new Date().getTime()), clearTimeout(h.stayTimeout);
                                                              })
                                                              .on("mouseleave", function (t) {
                                                                  h.resetOnHover ? ((h.time.REMAINING = h.stayTime), h.$progressbarSpan.css("animation-name", "t4s-ani-w")) : (h.time.END = new Date().getTime() + h.time.REMAINING),
                                                                      (h.stayTimeout = setTimeout(function () {
                                                                          e();
                                                                      }, h.time.REMAINING));
                                                              }),
                                                      h.$temp.find(h.close).on("click", function (t) {
                                                          t.preventDefault(), _(), o.trigger("t4s:hideTooltip"), h.$temp.off("mouseenter mouseleave"), clearTimeout(h.stayTimeout), clearTimeout(h.starTimeout);
                                                      });
                                              }, h.starTime));
                                      })()));
                    })();
            };
        })()),
            (T4SThemeSP.PopupFetch = function () {
                let t = T4Srequest.path,
                    e = ("/" != t ? t : "") + "/?section_id=popups";
                A && (e = e + "&" + location.href.split("/?")[1]),
                    T4SThemeSP.getToFetchSection(null, "text", e).then((t) => {
                        "NVT_94" != t && (T4SThemeSP.$appendComponent.after(t), T4SThemeSP.PopupPro(), T4SThemeSP.PlatFormMail(), T4SThemeSP.PopupMFP());
                    });
            }),
            (T4SThemeSP.PlatFormMail =
                ((R = { loading: "is--loading", enabled: "is--enabled", errorCheckbox: "is--error-checkbox", errorEmail: "is--error-email" }),
                (L = { klaviyo: "[data-t4s-klaviyo-submit]" }),
                (O = { click: "click.mail", keyup: "keyup.mail" }),
                (N = "[data-agreeMail-checkbox]"),
                function () {
                    "4" == f &&
                        t(`[data-t4s-mailChimp-ajax]:not(.${R.enabled})`)
                            .addClass(R.enabled)
                            .submit(function (e) {
                                e.preventDefault();
                                var n = t(this),
                                    i = n.find("[data-new-response-form]"),
                                    a = n.find("[data-t4s-mailChimp-submit]"),
                                    r = i.find("[data-new-response-success]"),
                                    s = i.find("[data-new-response-error]");
                                a.addClass(R.loading),
                                    t.ajax({
                                        type: "GET",
                                        url: n.attr("action"),
                                        data: n.serialize(),
                                        cache: !1,
                                        dataType: "jsonp",
                                        jsonp: "c",
                                        contentType: "application/json; charset=utf-8",
                                        error: function (t) {
                                            a.removeClass(R.loading);
                                            try {
                                                var e = t.replace("0 - ", "").replace("1 - ", "").replace("2 - ", "");
                                                s.html(e).slideDown(100);
                                            } catch (n) {}
                                        },
                                        success: function (t) {
                                            a.removeClass(R.loading);
                                            try {
                                                var e = t.msg.replace("0 - ", "").replace("1 - ", "").replace("2 - ", "");
                                                "success" != t.result ? (r.slideUp(100), s.html(e).slideDown(100)) : (o.trigger("mail.subscribe.success"), s.slideUp(100), r.slideDown(100));
                                            } catch (n) {}
                                        },
                                    });
                            }),
                        "3" == f &&
                            $script("//www.klaviyo.com/media/js/public/klaviyo_subscribe.js", function () {
                                t.each(t(`[data-t4s-klaviyo-ajax]:not(.${R.enabled})`), function () {
                                    var e = t(this),
                                        n = e.attr("data-brand") || "Kalles Klaviyo";
                                    KlaviyoSubscribe.attachToForms("#" + e.attr("id"), {
                                        custom_success_message: !0,
                                        extra_properties: { $source: "Newsletter Popup", Brand: n },
                                        success: function (t) {
                                            o.trigger("mail.subscribe.success"), t.find(L.klaviyo).removeClass(R.loading);
                                        },
                                    }),
                                        e.addClass(R.enabled).submit(function (e) {
                                            t(this).find(L.klaviyo).addClass(R.loading);
                                        });
                                }),
                                    o.on("klaviyo.subscribe.success", function (t) {
                                        o.trigger("mail.subscribe.success");
                                    }),
                                    o.on("klaviyo.subscribe.success klaviyo.subscribe.error", function (e) {
                                        t(e.target).find(L.klaviyo).removeClass(R.loading);
                                    });
                            }),
                        0 != t(N).length &&
                            (t("[data-agreeMail-btn]")
                                .off(O.click)
                                .on(O.click, function (e) {
                                    var n = t(this).closest("form");
                                    n.find(`[type="checkbox"]${N}`).is(":checked") || (e.preventDefault(), e.stopPropagation(), n.addClass(R.errorCheckbox), n.find('[type="email"]').val().length < 1 && n.addClass(R.errorEmail));
                                }),
                            t(N)
                                .off(O.click)
                                .on(O.click, function (e) {
                                    t(this).is(":checked") && t(this).closest("form").removeClass(R.errorCheckbox);
                                }),
                            t('[data-form-mail-agree] [type="email"]')
                                .off(O.keyup)
                                .on(O.keyup, function (e) {
                                    var n = t(this).closest("form");
                                    t(this).val().length < 1 ? n.addClass(R.errorEmail) : n.removeClass(R.errorEmail);
                                })),
                        "?contact%5Btags%5D=newsletter&form_type=customer" == location.search && t("[data-new-response-form]").html(`<div class="t4s-newsletter__error">${s.error_exist}</div>`).slideDown(100);
                }));
        var R,
            L,
            O,
            N,
            F,
            M,
            U,
            B = (function () {
                var e = "[data-groups-pr-item]",
                    n = "change.groups",
                    i = "is--checked";
                function a(n) {
                    (this.$form = t(n)), (this.$totalPrice = this.$form.find("[data-groups-total-price]")), (this.ArrayPrice = []), (this.ArrayComparePrice = []);
                    let i = this;
                    this.$form.find(e).each(function (t) {
                        i._updateItemPrice(this, t);
                    }),
                        i._updateTotalPrice(),
                        i._eventListeners();
                }
                return (
                    (a.prototype = Object.assign({}, a.prototype, {
                        _eventListeners: function () {
                            let a = this;
                            this.$form.on(n, "select[data-groups-pr-sl]", function () {
                                a._updateItem(this);
                            }),
                                this.$form.on(n, "[data-groups-pr-ck]", function () {
                                    let n = t(this).closest(e),
                                        o = n.index(),
                                        r = a.$form.find(`[data-groups-img="${o}"]`),
                                        s = n.find('[name*="items[]"]');
                                    this.checked
                                        ? (n.addClass(i), a._updateItemPrice(n, o), r.fadeIn(300), s.prop("disabled", !1))
                                        : (n.removeClass(i), (a.ArrayPrice[o] = 0), (a.ArrayComparePrice[o] = 0), r.fadeOut(300), s.prop("disabled", !0)),
                                        a._updateTotalPrice();
                                }),
                                this.$form.on(n, "[data-groups-qty-value]", function () {
                                    let n = t(this).closest(e),
                                        i = n.index();
                                    a._updateItemPrice(n[0], i), a._updateTotalPrice();
                                });
                        },
                        _updateItemPrice: function (e, n) {
                            let i = t(e),
                                a = i.find("[data-groups-pr-sl]"),
                                o = parseInt(i.find("[data-groups-qty-value]").val()),
                                r = parseInt(a.attr("data-price")),
                                s = parseInt(a.attr("data-cpprice"));
                            (r *= o), (s *= o), (this.ArrayPrice[n] = r), (this.ArrayComparePrice[n] = s > r ? s : r);
                        },
                        _updateItem: function (n) {
                            let i = t(n),
                                a = i.find(":selected"),
                                o = i.closest(e),
                                r = o.data("index"),
                                s = void 0 === r ? o.index() : r,
                                l = a.data("img"),
                                c = a.data("max"),
                                d = o.find("[data-groups-qty-value]"),
                                p = d.val(),
                                u = this.$form.find(`[data-groups-img="${s}"] img`),
                                f = parseInt(a.data("price")),
                                m = parseInt(a.data("cpprice")),
                                h = o.find("[data-groups-item-price]");
                            d.attr("max", c),
                                u.attr("data-orginal") != l && u.attr({ "data-src": l, "data-orginal": l }).removeClass("lazyloadt4sed").addClass("lazyloadt4s"),
                                (m = m > f ? m : f),
                                (f *= p),
                                (m *= p),
                                (this.ArrayPrice[s] == f && this.ArrayComparePrice[s] == m) ||
                                    (i.attr({ "data-price": f, "data-cpprice": m }),
                                    (this.ArrayPrice[s] = f),
                                    (this.ArrayComparePrice[s] = m),
                                    m > f ? h.html("<del>" + T4SThemeSP.Currency.formatMoney(m) + "</del> <ins>" + T4SThemeSP.Currency.formatMoney(f) + "</ins>") : h.html(T4SThemeSP.Currency.formatMoney(f)),
                                    this._updateTotalPrice());
                        },
                        _updateTotalPrice: function () {
                            let t = this.ArrayPrice.reduce((t, e) => t + e, 0),
                                e = this.ArrayComparePrice.reduce((t, e) => t + e, 0);
                            e > t ? this.$totalPrice.html("<del>" + T4SThemeSP.Currency.formatMoney(e) + "</del> <ins>" + T4SThemeSP.Currency.formatMoney(t) + "</ins>") : this.$totalPrice.html(T4SThemeSP.Currency.formatMoney(t)),
                                o.trigger("currency:update");
                        },
                    })),
                    a
                );
            })();
        (T4SThemeSP.initGroupsProduct = function () {
            0 != t("[data-groups-pr-form]:not(.is--enabled)").length &&
                t("[data-groups-pr-form]:not(.is--enabled)").each(function (e) {
                    t(this).addClass("is--enabled"), new B(this);
                });
        }),
            (T4SThemeSP.goToID =
                ((U = (t("html,body"), 0)),
                function () {
                    0 != (F = t("[data-go-id]")).length &&
                        F.click(function (e) {
                            e.preventDefault(), e.stopPropagation();
                            let n = t(this),
                                i = n.data("go-id") || n.attr("href"),
                                a = t(i),
                                o = n.data("offset") || 100;
                            0 != a.length &&
                                (a.is(":hidden") && (t(`[data-t4s-tab-item][href="${i}"]:visible`).trigger("click"), (U = 100)),
                                clearTimeout(M),
                                (M = setTimeout(function () {
                                    window.scrollTo({ behavior: "smooth", top: a.offset().top - o });
                                }, U)));
                        });
                })),
            (T4SThemeSP.CanvasConfetti = (function () {
                var t,
                    n,
                    i,
                    a,
                    o,
                    r,
                    s = window.innerWidth < 988 ? 75 : 150,
                    l = [],
                    c = 0,
                    d = !0,
                    p = !0,
                    u = !1,
                    f = {
                        colorOptions: ["DodgerBlue", "OliveDrab", "Gold", "pink", "SlateBlue", "lightblue", "Violet", "PaleGreen", "SteelBlue", "SandyBrown", "Chocolate", "Crimson"],
                        colorIndex: 0,
                        colorIncrementer: 0,
                        colorThreshold: 10,
                        getColor: function () {
                            return (
                                this.colorIncrementer >= 10 && ((this.colorIncrementer = 0), this.colorIndex++, this.colorIndex >= this.colorOptions.length && (this.colorIndex = 0)),
                                this.colorIncrementer++,
                                this.colorOptions[this.colorIndex]
                            );
                        },
                    };
                function m(t) {
                    var e, o;
                    (this.x = Math.random() * i),
                        (this.y = Math.random() * a - a),
                        (this.r = Math.floor(Math.random() * ((o = 30) - (e = 10) + 1) + e)),
                        (this.d = Math.random() * s + 10),
                        (this.color = t),
                        (this.tilt = Math.floor(10 * Math.random()) - 10),
                        (this.tiltAngleIncremental = 0.07 * Math.random() + 0.05),
                        (this.tiltAngle = 0),
                        (this.draw = function () {
                            return n.beginPath(), (n.lineWidth = this.r / 2), (n.strokeStyle = this.color), n.moveTo(this.x + this.tilt + this.r / 4, this.y), n.lineTo(this.x + this.tilt, this.y + this.tilt + this.r / 4), n.stroke();
                        });
                }
                function h(t, e) {
                    (t.x > i + 20 || t.x < -20 || t.y > a) &&
                        d &&
                        (e % 5 > 0 || e % 2 == 0
                            ? v(t, Math.random() * i, -10, Math.floor(10 * Math.random()) - 10)
                            : Math.sin(c) > 0
                            ? v(t, -5, Math.random() * a, Math.floor(10 * Math.random()) - 10)
                            : v(t, i + 5, Math.random() * a, Math.floor(10 * Math.random()) - 10));
                }
                function g(t, e) {
                    (t.tiltAngle += t.tiltAngleIncremental), (t.y += (Math.cos(c + t.d) + 3 + t.r / 2) / 2), (t.x += Math.sin(c)), (t.tilt = 15 * Math.sin(t.tiltAngle - e / 3));
                }
                function v(t, e, n, i) {
                    (t.x = e), (t.y = n), (t.tilt = i);
                }
                function $() {
                    clearTimeout(o), clearTimeout(r);
                }
                function y() {
                    (p = !0), null != n && (n.clearRect(0, 0, i, a), (t.style.display = "none"));
                }
                return (
                    (window.requestAnimFrameT4 =
                        window.requestAnimationFrame ||
                        window.webkitRequestAnimationFrame ||
                        window.mozRequestAnimationFrame ||
                        window.oRequestAnimationFrame ||
                        window.msRequestAnimationFrame ||
                        function (t) {
                            return window.setTimeout(t, 1e3 / 60);
                        }),
                    function () {
                        if (u)
                            return (
                                $(),
                                y(),
                                (o = setTimeout(function () {
                                    (d = !0),
                                        (p = !1),
                                        (function () {
                                            (t.style.display = "block"), (l = []), (p = !1);
                                            for (var e = 0; e < s; e++) {
                                                var o = f.getColor();
                                                l.push(new m(o));
                                            }
                                            (i = window.innerWidth),
                                                (a = window.innerHeight),
                                                (t.width = i),
                                                (t.height = a),
                                                (function t() {
                                                    return p
                                                        ? null
                                                        : ((r = requestAnimFrameT4(t)),
                                                          (function () {
                                                              n.clearRect(0, 0, i, a);
                                                              for (var t, e = [], o = 0; o < s; o++) (t = o), e.push(l[t].draw());
                                                              return (
                                                                  (function () {
                                                                      var t,
                                                                          e = 0;
                                                                      c += 0.01;
                                                                      for (var n = 0; n < s; n++) {
                                                                          if (((t = l[n]), p)) return;
                                                                          !d && t.y < -15 ? (t.y = a + 100) : (g(t, n), t.y <= a && e++, h(t, n));
                                                                      }
                                                                      0 === e && y();
                                                                  })(),
                                                                  e
                                                              );
                                                          })());
                                                })();
                                        })();
                                }, 100)),
                                void setTimeout(function () {
                                    (d = !1), $();
                                }, 3500)
                            );
                        T4SThemeSP.$appendComponent.after('<canvas id="confettiCanvas" style="position:fixed;top:0;left:0;display:none;z-index:9999;pointer-events: none;"></canvas>'),
                            (n = (t = document.getElementById("confettiCanvas")).getContext("2d")),
                            (i = window.innerWidth),
                            (a = window.innerHeight),
                            (t.width = i),
                            (t.height = a),
                            e.resize(function () {
                                (i = window.innerWidth), (a = window.innerHeight), (t.width = i), (t.height = a);
                            }),
                            (u = !0);
                    }
                );
            })());
    })(jQuery_T4NT),
    jQuery_T4NT(document).ready(function () {
        T4SThemeSP.Hover(),
            T4SThemeSP.Drawer.init(),
            T4SThemeSP.Header.stickyInit(),
            T4SThemeSP.MobileNav(),
            T4SThemeSP.Cart.init(),
            T4SThemeSP.agreeForm(),
            T4SThemeSP.Login(),
            T4SThemeSP.Compare.init(),
            T4SThemeSP.Wishlist.init(),
            T4SThemeSP.recentlyViewed(),
            T4SThemeSP.productRecommendations(),
            T4SThemeSP.ProductItem.init(),
            T4SThemeSP.ProductItem.loadjsRevew(),
            T4SThemeSP.Tooltip(),
            T4SThemeSP.ProductItem.clickMoreSwatches(),
            T4SThemeSP.ProductItem.swatchesClickHover(),
            T4SThemeSP.ProductItem.resizeObserver(),
            T4SThemeSP.ProductItem.initQuickVS(),
            T4SThemeSP.RenderRefresh(),
            T4SThemeSP.ProductAjax.init(),
            T4SThemeSP._initBundlePrs(),
            T4SThemeSP.T4sQuantityAdjust(),
            T4SThemeSP.PhotoSwipe.gallery(),
            T4SThemeSP.PhotoSwipe.images(),
            T4SThemeSP.PhotoSwipe.image(),
            T4SThemeSP.Video.initPoster(),
            T4SThemeSP.initLoadMore(),
            (jQuery_T4NT(".t4s-section-main [data-ntajax-container]").length > 0 || IsDesignMode) && $script(T4Sconfigs.script7, "t4s:facets"),
            T4SThemeSP.instagram(),
            T4SThemeSP.sideBarInit(),
            T4SThemeSP.LookBook(),
            T4SThemeSP.initGroupsProduct(),
            IsDesignMode
                ? T4SThemeSP.PopupPro()
                : setTimeout(function () {
                      T4SThemeSP.PopupFetch();
                  }, 686),
            setTimeout(function () {
                T4SThemeSP.PlatFormMail(), T4SThemeSP.goToID();
            }, 500),
            T4SThemeSP.isHover && jQuery_T4NT("[data-zoom-options]").length > 0 && $script(T4Sconfigs.script5, "t4s:zoom"),
            document.addEventListener("theme:hover", function (t) {
                jQuery_T4NT("[data-zoom-options]").length > 0 && $script(T4Sconfigs.script5, "t4s:zoom");
            }),
            T4SThemeSP.BackToTop(),
            T4SThemeSP.Header.init(),
            T4SThemeSP.currencyForm(),
            "2" == T4Sconfigs.currency_type && $script(T4Sconfigs.script12a),
            "none" != T4Sconfigs.script11 && $script(T4Sconfigs.script11, "t4s:customjs");
    }),
    jQuery_T4NT(window).resize(function () {
        T4SThemeSP.ProductItem.recalculateSwatches(!0);
    });

cartGiftUpdate();

function cartGiftUpdate(o, n, a, s, l) {
    let trigger_price_1 = parseInt($("body").attr("trigger-price-1"));
    let gift_product_1 = $("body").attr("gift-product-1");
    let trigger_price_2 = parseInt($("body").attr("trigger-price-2"));
    let gift_product_2 = $("body").attr("gift-product-2");
    var current_product_array = [];
    var total_free_prod_count = 0;
    var current_path = window.location.pathname;
    var limited_col = '/collections/shop-1,/collections/products-shop-1,/collections/adnetwork-exclusive-offer';
    var limited_col_array = limited_col.split(',');

    var all_prod_to_remove = [];
    var all_prod_to_add = [];
    var show_confetti = false;

    const svgContainer = document.getElementById('confetti_svg');
    const svgContainer_outer = document.getElementById('confetti_svg_outer');
    let animItem = "";
    console.log("gifts", gift_product_1, gift_product_2)

    jQuery.getJSON('/cart.js', function(cart) {
        // for native cart gift functionality start =================
        if (gift_product_1 && trigger_price_1) {
            $.each(cart.items, function(index, value) {
                current_product_array.push(value.id.toString());
                if (value.final_line_price == 0 && value.original_line_price == 0) {
                    total_free_prod_count = total_free_prod_count + 1;
                }
            });
            let cart_count = cart.item_count - total_free_prod_count;
            let trigger_prod_count_1 = parseInt($("body").attr("free-gift-v1-trigger-count-1"));
            let trigger_prod_count_2 = parseInt($("body").attr("free-gift-v1-trigger-count-2"));
            let cart_total = cart.items_subtotal_price;

            if (trigger_prod_count_2 == 0) {
                var remove_prod_base_count = false;
                var add_prod_base_count = true;
            } else {
                if (cart_count < trigger_prod_count_2) {
                    var remove_prod_base_count = true;
                    var add_prod_base_count = false;
                } else {
                    var remove_prod_base_count = false;
                    var add_prod_base_count = true;
                }
            }

            if (cart_total == 0) {
                setTimeout(function() {
                    $("#t4s-mini_cart").removeClass("is--contentUpdate");
                    $("#t4s-mini_cart #all_cart_spin").attr("hidden", true);
                    $("#t4s-mini_cart #all_cart_spin #t4s_cart_spinner").attr("hidden", true);
                }, 2000);
            }

          if (limited_col_array.includes(current_path)) {
              
            if (cart_total <= trigger_price_1 * 100 || cart_count < trigger_prod_count_1) {
                if (gift_product_1 && trigger_price_1 && current_product_array.includes(gift_product_1)) {
                    if (all_prod_to_remove.indexOf(gift_product_1) < 0) {
                        all_prod_to_remove.push(gift_product_1);
                    }
                }
                if (gift_product_2 && trigger_price_2 && current_product_array.includes(gift_product_2)) {
                    if (all_prod_to_remove.indexOf(gift_product_2) < 0) {
                        all_prod_to_remove.push(gift_product_2);
                    }
                }
            } else {
                if (trigger_price_2 && gift_product_2) {
                    if ((cart_total <= trigger_price_2 * 100 || remove_prod_base_count) && cart_count >= trigger_prod_count_1) {
                        if (gift_product_1 && !(current_product_array.includes(gift_product_1))) {
                            if (gift_product_2 && current_product_array.includes(gift_product_2)) {
                                if (all_prod_to_remove.indexOf(gift_product_2) < 0) {
                                    all_prod_to_remove.push(gift_product_2);
                                }
                            }
                            if (all_prod_to_add.indexOf(gift_product_1) < 0) {
                                all_prod_to_add.push(gift_product_1);
                                show_confetti = true;
                            }
                        }
                    } else {
                        if (gift_product_2 && !current_product_array.includes(gift_product_2) && add_prod_base_count) {
                            if (gift_product_1 && current_product_array.includes(gift_product_1)) {
                                if (all_prod_to_remove.indexOf(gift_product_1) < 0) {
                                    all_prod_to_remove.push(gift_product_1);
                                }
                                if (all_prod_to_add.indexOf(gift_product_2) < 0) {
                                    all_prod_to_add.push(gift_product_2);
                                    show_confetti = true;
                                }
                            } else {
                                if (all_prod_to_add.indexOf(gift_product_2) < 0) {
                                    all_prod_to_add.push(gift_product_2);
                                    show_confetti = true;
                                }
                            }
                        }
                    }
                } else {
                    if (gift_product_1 && !(current_product_array.includes(gift_product_1))) {
                        if (all_prod_to_add.indexOf(gift_product_1) < 0) {
                            all_prod_to_add.push(gift_product_1);
                            show_confetti = true;
                        }
                    }
                }
            }
          }else{
                if (current_product_array.includes(gift_product_1)) {
                    if (all_prod_to_remove.indexOf(gift_product_1) < 0) {
                        all_prod_to_remove.push(gift_product_1);
                    }
                }
          }
        }
        // for native cart gift functionality end =================

        // for magic link functionality start =================

        var working_magic_key = getCookie("magic_key");
        console.log("magic", "working_magic_key", working_magic_key);
        if (working_magic_key) {
            var magic_link_type = $('#magic_link_wrap div[data-link-key="' + working_magic_key + '"]').attr("data-for");
            if (magic_link_type == "cart") {
                var magic_trigger_price = $('#magic_link_wrap div[data-link-key="' + working_magic_key + '"]').attr("data-trigger-price");
                var magic_gift_product = $('#magic_link_wrap div[data-link-key="' + working_magic_key + '"]').attr("data-gift-product");
                var current_product_array_all = [];
                console.log("magic", "magic_trigger_price", magic_trigger_price);
                console.log("magic", "magic_gift_product", magic_gift_product);
                $.each(cart.items, function(index, value) {
                    current_product_array_all.push(value.id.toString());
                });
                let cart_total = cart.items_subtotal_price / 100;
                if (cart_total > magic_trigger_price && !(current_product_array_all.includes(magic_gift_product))) {
                    if (all_prod_to_add.indexOf(magic_gift_product) < 0) {
                        all_prod_to_add.push(magic_gift_product);
                    }
                } else if (magic_trigger_price >= cart_total && current_product_array_all.includes(magic_gift_product)) {
                    if (all_prod_to_remove.indexOf(magic_gift_product) < 0) {
                        all_prod_to_remove.push(magic_gift_product);
                    }
                }
                console.log("magic", "cart ajax", current_product_array_all, "cart_total", cart_total);
            } else if (magic_link_type == "product") {
                var magic_trigger_product = $('#magic_link_wrap div[data-link-key="' + working_magic_key + '"]').attr("data-trigger-product");
                var magic_trigger_count = $('#magic_link_wrap div[data-link-key="' + working_magic_key + '"]').attr("data-trigger-count");
                var magic_gift_product = $('#magic_link_wrap div[data-link-key="' + working_magic_key + '"]').attr("data-gift-product");
                var current_product_array_all = [];
                var total_trigger_qty_in_cart = 0;
                console.log("magic", "magic_gift_product", magic_trigger_product, magic_trigger_count, magic_gift_product);

                $.each(cart.items, function(index, value) {
                    current_product_array_all.push(value.id.toString());
                    if (value.product_id.toString() == magic_trigger_product) {
                        total_trigger_qty_in_cart = total_trigger_qty_in_cart + value.quantity;
                    }
                });
                let cart_total = cart.items_subtotal_price / 100;
                if (total_trigger_qty_in_cart >= magic_trigger_count && !(current_product_array_all.includes(magic_gift_product))) {
                    if (all_prod_to_add.indexOf(magic_gift_product) < 0) {
                        all_prod_to_add.push(magic_gift_product);
                    }
                } else if (total_trigger_qty_in_cart < magic_trigger_count && current_product_array_all.includes(magic_gift_product)) {
                    if (all_prod_to_remove.indexOf(magic_gift_product) < 0) {
                        all_prod_to_remove.push(magic_gift_product);
                    }
                }
                console.log("magic", "cart ajax", current_product_array_all, "cart_total", cart_total);
            } else if (magic_link_type == "collection") {
                var magic_trigger_collection = $('#magic_link_wrap div[data-link-key="' + working_magic_key + '"]').attr("data-trigger-collection");
                var magic_trigger_count = $('#magic_link_wrap div[data-link-key="' + working_magic_key + '"]').attr("data-trigger-count");
                var magic_gift_product = $('#magic_link_wrap div[data-link-key="' + working_magic_key + '"]').attr("data-gift-product");
                var current_product_array_all = [];
                var trigger_collection_prod_array = magic_trigger_collection.split(',');
                var total_trigger_qty_in_cart = 0;
                console.log("magic", "magic_gift_product", magic_trigger_product, magic_trigger_count, magic_gift_product);
                $.each(cart.items, function(index, value) {
                    current_product_array_all.push(value.id.toString());
                    if (trigger_collection_prod_array.includes(value.product_id.toString())) {
                        total_trigger_qty_in_cart = total_trigger_qty_in_cart + value.quantity;
                    }
                });
                let cart_total = cart.items_subtotal_price / 100;
                if (total_trigger_qty_in_cart >= magic_trigger_count && !(current_product_array_all.includes(magic_gift_product))) {
                    if (all_prod_to_add.indexOf(magic_gift_product) < 0) {
                        all_prod_to_add.push(magic_gift_product);
                    }
                } else if (total_trigger_qty_in_cart < magic_trigger_count && current_product_array_all.includes(magic_gift_product)) {
                    if (all_prod_to_remove.indexOf(magic_gift_product) < 0) {
                        all_prod_to_remove.push(magic_gift_product);
                    }
                }
                console.log("magic", "cart ajax", current_product_array_all, "cart_total", cart_total);
            }
        }

        // for magic link functionality end =================

        var variantObject_final = {};

        $.each(all_prod_to_remove, function(index, free_gift_id) {
            variantObject_final[free_gift_id] = 0;
        });
        $.each(all_prod_to_add, function(index, free_gift_id) {
            variantObject_final[free_gift_id] = 1;
        });
        var jsonObjectFinal = {}
        jsonObjectFinal['updates'] = variantObject_final;

        console.log("jsonObjectFinal", jsonObjectFinal, Object.keys(variantObject_final).length);
        if (Object.keys(variantObject_final).length) {
            $.ajax({
                type: "post",
                url: "/cart/update.js",
                data: jsonObjectFinal,
                dataType: "json",
                success: function(data) {},
                complete: function() {
                    jQuery.getJSON('/cart.js', function(cart) {
                        let cartData = cart.items;
                        document.dispatchEvent(new CustomEvent('cart:build', {
                            bubbles: true
                        }));
                        document.dispatchEvent(new CustomEvent('cart:refresh:opend', {
                            bubbles: true,
                            detail: cartData
                        }));
                    });
                    setTimeout(function() {
                        $("#t4s-mini_cart").removeClass("is--contentUpdate");
                        $("#t4s-mini_cart #all_cart_spin").attr("hidden", true);
                        $("#t4s-mini_cart #all_cart_spin #t4s_cart_spinner").attr("hidden", true);

                        $("#t4s-mini_cart").removeClass("is--contentUpdate_new");
                        $("#t4s-mini_cart #all_cart_spin_new").attr("hidden", true);
                        $("#t4s-mini_cart #all_cart_spin_new #t4s_cart_spinner_new").attr("hidden", true);
                    }, 1500);

                    // if (show_confetti) {
                    //     if ($('#t4s-mini_cart[aria-hidden="false"]').length > 0) {
                    //         setTimeout(function() {
                    //             let animItem = bodymovin.loadAnimation({
                    //                 wrapper: svgContainer,
                    //                 animType: 'svg',
                    //                 loop: false,
                    //                 autoplay: false,
                    //                 path: 'https://assets2.lottiefiles.com/packages/lf20_u4yrau.json'
                    //             });

                    //             svgContainer.classList.remove('hide');
                    //             animItem.goToAndPlay(0, true);
                    //         }, 1500);
                    //     } else {
                    //         let animItem = bodymovin.loadAnimation({
                    //             wrapper: svgContainer_outer,
                    //             animType: 'svg',
                    //             loop: false,
                    //             autoplay: false,
                    //             path: 'https://assets2.lottiefiles.com/packages/lf20_u4yrau.json'
                    //         });

                    //         svgContainer_outer.classList.remove('hide');
                    //         animItem.goToAndPlay(0, true);
                    //     }
                    // }
                }
            });
        } else {
            $("#t4s-mini_cart").removeClass("is--contentUpdate");
            $("#t4s-mini_cart #all_cart_spin").attr("hidden", true);
            $("#t4s-mini_cart #all_cart_spin #t4s_cart_spinner").attr("hidden", true);

            $("#t4s-mini_cart").removeClass("is--contentUpdate_new");
            $("#t4s-mini_cart #all_cart_spin_new").attr("hidden", true);
            $("#t4s-mini_cart #all_cart_spin_new #t4s_cart_spinner_new").attr("hidden", true);
        }


    });

    if (animItem) {
        animItem.addEventListener('complete', () => {
            svgContainer.classList.add('hide');
            svgContainer_outer.classList.add('hide');
        })
    }
}

function add_free_gift_to_cart(add_prod_id) {
    console.log("11111........")
    $.ajax({
        type: 'POST',
        url: '/cart/add.js',
        dataType: 'json',
        data: {
            id: add_prod_id,
            quantity: 1
        },
        success: function(data) {},
        complete: function() {
            jQuery.getJSON('/cart.js', function(cart) {
                let cartData = cart.items;
                document.dispatchEvent(new CustomEvent('cart:build', {
                    bubbles: true
                }));
                document.dispatchEvent(new CustomEvent('cart:refresh:opend', {
                    bubbles: true,
                    detail: cartData
                }));
                setTimeout(function() {
                    $("#t4s-mini_cart").removeClass("is--contentUpdate");
                    $("#t4s-mini_cart #all_cart_spin").attr("hidden", true);
                    $("#t4s-mini_cart #all_cart_spin #t4s_cart_spinner").attr("hidden", true);
                    $("#t4s-mini_cart .free_gift_claim").hide();
                }, 900);
            });
        }
    });
}

function first_time_confeti() {
    jQuery.getJSON('/cart.js', function(cart) {
        let cartData = cart.item_count;
        if (cartData == 1) {
            const svgContainer_outer = document.getElementById('confetti_svg_outer');
            let animItem = bodymovin.loadAnimation({
                wrapper: svgContainer_outer,
                animType: 'svg',
                loop: false,
                autoplay: false,
                path: 'https://assets2.lottiefiles.com/packages/lf20_u4yrau.json'
            });

            svgContainer_outer.classList.remove('hide');
            animItem.goToAndPlay(0, true);
        }

    }, 500);
}

// function show_boubble() {
//   const svgContainer = document.getElementById('confetti_svg');
//   const svgContainer_outer = document.getElementById('confetti_svg_outer');
//   if ($('#t4s-mini_cart[aria-hidden="false"]').length > 0) {
//           let animItem = bodymovin.loadAnimation({
//               wrapper: svgContainer,
//               animType: 'svg',
//               loop: false,
//               autoplay: false,
//               path: 'https://lottie.host/cbbd1c49-dfad-4bb4-8fc5-dfd2fe92aac3/maDDQFJy0B.json'
//           });

//           svgContainer.classList.remove('hide');
//           animItem.goToAndPlay(0, true);
//   } else {
//       let animItem = bodymovin.loadAnimation({
//           wrapper: svgContainer_outer,
//           animType: 'svg',
//           loop: false,
//           autoplay: false,
//           path: 'https://lottie.host/cbbd1c49-dfad-4bb4-8fc5-dfd2fe92aac3/maDDQFJy0B.json'
//       });

//       svgContainer_outer.classList.remove('hide');
//       animItem.goToAndPlay(0, true);
//   }
// }

function viewCart() {

    window.trackMixpanelEvent("Viewed Cart", {
        "from": "view-cart-popup"
        // "total items": "{{ cart.item_count  }}",
        // "cart value": "{{ cart.total_price | money_without_currency }}",
    });

    mixpanel.track("Viewed Cart", {
      "total items": "{{ cart.item_count  }}",
      "cart value": "{{ cart.total_price | money_without_currency }}",
    });
}